(window._vfP=window._vfP||[]).push([[98],{1001:function(t,e){t.exports='<path fill-rule=evenodd d="M95 50c-2-3-3-7-1-11v-8c-1-2-3-4-6-5-4-1-7-4-7-8-1-3-2-6-5-7-2-2-5-2-8-1-4 1-8 0-10-3a9 9 0 0 0-15 0c-2 3-6 4-10 3-3-1-6-1-8 1-3 1-4 4-5 7 0 4-3 7-7 8-3 1-5 3-6 5v8c2 4 1 8-1 11a9 9 0 0 0 2 15c3 2 5 6 4 10 0 3 0 6 2 8s5 3 8 3c4 0 8 2 9 6a9 9 0 0 0 14 4c3-2 8-2 11 0a9 9 0 0 0 14-4c1-4 5-6 9-6 3 0 6-1 8-3s2-5 2-8c-1-4 1-8 4-10a9 9 0 0 0 2-15zM44 64l2 2 2-2 25-24-5-5-22 22-13-13-5 5 16 15z"/> '},1002:function(t,e,i){"use strict";var n=i(661);i.n(n).a},1003:function(t,e,i){"use strict";var n=i(662);i.n(n).a},1004:function(t,e,i){"use strict";var n=i(663);i.n(n).a},1005:function(t,e,i){"use strict";var n=i(664);i.n(n).a},1006:function(t,e,i){"use strict";var n=i(665);i.n(n).a},1008:function(t,e,i){"use strict";var n=i(667);i.n(n).a},1009:function(t,e){t.exports="<div class=vf-user-profile> <vf-profile-header :user=user></vf-profile-header> <vf-profile-user-details class=vf-user-profile__details :user=user v-if=isVisibleToCurrentUser></vf-profile-user-details> <vf-profile-overview v-if=isProfileActivityReady :user=user></vf-profile-overview> <vf-profile-activity v-if=isProfileActivityReady :user=user :is-current-user=isCurrentUser></vf-profile-activity> </div> "},1010:function(t,e,i){"use strict";var n=i(669);i.n(n).a},1011:function(t,e,i){"use strict";var n=i(670);i.n(n).a},1012:function(t,e){t.exports='<li class="vf-flex vf-centered"> <a class="vf-flex vf-centered labelled-icon" href=# @click.stop.prevent=onClick v-if=count.hasClickEvent> <component :is=getIconName class="vf-overview-icon vf-overview-link"></component> <strong class="vf-label vf-label-upper vf-primary-hoverable">{{ count.text }}</strong> </a> <div class="vf-flex vf-centered labelled-icon" v-else> <component :is=getIconName class=vf-overview-icon></component> <strong class="vf-label vf-label-upper vf-primary-hoverable">{{ count.text }}</strong> </div> </li> '},1013:function(t,e,i){"use strict";var n=i(671);i.n(n).a},1014:function(t,e){t.exports="<p :class=classes> <vf-exclamation-mark-icon class=vf-icon-medium></vf-exclamation-mark-icon> <span>{{ content }}</span> </p> "},1015:function(t,e){t.exports='<ul :class=classes v-if="media.length > 0"> <li v-for="(mediaItem, idx) in visibleMedia" v-if=mediaItem class=vf-media-gallery-item :key=mediaItem.id> <vf-media-thumbnail class="" :media=mediaItem></vf-media-thumbnail> <span v-if="count(idx) > 0" class="vf-js-anchor vf-gallery-link vf-flex vf-centered vf-li">+{{ count(idx) }}</span> </li> </ul> '},1016:function(t,e){t.exports="<vf-image v-bind=vfImageData> <vf-processing-icon v-if=isLoading circle=outline></vf-processing-icon> <span v-if=isLoading class=\"vf-label vf-label-heavy vf-label-upper vf-visibly-hidden-on-mobile\">{{ $i18n('media.processing') }}</span> </vf-image> "},1017:function(t,e,i){},1018:function(t,e){t.exports='<path d="M89 50c0-15-9-29-23-36a3 3 0 1 0-3 6c12 6 19 17 19 30 0 17-12 31-28 34a3 3 0 1 0-5-5l-6 7a3 3 0 0 0 1 4l6 6 2 1 2-1v-5l-1-1c20-2 36-19 36-40zM43 22a3 3 0 0 0 5-1l5-6v-5l-7-5c-1-1-3-1-4 1v4a40 40 0 0 0-12 76l1 1a3 3 0 0 0 2-6 34 34 0 0 1 11-64h-1v5z"/> '},1019:function(t,e,i){"use strict";var n=i(672);i.n(n).a},1020:function(t,e,i){},1021:function(t,e){t.exports='<vf-container class="user-details vf-container--narrow" :title=title :expandable=true :expanded=expanded :button-a11y-description=a11yDescription @click=onExpandCollapse> <vf-table :columns=columns :rows=rows class=user-details__table></vf-table> <span class=user-details__footer>{{footerText}}</span> </vf-container> '},1029:function(t,e,i){},1030:function(t,e,i){},1031:function(t,e){t.exports='<div class=vf-community-content> <section class=vf-notification-alert-section role=alert> <ol class=vf-vert-list> <component v-for="alert in alerts" :key=alert.key :is=getAlertComponentName(alert.status) :alert=alert></component> </ol> </section> <vf-tabbed-navigation class=vf-tabbed-subnav :tabs=headers :initial-tab=communityTab :nav-label="$i18n(\'tray.community.aria.header\')" @tab-to=changeTab full-width-nav> <template v-slot:button="{ tab }"> <span class=vf-nav-label> {{ tab.count }} {{ $i18n(tab.i18nKey, {count: tab.count }) }} </span> </template> <template v-slot:[communityTab]> <vf-community-suggestions v-if=showTopList :suggestions=topUsers /> <div class=vf-none v-if=showEmpty()> {{ $i18n(getEmptyCommunityTabText(communityTab)) }} </div> <vf-community-items v-else :tab=communityTab :items=getCommunityList() @focus-current-tab=focusCurrentTab /> </template> <p class=vf-none v-if=!showCommunity> {{ $i18n("community.empty") }} </p> </vf-tabbed-navigation> </div> '},1032:function(t,e){t.exports='<ol> <component v-for="(model, idx) in models" ref=items :is=tab :key=model.uuid :model=model tabindex=0 @unfollow=focusNearest(idx)></component> </ol> '},1033:function(t,e){t.exports="<li> <vf-record class=community> <template v-slot:identifier> <vf-avatar v-bind=avatarProps @click.native.stop.prevent=toggleOtherUserProfile /> </template> <template v-slot:content> <p class=vf-secondary-text-colour> {{ model.name }} </p> </template> <template v-slot:timestamp> <vf-timestamp :timestamp=timestamp :descriptor=descriptor /> </template> <template v-slot:action> <vf-community-action-button class=vf-community-action :model=model /> </template> </vf-record> </li> "},1034:function(t,e,i){"use strict";var n=i(676);i.n(n).a},1035:function(t,e,i){"use strict";var n=i(677);i.n(n).a},1036:function(t,e){t.exports="<div class=vf-community-suggestions> <div class=vf-header-box> <p class=vf-label> {{ $i18n('community.following_description') }} </p> <p class=vf-label> {{ $i18n('community.suggest_follow') }} </p> </div> <vf-record class=community> <template v-slot:identifier> <div class=\"vf-tray-section-header vf-label vf-label-upper\"> {{ $i18n('community.suggestion_header') }} </div> </template> </vf-record> <vf-community-items tab=suggestions :items=suggestions /> </div> "},1037:function(t,e){t.exports='<div class="vf-settings vf-vert-spaced"> <h1 v-if="canUpdateAvatar || canUpdateName" class="vf-client-settings-form-profile-header vf-label vf-label-upper vf-setting-module__title"> {{ $i18n(\'settings.update.profile\') }} </h1> <vf-avatar-upload v-if="canUpdateAvatar && isLoggedIn" :user=user @clear-messages=clearMessages @avatar-message=addStatusMessage @avatar-api-error=addApiError></vf-avatar-upload> <section role=group class=vf-client-settings-form-section> <form class="vf-vert-spaced vf-client-settings-form" @keydown.enter.stop.prevent=tryUpdateProfile> <vf-input-list v-if=isLoggedIn class="vf-vert-spaced vf-client-settings-form-profile" :schema=baseSchema :values=values @update=updateValue> </vf-input-list> <vf-update-password v-if=canUpdatePassword @password-input="update_password = $event" @password-verify-input="update_password_verify = $event"> </vf-update-password> <vf-verify-password v-if=showCurrentPassword @password-input="current_password = $event"> </vf-verify-password> </form> </section> <vf-toggle-settings @toggle=onToggle></vf-toggle-settings> <vf-settings-controls @try-update-profile=tryUpdateProfile @logout-clicked=onLogout :messages=messages :can-update-profile=canUpdateProfile :status=status> </vf-settings-controls> </div> '},1046:function(t,e,i){},1047:function(t,e){t.exports='<section class="vf-vert-spaced vf-client-settings-notification-section"> <h1 v-if=showHeader class="vf-label vf-label-upper vf-client-settings-notification-header vf-setting-module__title">{{ text.header }}</h1> <ul class="vf-flex-vert vf-vert-spaced vf-notification-list vf-client-settings-notification-list"> <vf-toggle-input v-if=canUpdateBrowserNotifications :setting=browserNotificationsSetting @toggle=toggleBrowserNotifications class=vf-client-settings-browser-notifications> <div v-html=browserIcon></div> <span>{{ $i18n(\'settings.controls.browser_notifications\') }}</span> </vf-toggle-input> <transition name=fade> <li v-if=browserNotificationMessage.messageKey> <vf-status-message :type=browserNotificationMessage.type> <template v-slot:vf-status-message-content> <div> {{ $i18n(browserNotificationMessage.messageKey) }} <span v-if=browserNotificationMessage.hasLink> -- <a class=vf-status-message-link @click.stop.prevent=onErrorLinkClick> {{ $i18n(browserNotificationMessage.messageKey + "_link") }} </a> </span> </div> </template> </vf-status-message> </li> </transition> <vf-toggle-input v-if=canUpdateEmailNotifications :setting=updateEmailNotificationsSetting @toggle=toggleEmailNotifications class=vf-client-settings-email-notifications> <div v-html=emailIcon></div> <span>{{ $i18n(\'settings.controls.email_notifications\') }}</span> </vf-toggle-input> </ul> </section> '},1048:function(t,e){t.exports='<svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 100 100"> <title>Push Notification Icon</title> <desc>Push Notification Icon</desc> <path fill=#000000 fill-rule=evenodd d="M83.9992,32.0016001 C75.7247587,32.0016001 68.9983999,25.2752413 68.9983999,17.0008 C68.9983999,8.72635874 75.7247587,2 83.9992,2 C92.2736413,2 99,8.72635874 99,17.0008 C99,25.2752413 92.2736413,32.0016001 83.9992,32.0016001 Z M83.9992,9.50040002 C79.8649795,9.50040002 76.4987999,12.8665796 76.4987999,17.0008 C76.4987999,21.1350205 79.8649795,24.5012001 83.9992,24.5012001 C88.1334204,24.5012001 91.4996,21.1350205 91.4996,17.0008 C91.4996,12.8665796 88.1334204,9.50040002 83.9992,9.50040002 Z M75.9083684,92.0048003 L24.5912315,92.0048003 C15.993973,92.0048003 9,85.0108272 9,76.4135687 L9,25.0964318 C9,16.4991733 15.993973,9.50520028 24.5912315,9.50520028 L61.5028001,9.50520028 C63.5741106,9.50520028 65.2530002,11.1828898 65.2530002,13.2554003 C65.2530002,15.3267108 63.5741106,17.0056003 61.5028001,17.0056003 L24.5912315,17.0056003 C20.1281935,17.0056003 16.5004,20.6333938 16.5004,25.0964318 L16.5004,76.4135687 C16.5004,80.8766068 20.1281935,84.5044002 24.5912315,84.5044002 L75.9083684,84.5044002 C80.3714065,84.5044002 83.9992,80.8766068 83.9992,76.4135687 L83.9992,39.5020001 C83.9992,37.4294896 85.6768894,35.7518001 87.7494,35.7518001 C89.8219105,35.7518001 91.4996,37.4294896 91.4996,39.5020001 L91.4996,76.4135687 C91.4996,85.0108272 84.505627,92.0048003 75.9083684,92.0048003 Z"/> </svg> '},1049:function(t,e){t.exports='<?xml version="1.0" encoding="UTF-8" standalone="no"?> <svg width=18px height=13px viewBox="0 0 18 13" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink> <title>Email Notification Icon</title> <desc>Icon of an envelope</desc> <g id=Final stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=Settings transform="translate(-1490.000000, -797.000000)" fill=#FFAD7C> <path d="M1490.02969,798.656481 C1490.01017,798.768963 1490,798.884668 1490,799.00276 L1490,807.99724 C1490,809.106457 1490.89323,810 1491.99509,810 L1506.00491,810 C1507.10738,810 1508,809.103334 1508,807.99724 L1508,799.00276 C1508,798.77408 1507.96203,798.554568 1507.8921,798.350161 L1499.60357,804.789681 L1499.00683,805.253298 L1498.39789,804.805823 L1490.02969,798.656481 Z M1491.31521,797.119207 C1491.52737,797.042063 1491.75631,797 1491.99509,797 L1506.00491,797 C1506.11737,797 1506.22766,797.009308 1506.33504,797.027203 L1498.37653,803.210319 L1499.58221,803.194177 L1491.31521,797.119207 Z" id=Email_Icon></path> </g> </g> </svg>'},1050:function(t,e,i){"use strict";var n=i(681);i.n(n).a},1052:function(t,e,i){"use strict";var n=i(683);i.n(n).a},1053:function(t,e,i){},1054:function(t,e){t.exports='<div class="vf-settings vf-vert-spaced"> <h1 v-if="canUpdateAvatar || canUpdateName" class="vf-client-settings-form-profile-header vf-label vf-label-upper vf-setting-module__title"> {{ $i18n(\'settings.update.profile\') }} </h1> <vf-avatar-upload v-if="canUpdateAvatar && isLoggedIn" :user=user @clear-messages=clearMessages @avatar-message=addStatusMessage @avatar-api-error=addApiError></vf-avatar-upload> <section role=group class=vf-client-settings-form-section> <form class="vf-vert-spaced vf-client-settings-form" @keydown.enter.stop.prevent=tryUpdateProfile> <vf-input-list v-if=isLoggedIn class="vf-vert-spaced vf-client-settings-form-profile" :schema=schema :values=values @update=updateValue> </vf-input-list> <vf-update-password v-if=canChangePassword @password-input="update_password = $event" @password-verify-input="update_password_verify = $event"> </vf-update-password> <vf-verify-password v-if=showCurrentPassword @password-input="current_password = $event"> </vf-verify-password> </form> </section> <vf-toggle-settings @toggle=onToggle></vf-toggle-settings> <vf-settings-controls @try-update-profile=tryUpdateProfile @logout-clicked=onLogout :messages=messages :can-update-profile=canUpdateProfile :status=status> </vf-settings-controls> </div> '},1055:function(t,e){t.exports='<section class="vf-account-thirdparty vf-relative" v-if="loginList.length > 0"> <h4 class=vf-offscreen-text>{{ ariaHeaderText }}</h4> <ul class="vf-account-thirdparty-controls vf-social-logins vf-flex-container"> <vf-thirdparty-service class=vf-thirdparty-control v-for="login in loginList" :key=login.provider :login=login> </vf-thirdparty-service> </ul> <input id=vf-show-more-social-logins-id type=checkbox /> <ul class="vf-account-thirdparty-controls vf-flex-container vf-social-logins vf-more-logins"> <vf-thirdparty-service v-for="login in showMoreList" :key=login.provider :login=login> </vf-thirdparty-service> </ul> <label class=vf-show-more-social-logins @click=toggleText for=vf-show-more-social-logins-id v-if="showMoreList.length > 0">{{showMore}}</label> </section> '},1056:function(t,e,i){"use strict";var n=i(685);i.n(n).a},1068:function(t,e,i){},1069:function(t,e){t.exports='<div class="vf-account-nav-backdrop vf-tray-header-backdrop"> <sign-up-illustration class=vf-account-nav-illustration /> </div> '},1070:function(t,e){t.exports='<path fill-rule=evenodd d="M93.4 39.8c-1.7-2-4.2-3-7.4-3a1 1 0 0 0-.5 0v.1l-.2.1s-1.5 1.4-3.9 1.4a5.9 5.9 0 0 1-3.9-1.4h-.1a.4.4 0 0 0-.1-.1 1 1 0 0 0-.5-.2c-3.2 0-5.7 1-7.4 3.1-3.7 4.3-2.8 11.3-2.7 11.6a1 1 0 0 0 1 .9H95a1 1 0 0 0 1-.9c0-.3 1-7.3-2.7-11.6zm-12 .6c1 0 1.7-.2 2.4-.4l-2.4 5-2.4-5a8.1 8.1 0 0 0 2.4.4zm12.9 10H68.5c0-2 0-6.5 2.3-9.3 1.3-1.5 3.1-2.3 5.4-2.4l4.3 9a1 1 0 0 0 1.8 0l4.3-9c2.3.1 4.1 1 5.4 2.4 2.4 2.8 2.4 7.3 2.3 9.2zM81.4 35.4a8.2 8.2 0 1 0 0-16.3 8.2 8.2 0 0 0 0 16.3zm0-14.3a6.2 6.2 0 0 1 6.2 6.2 6.2 6.2 0 0 1-6.2 6.2 6.2 6.2 0 0 1-6.2-6.2 6.2 6.2 0 0 1 6.2-6.2zm-62 15.5a1 1 0 0 0-.4.2h-.1l-.1.1c-.1 0-1.5 1.4-4 1.4A5.9 5.9 0 0 1 11 37h-.2a.4.4 0 0 0 0-.1 1 1 0 0 0-.5-.2c-3.2 0-5.7 1-7.5 3.1C-.9 44.1.1 51.1.1 51.4a1 1 0 0 0 1 .9h27.5a1 1 0 0 0 1-.9c0-.3 1-7.3-2.7-11.6-1.8-2-4.3-3-7.5-3zM15 40.4c.9 0 1.7-.2 2.3-.4L15 45l-2.4-5a8.1 8.1 0 0 0 2.4.4zm12.8 10H2c-.1-2-.1-6.5 2.3-9.3 1.3-1.5 3-2.3 5.4-2.4l4.3 9c.3.6 1.4.6 1.7 0l4.3-9c2.3.1 4.1 1 5.4 2.4 2.4 2.8 2.4 7.3 2.3 9.2zM14.9 35.4a8.2 8.2 0 1 0 0-16.3 8.2 8.2 0 0 0 0 16.3zm0-14.3a6.2 6.2 0 0 1 6.1 6.2 6.2 6.2 0 0 1-6.1 6.2 6.2 6.2 0 0 1-6.2-6.2 6.2 6.2 0 0 1 6.2-6.2zm55 5.2a1 1 0 0 0 .9-.5 1 1 0 0 0 0-1l-2.7-5.2a14.7 14.7 0 0 0 .7-7.4 14.7 14.7 0 0 0-6-9.5 14.6 14.6 0 0 0-11-2.6 14.8 14.8 0 0 0-9 23.8c-1 .2-1.9.6-2.8 1a14.7 14.7 0 0 0-6 5.4l-5.8 1.2a1 1 0 0 0-.5 1.7 128 128 0 0 1 4.1 4.2 14.7 14.7 0 0 0 1.5 7.2c2.5 5.1 7.5 8.3 13.2 8.3a14.6 14.6 0 0 0 6.5-1.5A14.8 14.8 0 0 0 58 29c2.2-.6 4.2-1.6 6-3.2l5.9.6zM58 32.6A12.8 12.8 0 0 1 35 44a12.8 12.8 0 0 1-1.2-6.6c0-.5 0-.6-3.5-4.1l4.4-1c.3 0 .6-.1.8-.4a12.7 12.7 0 0 1 5.4-5 12.7 12.7 0 0 1 5.6-1.4c5 0 9.3 2.8 11.5 7.2zm5-8.5a12.7 12.7 0 0 1-6.6 3.2 14.6 14.6 0 0 0-9.9-3.8H45A12.8 12.8 0 0 1 61.7 4.4a12.7 12.7 0 0 1 5.1 8.3 12.8 12.8 0 0 1-.7 6.7c-.1.4-.2.6 2.2 5l-4.5-.5a1 1 0 0 0-.9.3zm-8.8 10h-3v-1.5a3.9 3.9 0 0 0-1.5-2.8 2.4 2.4 0 0 0-2-.3c-1.5.4-1.4 2.2-1.4 3.3v.4c0 1-1 1.7-1.7 2.1h-5.8a1 1 0 0 0-.8.4c-.2.3-.5.7.5 8.1a1 1 0 0 0 1 .8h4.9a1 1 0 0 0 .9-.5l.3.1.4.1H52c1.3 0 2.1-.3 2.5-1 .2-.6.1-1 0-1.5.4-.4.6-.9.6-1.2v-.8a2.1 2.1 0 0 0 .4-.9 2.2 2.2 0 0 0 0-1 2 2 0 0 0 1-1.6c0-1.1-.8-2.2-2.4-2.2zm-11 8.6h-2.9c-.3-2.1-.5-4.3-.5-5.5H43v5.5zm11-6.2a1 1 0 0 0-.7.5 1 1 0 0 0 0 1c.2 0 .2.3.2.4l-.3.2a1 1 0 0 0-.5.7 1 1 0 0 0 .3.9.4.4 0 0 1 0 .2l-.3.3a1 1 0 0 0-.5.7c0 .2 0 .5.2.7l.1.2a3 3 0 0 1-.6 0h-6l-.7-.3a1 1 0 0 0-.3 0v-4.7c2-1 3.2-2.5 3.2-4.1v-.5-1.4l.3.1c.3.3.6.8.7 1.4 0 .9-.4 1.7-.4 1.8a1 1 0 0 0 0 1 1 1 0 0 0 .8.4h4.5c.4 0 .4.1.4.2l-.4.3zM49 13a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3zm5.4 0a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3zm5.2 0a1.5 1.5 0 0 0 0 3 1.5 1.5 0 0 0 0-3z"/> '},1071:function(t,e){t.exports="<svg :class=getClasses :viewBox=viewBox xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1> <defs v-html=defs></defs> <circle cx=50% cy=50% r=47% class=vf-icon-inner-circle></circle> <g v-html=getGraphics :transform=getTransform></g> </svg> "},1073:function(t,e,i){"use strict";var n=i(689);i.n(n).a},1074:function(t,e){t.exports="<vf-form v-if=settings.authprovider_viafoura_enabled id=vf-signup-form :schema=schema :status=status :messages=messages :button-text=labels.signup @form-submit=signup> <div id=vf-signup-g-recaptcha-submit class=vf-signup-recaptcha></div> </vf-form> "},1075:function(t,e,i){"use strict";var n=i(690);i.n(n).a},1078:function(t,e,i){"use strict";var n=i(691);i.n(n).a},1079:function(t,e,i){},1435:function(t,e,i){"use strict";i.r(e);var n=i(558);i.d(e,"Widget",(function(){return n.a}))},1443:function(t,e,i){"use strict";i.r(e);i(6),i(8),i(4),i(17);var n=i(3),s=i(0),r=i(2),a=i(433),o=i(133),c=i(131),u=i(57),l=i(18),f=i(948),d=i.n(f),h=i(53),p=(i(40),i(13),i(87),i(86),i(63),i(33)),v=i(477),m=i(608),g=i(929),b=i(438),_=i(12),y=i(555),w=i(120),O=i(79);function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function C(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var N={props:{activeTab:p.a.oneOf(Object.values(b.c)).required,showSettings:p.a.bool.required},data:function(){return{settingsTabKey:b.c.SETTINGS}},created:function(){this.closeIcon=m.a},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(i,!0).forEach((function(e){C(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({settings:s.Dc}),{hideCommunity:function(){var t=!this.settings.enable_muting||Object(_.F)(this.$user()),e=this.settings.disable_email_notifications;return t&&e},tabs:function(){var t=[{name:b.c.DEFAULT,i18nKey:"navigation.feed",ariaLabel:this.$i18n("aria.navigation.feed"),classes:b.c.DEFAULT},{name:b.c.PROFILE,i18nKey:"navigation.profile",ariaLabel:this.$i18n("aria.navigation.profile"),classes:b.c.PROFILE},{name:b.c.COMMUNITY,i18nKey:"navigation.community",ariaLabel:this.$i18n("aria.navigation.community"),classes:b.c.COMMUNITY},{name:b.c.SETTINGS,ariaLabel:this.$i18n("aria.navigation.settings"),classes:b.c.SETTINGS}];return this.hideCommunity&&(t=t.filter((function(t){return t.name!==b.c.COMMUNITY}))),this.showSettings||(t=t.filter((function(t){return t.name!==b.c.SETTINGS}))),t},ariaLabels:function(){return{closeTray:this.$i18n("navigation.close"),settings:this.$i18n("navigation.settings")}},showActiveTab:function(){var t=this;return Boolean(this.tabs.find((function(e){return e.name===t.activeTab})))},settingsClasses:function(){return{"vf-hidden":!Object(_.D)(this.$user()),"vf-tray-settings-button":!0}},navigationClasses:function(){return{"vf-tray-navigation--sticky":0===w.b}}}),methods:{closeTray:function(){this.$publish(r.A.CHANNEL,r.A.EVENTS.CLOSE)},onTabChange:function(t){var e=this;setTimeout((function(){return e.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,t)}),10)}},components:{vfTabbedNavigation:y.a,roundIconButton:v.a,settingsIcon:g.a}},$=(i(961),i(85)),T=Object($.a)(N,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-tabbed-navigation",{staticClass:"vf-tray-navigation vf-horiz-list",class:t.navigationClasses,attrs:{"nav-label":t.$i18n("aria.navigation.aria_label"),"initial-tab":t.activeTab,"show-active":t.showActiveTab,tabs:t.tabs,"full-width-nav":""},on:{"tab-to":t.onTabChange},scopedSlots:t._u([{key:"nav-left",fn:function(){return[i("div",{staticClass:"close-button-wrapper"},[i("round-icon-button",{staticClass:"vf-tray-close",attrs:{"aria-label":t.ariaLabels.closeTray,icon:t.closeIcon},on:{click:t.closeTray}})],1)]},proxy:!0},{key:"button",fn:function(e){return["vf-settings"===e.tab.name?i("span",{staticClass:"vf-nav-label vf-tray-nav-button",class:t.settingsClasses},[i("settings-icon",{staticClass:"vf-settings-icon",attrs:{"aria-hidden":!0}})],1):i("span",{staticClass:"vf-nav-label vf-flex-grow vf-tray-nav-button vf-tray-nav-button--no-padding",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.$i18n(e.tab.i18nKey))+"\n        ")])]}},t._l(t.tabs,(function(e){return{key:e.name,fn:function(){return[t._t(e.name)]},proxy:!0}}))],null,!0)})}),[],!1,null,null,null).exports,x=i(962),j=i.n(x),P=(i(963),i(964)),S=i.n(P),k=i(1),A=i(965),U=i.n(A),I=i(966),L=i.n(I),D=i(967),M=i.n(D),F=i(563),R=i(93),B=i(428);var H=Object(B.b)(F.a),V=l.default.extend({props:["alert"],template:S.a,data:function(){return{showCloseButton:!0}},methods:{onCloseAlertClick:function(){var t=this.$store.getters[s.fb];this.$store.commit(k.Kb,{key:t,items:[{key:this.alert.key}]})}},components:{vfCloseIcon:F.a}}),z=function(t,e){return V.extend({computed:{classes:function(){var e,i,n,s=(e={},i=function(t){switch(t){case"vf-alert-status-approved":return"vf-success-bg-colour";case"vf-alert-status-rejected":case R.REJECTED:return"vf-warning-bg-colour";case"vf-alert-status-information":case R.PENDING_NEW:case R.PENDING_UPDATE:return"vf-info-bg-colour";default:return""}}(this.alert.status||t),n=!0,i in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n,e);return s},statusIcon:function(){switch(this.alert.status){case R.REJECTED:return L.a;case R.PENDING_NEW:case R.PENDING_UPDATE:return M.a;default:return this.alert.icon||e}}},components:{vfCloseButton:H}})},G={approved:z("vf-alert-status-approved",U.a),rejected:z("vf-alert-status-rejected",L.a),information:z("vf-alert-status-information",M.a)},q=z("","").extend({data:function(){return{showCloseButton:!1}},methods:{onCloseAlertClick:function(){}}}),K=i(486),Y=l.default.extend({template:j.a,inject:["settings"],computed:{user:function(){return this.$store.getters[s.eb]},type:function(){return Object(K.b)(this.user,this.settings)?"email":Object(K.d)(this.user,this.settings)?"username":Object(K.a)(this.user,this.settings)?"avatar":""},displayModeration:function(){return""!==this.type},isEmailVerification:function(){return"email"===this.type},moderationStatus:function(){var t=this.type;return t?this.isEmailVerification?this.$user()["".concat(t,"_verification_status")]:this.$user()["".concat(t,"_moderation_status")]:R.NONE},moderationMessage:function(){return this.type&&!Object(_.G)(this.moderationStatus)?"moderation.".concat(this.type,"_").concat(this.moderationStatus):""},alert:function(){return{status:this.moderationStatus,i18nKey:this.moderationMessage}},classes:function(){return{"vf-warning":this.moderationStatus===R.REJECTED}}},components:{"vf-moderation-alert":q}}),W=i(21),J=i(49),Z=i(167),X=(i(182),i(10),i(32),i(31),i(34),i(28)),Q={text:p.a.string.isRequired,ariaLabel:p.a.string.isRequired},tt=(i(181),i(81),i(91),i(434)),et=i(226),it=i(204),nt=i(211),st=i(609),rt=i(560),at={props:{status:{type:String,required:!0},clickable:{type:Boolean,default:!1},dotPalette:{type:String,default:function(){return this.PALETTES.ACCENT}},deletable:{type:Boolean,default:!1}},inject:[nt.b,nt.a],created:function(){this.closeIcon=st.a},computed:{isNew:function(){return this.status===X.b},isSeen:function(){return this.status===X.d},isRead:function(){return this.status===X.c},classes:function(){return{"vf-notification":!0,"vf-notification--seen":!this.isNew,"vf-notification--read":this.isRead,"vf-notification--unread":this.isNew||this.isSeen,"vf-clickable":this.clickable}}},components:{roundIconButton:v.a,unseenNotifier:rt.a}},ot=(i(981),Object($.a)(at,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{class:t.classes},[t.isNew?i("unseen-notifier",{staticClass:"vf-notification-status",attrs:{palette:t.dotPalette}}):t._e(),t._v(" "),i("span",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("aria.feed.notifications.new"))+"\n    ")]),t._v(" "),t._t("default"),t._v(" "),t.deletable?i("round-icon-button",{staticClass:"vf-delete-icon",attrs:{icon:t.closeIcon,"aria-label":t.$i18n("aria.feed.notifications.delete")},on:{click:function(e){return t.$emit("delete")}}}):t._e()],2)}),[],!1,null,"afa2870e",null).exports),ct=i(465),ut=i(559),lt=i(934),ft={props:{tag:{type:String,default:"div"},user:Object,timestamp:Number,title:String,image:Object,hasImage:Boolean,size:{type:String,default:function(){return this.SIZES.MEDIUM}},ariaLabel:{type:String}},inject:[nt.b],data:function(){return{hasImageFailed:!1}},computed:{avatarProps:function(){return{user:this.user,current_user_uuid:this.$store.getters[s.fb],size:this.SIZES.SMALL,isClickable:!0}}},methods:{onAvatarClick:function(){this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,b.c.PROFILE,{user_uuid:this.user.uuid})}},components:{vfAvatar:ct.a,itemLayout:lt.a,vfTimestamp:ut.a}},dt=(i(988),Object($.a)(ft,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(t.tag,{tag:"component",staticClass:"vf-notification-record vf-no-outline",class:{"vf-notification-record--link":"a"===t.tag}},[i("div",{staticClass:"vf-notification-record__identifier-col"},[t._t("identifier",[i("vf-avatar",t._b({nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onAvatarClick(e)}}},"vf-avatar",t.avatarProps,!1))])],2),t._v(" "),t.ariaLabel?i("span",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.ariaLabel)+"\n    ")]):t._e(),t._v(" "),i("item-layout",{staticClass:"vf-notification-record__content",attrs:{"is-reversed":"","collapse-height":"",title:t.title,image:t.image,"has-image":(t.hasImage||Boolean(t.image&&t.image.src))&&!t.hasImageFailed,size:t.size,"aria-hidden":Boolean(t.ariaLabel).toString()},on:{"img-error":function(e){t.hasImageFailed=!0}},scopedSlots:t._u([{key:"title",fn:function(e){return[t._t("title",null,null,e)]}},{key:"additional-details",fn:function(e){return[t._t("additional-details",[i("vf-timestamp",{class:e.classes.base,attrs:{timestamp:t.timestamp}})],null,e)]}},{key:"image",fn:function(e){return[t._t("image",null,null,e)]}}],null,!0)})],1)}),[],!1,null,"06a0fc35",null).exports),ht=i(923);function pt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function vt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var mt={props:{user:{type:Object,required:!0},hasComma:{type:Boolean,default:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pt(i,!0).forEach((function(e){vt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({isAuthor:s.Yb}),{badgeProps:function(){return{name:this.user.name,isAuthor:this.isAuthor(this.user.uuid),isTrustedUser:this.$can("trust","user",this.user),isModerator:this.$can("moderate","comment",this.user)}}}),components:{userBadge:ht.a}},gt=(i(995),Object($.a)(mt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[t._v("\n    "+t._s(t.user.name)),i("user-badge",t._b({staticClass:"vf-user-badge"},"user-badge",t.badgeProps,!1)),t.hasComma?[t._v(",")]:t._e()],2)}),[],!1,null,"17159e85",null).exports),bt={props:{users:{type:Array,required:!0}},beforeCreate:function(){this.maxNamesToShow=2},computed:{numUsers:function(){return this.users.length},numOtherUsers:function(){return this.numUsers-this.maxNamesToShow},hasOtherUsers:function(){return this.numOtherUsers>0}},components:{userWithComma:gt}},_t=Object($.a)(bt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("em",[i("user-with-comma",{attrs:{user:t.users[0],"has-comma":t.numUsers>1}}),t._v(" "),t.numUsers>1?[t.numUsers===t.maxNamesToShow?[t._v("\n            "+t._s(t.$i18n("feed.notifications.common.and"))+"\n        ")]:t._e(),t._v(" "),i("user-with-comma",{attrs:{user:t.users[1],"has-comma":t.numUsers>t.maxNamesToShow}})]:t._e(),t._v(" "),t.hasOtherUsers?[t._v("\n        "+t._s(t.$i18n("feed.notifications.common.others",{num:t.numOtherUsers}))+"\n    ")]:t._e()],2)}),[],!1,null,null,null).exports,yt={props:{users:{type:Array,required:!0}},components:{usersAndOthers:_t}},wt=Object($.a)(yt,(function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("users-and-others",{attrs:{users:this.users}}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports,Ot={props:{user:{type:Object,required:!0}},components:{userWithComma:gt}},Et=Object($.a)(Ot,(function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("em",[e("user-with-comma",{attrs:{user:this.user}}),this._v(" "),this._t("user-right"),this._v(" â€”\n    ")],2),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports;function Ct(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Nt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var $t={props:{uuid:{type:Number,required:!0},unmutedActors:{type:Array,required:!0}},beforeCreate:function(){this.MENTION_PALETTE=tt.a.MENTION},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ct(i,!0).forEach((function(e){Nt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ct(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({getUser:s.ed,currentUser:s.eb,getStatus:s.e,getTimestamp:s.d,getContent:s.P,getNotifications:s.ic,isNotificationVisible:s.Ob}),{notifications:function(){var t=this;return this.getNotifications(this.uuid).filter((function(e){var i=e.notification_uuid;return t.isNotificationVisible(i)}))},actorUuids:function(){return Array.from(new Set(this.notifications.map((function(t){return t.actor_uuid}))))},users:function(){return this.actorUuids.map(this.getUser.bind(this))},pageTitle:function(){return this.representativeContent.metadata.origin_title},pageUrl:function(){var t=this.representativeContent.metadata.origin_url,e=this.representativeContent.content_uuid;if(!t)return"#";var i=new URL(t);return i.hash="vf-".concat(e),i.searchParams.append("__vfz","medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)),i.href},imageUrl:function(){return this.representativeContent.metadata.origin_image_url},imageAlt:function(){return this.representativeContent.metadata.origin_summary},firstUser:function(){return this.users[0]},representativeContent:function(){return this.getContent(this.notifications[this.notifications.length-1].content_uuid)},singleReplyText:function(){return Object(it.b)(this.representativeContent.content,b.a)},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{deleteSelf:function(){return this.$store.dispatch(n.w,this.uuid)},onClick:function(){var t=this;this.$store.dispatch(n.Zb,this.uuid).then((function(){window.location.href=t.pageUrl}))}},components:{contentMany:wt,contentSingle:Et,notificationRecord:dt,notificationListItem:ot}},Tt=Object($.a)($t,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{status:t.getStatus(t.uuid),"dot-palette":t.MENTION_PALETTE,deletable:t.isDeletable},on:{delete:t.deleteSelf}},[i("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageUrl,timestamp:t.getTimestamp(t.uuid),user:t.firstUser,image:{src:t.imageUrl,alt:t.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var n=e.classes;return[1===t.users.length?i("content-single",{class:Object.values(n),attrs:{user:t.firstUser},scopedSlots:t._u([{key:"user-right",fn:function(){return[t._v("\n                        "+t._s(t.$i18n("feed.notifications.mentions.single"))+"\n                    ")]},proxy:!0}],null,!0)},[t._v("\n                    "+t._s(t.singleReplyText)+"\n                ")]):i("content-many",{class:Object.values(n),attrs:{users:t.users,"page-title":t.pageTitle}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.mentions.many",{num:t.users.length,pageTitle:t.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports;function xt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function jt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Pt={props:{uuid:{type:Number,required:!0},unmutedActors:{type:Array,required:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xt(i,!0).forEach((function(e){jt(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({getContent:s.P,getUser:s.ed,currentUser:s.eb,getStatus:s.e,getTimestamp:s.d,getNotifications:s.ic,isNotificationVisible:s.Ob}),{notifications:function(){var t=this;return this.getNotifications(this.uuid).filter((function(e){var i=e.notification_uuid;return t.isNotificationVisible(i)}))},actorUuids:function(){return Array.from(new Set(this.notifications.map((function(t){return t.actor_uuid}))))},users:function(){return this.actorUuids.map(this.getUser.bind(this))},pageTitle:function(){return this.representativeContent.metadata.origin_title},pageUrl:function(){var t=this.representativeContent.metadata.origin_url,e=this.representativeContent.content_uuid;if(!t)return"#";var i=new URL(t);return i.hash="vf-".concat(e),i.searchParams.append("__vfz","medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)),i.href},imageUrl:function(){return this.representativeContent.metadata.origin_image_url},imageAlt:function(){return this.representativeContent.metadata.origin_summary},firstUser:function(){return this.users[0]},likeText:function(){return this.$i18n("feed.notifications.likes.generic",{num:this.users.length,pageTitle:this.pageTitle})},representativeContent:function(){return this.getContent(this.notifications[this.notifications.length-1].content_uuid)},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{deleteSelf:function(){return this.$store.dispatch(n.w,this.uuid)},onClick:function(){var t=this;this.$store.dispatch(n.Zb,this.uuid).then((function(){window.location.href=t.pageUrl}))}},components:{contentMany:wt,contentSingle:Et,notificationRecord:dt,notificationListItem:ot}},St=Object($.a)(Pt,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{status:t.getStatus(t.uuid),deletable:t.isDeletable},on:{delete:t.deleteSelf}},[i("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageUrl,timestamp:t.getTimestamp(t.uuid),user:t.firstUser,image:{src:t.imageUrl,alt:t.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var n=e.classes;return[1===t.users.length?i("content-single",{class:Object.values(n),attrs:{user:t.firstUser}},[t._v("\n                    "+t._s(t.likeText)+"\n                ")]):i("content-many",{class:Object.values(n),attrs:{users:t.users}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.likes.generic",{num:t.users.length,pageTitle:t.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports;function kt(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function At(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ut={props:{uuid:{type:Number,required:!0},unmutedActors:{type:Array,required:!0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?kt(i,!0).forEach((function(e){At(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):kt(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({getUser:s.ed,currentUser:s.eb,getStatus:s.e,getTimestamp:s.d,getContent:s.P,getNotifications:s.ic,isNotificationVisible:s.Ob}),{notifications:function(){var t=this;return this.getNotifications(this.uuid).filter((function(e){var i=e.notification_uuid;return t.isNotificationVisible(i)}))},actorUuids:function(){return Array.from(new Set(this.notifications.map((function(t){return t.actor_uuid}))))},users:function(){return this.actorUuids.map(this.getUser.bind(this))},pageTitle:function(){return this.representativeContent.metadata.origin_title},pageUrl:function(){var t=this.representativeContent.metadata.origin_url,e=this.notifications.length>1?this.representativeContent.target_uuid:this.representativeContent.content_uuid;if(!t)return"#";var i=new URL(t);return i.hash="vf-".concat(e),i.searchParams.append("__vfz","medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)),i.href},imageUrl:function(){return this.representativeContent.metadata.origin_image_url},imageAlt:function(){return this.representativeContent.metadata.origin_summary},firstUser:function(){return this.users[0]},representativeContent:function(){return this.getContent(this.notifications[this.notifications.length-1].content_uuid)},text:function(){return Object(it.b)(this.representativeContent.content,b.a)},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{deleteSelf:function(){return this.$store.dispatch(n.w,this.uuid)},onClick:function(){var t=this;this.$store.dispatch(n.Zb,this.uuid).then((function(){window.location.href=t.pageUrl}))}},components:{contentMany:wt,contentSingle:Et,notificationRecord:dt,notificationListItem:ot}},It=Object($.a)(Ut,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{status:t.getStatus(t.uuid),deletable:t.isDeletable},on:{delete:t.deleteSelf}},[i("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.pageUrl,timestamp:t.getTimestamp(t.uuid),user:t.firstUser,image:{src:t.imageUrl,alt:t.imageAlt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var n=e.classes;return[1===t.users.length?i("content-single",{class:Object.values(n),attrs:{user:t.firstUser},scopedSlots:t._u([{key:"user-right",fn:function(){return[t._v("\n                        "+t._s(t.$i18n("feed.notifications.comments.single"))+"\n                    ")]},proxy:!0}],null,!0)},[t._v("\n                    "+t._s(t.text)+"\n                ")]):i("content-many",{class:Object.values(n),attrs:{users:t.users}},[t._v("\n                    "+t._s(t.$i18n("feed.notifications.comments.many",{num:t.users.length,pageTitle:t.pageTitle}))+"\n                ")])]}}])})],1)],1)}),[],!1,null,null,null).exports,Lt=i(46),Dt=i(445),Mt=i(996),Ft=i.n(Mt),Rt=i(446),Bt=Rt.a.extend({data:function(){return{graphics:Ft.a}}}),Ht=i(449),Vt=[X.a.BROADCAST],zt={props:{uuid:{type:[String,Number],required:!0},user:{type:Object}},computed:{notification:function(){return this.$store.getters[s.lc](this.uuid)},showNewsFeedIcon:function(){return this.isNonUserNotification&&!this.user.pic_large&&!this.user.pic_small},isNonUserNotification:function(){return Vt.includes(this.notification.notification_type)},avatarProps:function(){return{user:this.user,size:Dt.a.SMALL,isClickable:!this.isNonUserNotification}}},components:{frontAvatar:Ht.a,vfNewsfeedIcon:Bt}},Gt=(i(997),Object($.a)(zt,(function(){var t=this.$createElement,e=this._self._c||t;return this.showNewsFeedIcon?e("vf-newsfeed-icon",{staticClass:"vf-image-small"}):e("front-avatar",this._b({staticClass:"vf-notification-avatar"},"front-avatar",this.avatarProps,!1))}),[],!1,null,"d87c53f6",null).exports),qt=i(998),Kt=i.n(qt),Yt=Rt.a.extend({data:function(){return{graphics:Kt.a}}}),Wt=i(659),Jt=i(1001),Zt=i.n(Jt),Xt=Rt.a.extend({props:{size:{type:String,default:"medium"}},data:function(){return{graphics:Zt.a}},computed:{getClasses:function(){return"vf-icon vf-icon-trusted vf-icon-".concat(this.size)}}}),Qt=i(660),te=(i(180),i(299)),ee=function(t,e){return Object.freeze({status:t,i18nKey:e,key:Object(te.a)()})},ie=i(215),ne={props:["uuid","unmutedActors"],data:function(){var t=this.$store.getters[s.lc](this.uuid);return{notification:t,content:t.content_uuid&&this.$store.getters[s.nc]({uuid:t.content_uuid})}},computed:{currentUserUuid:function(){return this.$store.getters[s.fb]},actorUuidList:function(){var t=this;switch(this.notification.notification_type){case X.a.COMMENT:case X.a.FOLLOW:case X.a.LIKE:case X.a.REPLY:return this.notification.actor_uuid_list.filter((function(e){var i=t.$store.getters[s.ed](e);return!i||i.name}));default:return this.notification.actor_uuid_list}},type:function(){return this.notification.notification_type},timestamp:function(){return this.notification.date_modified_max},status:function(){return this.notification.read_status},read:function(){return this.notification.read_status===X.c},clickable:function(){switch(this.notification.notification_type){case X.a.FOLLOW:return this.unmutedActors.length>1;default:return!0}},users:function(){var t=this.unmutedActors;if(!t.length)return[];var e=t[0];return[this.getUser(e)]},text:function(){var t="feed.notifications.".concat(this.notification.notification_type);if("broadcast"===this.type)return"<strong>".concat(this.model.title,"</strong>");var e=this.unmutedActors;if(!e.length)return"";var i=e[0],n=this.getUser(i),s={user:n.name,topic_name:this.content&&this.content.topic_name,num:e.length-1,secondUser:""};if(e.length<=2){var r=" ".concat(this.trustedIconHTML),a=" ".concat(this.moderatorIconHTML);if(this.$can("trust","user",n)?s.user+=r:this.$can("moderate","comment",n)&&(s.user+=a),2===e.length){var o=this.getUser(e[1]);s.secondUser=o.name,this.$can("trust","user",o)?s.secondUser+=r:this.$can("moderate","comment",o)&&(s.secondUser+=a)}}return this.$i18n(t,s)},trustedIconHTML:function(){var t=new Xt;return t.$mount(),t.$el.outerHTML},moderatorIconHTML:function(){return Object(Qt.a)(this.$i18n("badges.moderator"))},topicType:function(){return(this.$store.getters[s.Uc](this.model.topic_id)||{}).topic_type}},methods:{onClick:function(){var t=this;if(!this.read&&this.$user().uuid!==u.b){var e=this.uuids||[this.uuid];Promise.all(e.map((function(e){return Object(ie.a)(e,t.$store)}))).catch((function(){var e=t.$store.getters[s.fb],i=ee(R.REJECTED,"feed.alerts.read");t.$store.commit(k.y,{key:e,items:[i]})}))}switch(this.notification.notification_type){case X.a.FOLLOW:this.unmutedActors.length>1&&this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,b.c.COMMUNITY)}},getUser:function(t){return this.$store.getters[s.Wb](t)?this.$store.getters[s.ed](t):this.$store.getters[s.yc](t)}},components:{vfTopicIcon:Yt,vfAuthorIcon:Wt.a,notificationListItem:ot,notificationAvatar:Gt}},se=(i(1002),Object($.a)(ne,void 0,void 0,!1,null,null,null).exports),re=i(43);function ae(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function oe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ce={extends:se,computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ae(i,!0).forEach((function(e){oe(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ae(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({currentUser:s.eb}),{user:function(){return this.users[0]},showNewsFeedIcon:function(){return this.isNonUserNotification&&!this.user.pic_large&&!this.user.pic_small},page:function(){return this.$store.getters[s.nc]({uuid:this.notification.content_uuid})},isNonUserNotification:function(){return this.notification.notification_type===X.a.BROADCAST},model:function(){return Object(Lt.b)(this.page,{actor_uuid_list:this.actorUuidList})},shouldShowDeleteIcon:function(){return Object(_.D)(this.$user())},titleOrDescription:function(){return"broadcast"===this.model.type?this.model.description:this.model.title},showTopicIcon:function(){return"topic"===this.topicType},showAuthorIcon:function(){return"author"===this.topicType},hasNonUserIcon:function(){return this.showTopicIcon||this.showAuthorIcon||this.showNewsFeedIcon},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{deleteNotification:function(){return this.$store.dispatch(n.B,this.uuid)},onClick:function(){var t=this;if(this.$user().uuid!==u.b){var e=this.uuids||[this.uuid];Promise.all(e.map((function(e){return Object(ie.a)(e,t.$store)}))).then(this.redirect).catch(this.redirect)}else this.redirect()},redirect:function(){var t=this.page.url;t!==window.location.pathname&&t!==window.location.href&&(t=this.page.full_page_url?Object(re.c)(this.page.full_page_url,{queryParams:{__vfz:"medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)}}):Object(re.b)(window.location.protocol,window.location.host,{path:t,queryParams:{__vfz:"medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)}})),this.notification.notification_type!==X.a.COMMENT&&(t=Object(re.a)(t,this.notification.grouping_key.uuid)),this.$publish("window","redirect",t)},onNewsfeedIconClick:function(){this.isNonUserNotification||this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,b.c.PROFILE,{user_uuid:this.user.uuid})}},components:{vfNewsfeedIcon:Bt,notificationRecord:dt}},ue=Object($.a)(ce,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{clickable:"",status:t.status,deletable:t.isDeletable},on:{delete:t.deleteNotification}},[i("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.page.url,timestamp:t.timestamp,user:t.user,image:{src:t.model.image_url,alt:t.model.alt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([t.hasNonUserIcon?{key:"identifier",fn:function(){return[t.showTopicIcon?i("vf-topic-icon",{staticClass:"vf-icon-large",attrs:{"aria-hidden":"true"}}):t.showAuthorIcon?i("vf-author-icon",{staticClass:"vf-icon-large vf-icon-circle-outline",attrs:{"aria-hidden":"true"}}):t.showNewsFeedIcon?i("vf-newsfeed-icon",{staticClass:"vf-image-small",attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onNewsfeedIconClick(e)}}}):t._e()]},proxy:!0}:null,{key:"title",fn:function(e){var n=e.classes;return[i("p",{staticClass:"vf-secondary-text-colour",class:Object.values(n),domProps:{innerHTML:t._s(t.text)}}),t._v(" "),i("p",{class:Object.values(n),domProps:{innerHTML:t._s(t.titleOrDescription)}})]}}],null,!0)})],1)],1)}),[],!1,null,null,null).exports,le={props:["model"],computed:{textKey:function(){return""},classes:function(){return{}}},components:{vfButton:B.a}},fe=Object($.a)(le,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("vf-button",{staticClass:"vf-label vf-label-upper vf-tray-action-button",attrs:{"is-cta":"","is-inverted":"",size:"tiny",palette:"accent"},nativeOn:{click:function(e){return t.onClick(e)}}},[t._v("\n    "+t._s(t.$i18n(t.textKey))+"\n")])}),[],!1,null,null,null).exports,de={extends:fe,computed:{user:function(){return this.$store.getters[s.ed](this.model.uuid)},textKey:function(){return"user_actions.".concat(this.action)}},methods:{onClick:function(){var t=this,e=this.$store.getters[s.fb],i={follow:n.Ib,unfollow:n.jd,mute:n.ec,unmute:n.nd};return this.$store.dispatch(i[this.action],{uuid:this.user.uuid}).catch((function(){var i=ee(R.REJECTED,"feed.alerts.".concat(t.action));t.$store.commit(k.y,{key:e,items:[i]})}))}}},he={extends:de,computed:{isFollowed:function(){return Boolean(this.user.is_followed)},action:function(){return this.isFollowed?"unfollow":"follow"},classes:function(){return{"vf-complement-bg-colour":this.isFollowed,"vf-complement-colour":this.isFollowed}}}},pe={extends:de,computed:{isMuted:function(){return Boolean(this.user.is_muted)},action:function(){return this.isMuted?"unmute":"mute"},classes:function(){return{"vf-primary-bg-colour":this.isMuted,"vf-complement-bg-colour":!this.isMuted,"vf-complement-colour":!0}}}};function ve(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function me(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var ge={extends:se,inject:[nt.b],computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ve(i,!0).forEach((function(e){me(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ve(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({currentUser:s.eb}),{shouldShowButton:function(){return 1===this.unmutedActors.length&&!this.users[0].is_followed},followers:function(){return this.unmutedActors},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{deleteNotification:function(){return this.$store.dispatch(n.B,this.uuid)}},components:{notificationRecord:dt,vfTrayButton:he}},be=Object($.a)(ge,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{staticClass:"follow-notification",attrs:{status:t.status,clickable:this.unmutedActors.length>1,deletable:t.isDeletable},on:{delete:t.deleteNotification}},[i("notification-record",{staticClass:"feed",attrs:{user:t.users[0],timestamp:t.timestamp,tag:"button","has-image":""},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"title",fn:function(e){var n=e.classes;return[i("p",{class:Object.values(n),domProps:{innerHTML:t._s(t.text)}})]}},{key:"image",fn:function(){return[t.shouldShowButton?i("vf-tray-button",{staticClass:"vf-follow-button",attrs:{model:t.users[0]}}):t._e()]},proxy:!0}])})],1),t._v(">\n")],1)}),[],!1,null,null,null).exports,_e=i(7);function ye(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function we(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Oe={props:{type:{type:String,default:""},description:{type:String,default:""}},computed:{desc:function(){var t="author"===this.type?"author":"other";return this.$i18n("feed.notifications.".concat(t),{description:this.description})}},template:'<span v-html="desc"></span>'},Ee={props:{uuid:{type:String,required:!0}},data:function(){var t=this.$store.getters[s.lc](this.uuid);return{notification:t,content:t.content_uuid&&this.$store.getters[s.nc]({uuid:t.content_uuid})}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ye(i,!0).forEach((function(e){we(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ye(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({pageByUuid:s.nc,currentUserUuid:s.fb,currentUser:s.eb,topicById:s.Uc,isUserByUuid:s.Wb,userByUuid:s.ed,siteByUuid:s.yc}),{page:function(){return this.pageByUuid({uuid:this.notification.content_uuid})},type:function(){return this.notification.notification_type},timestamp:function(){return this.notification.date_modified_max},read:function(){return this.notification.read_status===X.c},users:function(){var t=this.notification.actor_uuid_list[0];return[this.getUser(t)]},classes:function(){return{"vf-primary-notification-bg-colour":this.read,"vf-secondary-notification-bg-colour":!this.read}},topic:function(){return this.topicById(this.page.topic_id)||{}},topicType:function(){return this.topic.topic_type},name:function(){return this.topic.topic_name},isDeletable:function(){return Object(_.D)(this.currentUser)}}),methods:{onClick:function(){var t=this;if(this.$user().uuid!==u.b){var e=this.uuids||[this.uuid];Promise.all(e.map((function(e){return Object(ie.a)(e,t.$store)}))).then(this.redirect).catch(this.redirect)}else this.redirect()},redirect:function(){var t=Object(re.h)(this.page.url)&&!Object(re.i)(this.page.url)?this.page.url:"https:".concat(this.page.url),e=new URL(t);e.searchParams.append("__vfz","medium=".concat(et.TRAY_NOTIFICATION_MEDIUM)),this.notification.notification_type!==X.a.COMMENT&&Object(_e.e)(this.notification.grouping_key.uuid)&&(e.hash="vf-".concat(Object(_e.g)(this.notification.grouping_key.uuid))),this.$publish("window","redirect",e.href)},getUser:function(t){return this.isUserByUuid(t)?this.userByUuid(t):this.siteByUuid(t)},deleteSelf:function(){return this.$store.dispatch(n.w,this.uuid)}},components:{topicDescription:Oe,notificationRecord:dt,notificationListItem:ot,vfTopicIcon:Yt,vfAuthorIcon:Wt.a}},Ce=(i(1003),Object($.a)(Ee,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{clickable:"",status:t.notification.read_status,deletable:t.isDeletable},on:{delete:t.deleteSelf}},[i("notification-record",{staticClass:"feed link",attrs:{tag:"a",href:t.page.url,timestamp:t.timestamp,image:{src:t.page.image_url,alt:t.page.alt}},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onClick(e)}},scopedSlots:t._u([{key:"identifier",fn:function(){return["author"===t.topicType?i("vf-author-icon",{staticClass:"vf-topic-icon"}):i("vf-topic-icon",{staticClass:"vf-topic-icon"})]},proxy:!0},{key:"title",fn:function(e){var n=e.classes;return[i("p",{staticClass:"vf-secondary-text-colour",class:n.text},[i("topic-description",{attrs:{type:t.topicType,description:t.name}})],1),t._v(" "),i("p",{staticClass:"vf-notification__main",class:n.text},[t._v("\n                    "+t._s(t.page.title)+"\n                ")])]}}])})],1),t._v(">\n")],1)}),[],!1,null,"c7947e66",null).exports),Ne={extends:ue,methods:{redirect:function(){window.location.href=this.page.full_page_url||this.page.url}}},$e={props:["notifications"],methods:{getComponent:function(t){var e=t.type;if(t.service_type!==X.e.LEGACY){switch(e){case X.a.REPLY:return Tt;case X.a.LIKE:return St;case X.a.CONTENT:return It}return null}switch(e){case X.a.TOPIC:return Ce;case X.a.BROADCAST:return Ne;case X.a.FOLLOW:return be;case X.a.REPLY:case X.a.LIKE:case X.a.COMMENT:return ue}return null}}},Te=Object($.a)($e,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ol",t._l(t.notifications,(function(e){return i(t.getComponent(e),{key:e.uuid,tag:"component",attrs:{uuid:e.uuid,"unmuted-actors":e.unmutedActors}})})),1)}),[],!1,null,null,null).exports,xe={props:{tag:{type:String,default:"div"}}},je=(i(1004),Object($.a)(xe,(function(t,e){var i=e._c;return i(e.props.tag,e._b({tag:"component",staticClass:"record",class:[e.data.staticClass,e.data.class]},"component",e.data.attrs,!1),[i("div",{staticClass:"record__col"},[e._t("identifier")],2),e._v(" "),i("div",{staticClass:"record__col"},[e._t("content"),e._v(" "),e._t("timestamp")],2),e._v(" "),i("div",{staticClass:"record__col"},[e._t("action")],2)])}),[],!0,null,null,null).exports),Pe={props:{text:{type:String},ariaLabel:{type:String,required:!0},shouldShowClearButton:{type:Boolean,default:!1}},created:function(){this.closeIcon=st.a},components:{vfRecord:je,roundIconButton:v.a}},Se=(i(1005),Object($.a)(Pe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-record",{staticClass:"feed__header vf-tray-section-header vf-notification-section-header",scopedSlots:t._u([{key:"identifier",fn:function(){return[i("h3",{staticClass:"vf-label vf-label-upper feed__header__title"},[i("span",{attrs:{"aria-hidden":"true"}},[t._v("\n                "+t._s(t.text)+"\n            ")]),t._v(" "),i("span",{staticClass:"vf-offscreen-text"},[t._v("\n                "+t._s(t.ariaLabel)+"\n            ")])])]},proxy:!0},{key:"action",fn:function(){return[t.shouldShowClearButton?i("round-icon-button",{staticClass:"vf-delete-icon",attrs:{icon:t.closeIcon,"aria-label":t.$i18n("aria.feed.notifications.delete_section")},on:{click:function(e){return t.$emit("clear")}}}):t._e()]},proxy:!0}])})}),[],!1,null,"447db43a",null).exports);function ke(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ae(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ke(i,!0).forEach((function(e){Ue(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ke(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ue(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ie=[X.a.TOPIC,X.a.BROADCAST,X.a.TRENDING_ARTICLE],Le={props:{header:p.a.shape(Q).isRequired,notifications:p.a.array.isRequired},computed:Ae({},Object(O.c)({isMutedUser:s.gd,getUser:s.ed,getLegacyNotificationByUuid:s.lc}),{hasNotifications:function(){return this.visibleNotifications.length>0},visibleNotifications:function(){var t=this;return this.notifications.map((function(e){return{uuid:e.uuid||e.notification_uuid,type:e.notification_type,service_type:e.service_type,section:t.section,unmutedActors:t.getUnmutedActors(e)}})).filter((function(t){return t.unmutedActors.length>0}))},shouldShowClearButton:function(){return this.notifications.length>0&&Object(_.D)(this.$user())}}),methods:Ae({},Object(O.b)({deleteAggregate:n.w,deleteLegacyNotifications:n.x}),{getUnmutedActors:function(t){var e=this;return Ie.includes(t.notification_type)?t.actor_uuid_list:t.actor_uuid_list.filter((function(t){return e.getUser(t).name&&!e.isMutedUser(t)}))},clearSectionNotifications:function(){return Promise.all([Promise.all(this.clearNotifications()),this.clearLegacyNotifications()])},clearNotifications:function(){return this.notifications.filter((function(t){return t.service_type!==X.e.LEGACY})).map((function(t){return t.grouping_key})).map(this.deleteAggregate)},clearLegacyNotifications:function(){var t=this,e=this.notifications.filter((function(t){return t.service_type===X.e.LEGACY})).map((function(t){return t.notification_uuid}));if(0===e.length)return Promise.resolve();var i=e.map(this.getLegacyNotificationByUuid).flatMap((function(t){return t.notifications}));return this.deleteLegacyNotifications(i).then((function(){return t.$store.commit(k.Nb,{key:t.$store.getters[s.fb],items:e})}))}}),components:{notificationsList:Te,sectionHeader:Se}},De=Object($.a)(Le,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.hasNotifications?i("section",{staticClass:"vf-empty-bg-colour vf-notification-section"},[i("section-header",{attrs:{text:t.$i18n(t.header.text),"aria-label":t.$i18n(t.header.ariaLabel,{count:t.visibleNotifications.length}),"should-show-clear-button":t.shouldShowClearButton},on:{clear:t.clearSectionNotifications}}),t._v(" "),i("notifications-list",{attrs:{notifications:t.visibleNotifications}})],1):t._e()])}),[],!1,null,null,null).exports,Me=(i(306),i(1431)),Fe=i(933),Re={props:{title:p.a.string.isRequired,url:p.a.string.isRequired,imageUrl:p.a.string,imageAlt:p.a.string,count:p.a.number.isRequired},data:function(){return{fullUrl:this.url,hasImageError:!1,hasUrlError:!1}},created:function(){this.READ_STATUS_READ=X.c;try{var t=new URL(this.url);t.searchParams.append("__vfz","medium=".concat(et.TRAY_TOP_PAGES_MEDIUM)),this.fullUrl=t.href}catch(t){console.error('The URL "'.concat(this.url,'" is invalid, please update the og:url on the article page to be a valid URL'))}},computed:{clientImage:function(){var t=this.$store.getters[s.Dc].client_notification_image;return t&&t.small},recordProps:function(){return this.fullUrl?{tag:"a",href:this.fullUrl}:{tag:"div"}}},components:{notificationListItem:ot,notificationRecord:dt,vfTrendingIcon:Me.a,commentIcon:Fe.a}},Be=(i(1006),Object($.a)(Re,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[i("notification-list-item",{attrs:{clickable:Boolean(t.fullUrl),status:t.READ_STATUS_READ}},[i("notification-record",t._b({staticClass:"feed link",attrs:{title:t.title,image:{src:t.imageUrl,alt:t.imageAlt},"aria-label":t.$i18n("trending_articles.trending_article.comments.a11y_label",{title:t.title,count:t.count})},scopedSlots:t._u([{key:"identifier",fn:function(){return[i("vf-trending-icon",{staticClass:"vf-trending-icon",attrs:{"aria-hidden":!0}})]},proxy:!0},{key:"additional-details",fn:function(e){var n=e.classes;return[i("p",{staticClass:"vf-num-comments",class:Object.values(n)},[i("comment-icon",{staticClass:"vf-comment-icon"}),t._v("\n                    "+t._s(t.count)+"\n                ")],1)]}}])},"notification-record",t.recordProps,!1))],1)],1)}),[],!1,null,null,null).exports),He={props:{header:p.a.shape(Q).isRequired,notifications:p.a.array.isRequired},components:{trendingArticle:Be,sectionHeader:Se}},Ve=Object($.a)(He,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"fade"}},[t.notifications.length>0?i("section",{staticClass:"vf-empty-bg-colour vf-notification-section"},[i("section-header",{attrs:{text:t.$i18n(t.header.text),"aria-label":t.$i18n(t.header.ariaLabel,{count:t.notifications.length})}}),t._v(" "),i("ol",t._l(t.notifications,(function(t){return i("trending-article",{key:t.url,attrs:{title:t.origin_title,url:t.origin_url,"image-url":t.origin_image_url,"image-alt":t.origin_image_alt,count:t.total_visible_contents}})})),1)],1):t._e()])}),[],!1,null,null,null).exports,ze=(i(228),i(287)),Ge=i(543),qe={inject:["settings"],data:function(){var t=Object(w.f)();return{slideOut:!1,isVisible:!0,text:{header:this.$i18n("feed.opt_in.header"),close:this.$i18n("feed.opt_in.close"),description:t?this.$i18n("feed.opt_in.description_mobile"):this.$i18n("feed.opt_in.description_desktop"),link:this.$i18n("feed.opt_in.link_subscribe"),linkDescription:t?this.$i18n("feed.opt_in.link_description_mobile"):this.$i18n("feed.opt_in.link_description_desktop"),status:this.$i18n("feed.opt_in.link_subcription_status_unsubscribed")}}},created:function(){this.$subscribe("push","subscribed",this.close),this.$subscribe("push","unsubscribed",this.showComponent)},computed:{user:function(){return this.$store.getters[s.eb]},pushState:function(){return this.$store.getters[s.qc](this.user.uuid)},subscriptionStatus:function(){return this.pushState.isSubscribed},promptOptIn:function(){var t=this.settings.enable_push_notifications&&Object(h.h)()&&!this.wasDismissedByUser()&&!this.userHasSubscribed()&&Object(h.i)()&&this.hasSubscriptionDomain;return Object(_.D)(this.user)?t:t&&!Object(ze.d)(this.pushState)&&!Object(ze.c)(this.pushState)},classes:function(){return{"vf-mobile":Object(w.f)()}},hasSubscriptionDomain:function(){return Object(h.f)()||Object(h.e)()||Boolean(this.settings.client_opt_in_url)}},watch:{subscriptionStatus:function(t){"processing"===t?(this.text.link=this.$i18n("feed.opt_in.link_processing"),this.text.status=this.$i18n("feed.opt_in.link_subscription_status_processing")):!1===t?(this.text.link=this.$i18n("feed.opt_in.link_error"),this.text.status=this.$i18n("feed.opt_in.link_subscription_status_error")):this.text.status=this.$i18n("feed.opt_in.link_subscription_status_subscribed")}},methods:{dismiss:function(){this.setAsDismissed(),this.close()},subscribe:function(){this.$publish("push","subscribe")},setAsDismissed:function(){window.localStorage.setItem("".concat("vf-push-notifications-opt-in","_").concat(this.user.uuid),"dismissed")},close:function(){this.isVisible=!1},showComponent:function(){this.isVisible=!0},wasDismissedByUser:function(){return window.localStorage.getItem("".concat("vf-push-notifications-opt-in","_").concat(this.user.uuid))||!this.isVisible},userHasSubscribed:function(){return!0===this.pushState.isSubscribed}},components:{closeButton:Ge.a}},Ke=(i(1008),Object($.a)(qe,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slideout"}},[t.promptOptIn?i("div",{staticClass:"vf-notification-opt-in vf-secondary-text-colour",class:t.classes},[i("close-button",{directives:[{name:"show",rawName:"v-show",value:t.promptOptIn,expression:"promptOptIn"}],staticClass:"vf-close-opt-in",attrs:{"aria-label":t.text.close},on:{close:t.dismiss}}),t._v(" "),i("h2",[t._v(t._s(t.text.header))]),t._v(" "),i("p",[t._v(t._s(t.text.description))]),t._v(" "),i("div",{staticClass:"vf-opt-in-link-container"},[i("a",{directives:[{name:"show",rawName:"v-show",value:t.promptOptIn,expression:"promptOptIn"}],staticClass:"vf-button vf-opt-in-link vf-primary-bg-colour vf-primary-text-colour",attrs:{"aria-describedby":"vf-opt-in-link-desc",href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.subscribe(e)}}},[t._v("\n                "+t._s(t.text.link)+"\n            ")]),t._v(" "),i("em",{staticClass:"vf-offscreen-text",attrs:{id:"vf-opt-in-link-desc"}},[t._v("\n                "+t._s(t.text.linkDescription)+"\n            ")]),t._v(" "),i("strong",{staticClass:"vf-opt-in-status vf-offscreen-text",attrs:{"aria-role":"polite"}},[t._v("\n                "+t._s(t.text.status)+"\n            ")])])],1):t._e()])}),[],!1,null,null,null).exports),Ye=i(35);function We(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Je(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ze={data:function(){return{trendingId:null}},created:function(){this.trendingFetchStatusKey=Object(Z.a)(),this.settings.enable_tray_trending_articles&&this.fetchTrendingContent()},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?We(i,!0).forEach((function(e){Je(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):We(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({sectionUuid:s.sc,settings:s.Dc}),{currentUserUuid:function(){return this.$store.getters[s.fb]},alertsList:function(){return this.$store.getters[s.Yc](this.currentUserUuid)},sections:function(){var t=this.currentUserUuid;return[{header:{text:"feed.header.today",ariaLabel:"aria.feed.header.today"},notifications:this.$store.getters[s.jd](t)},{header:{text:"feed.header.yesterday",ariaLabel:"aria.feed.header.yesterday"},notifications:this.$store.getters[s.kd](t)},{header:{text:"feed.header.older",ariaLabel:"aria.feed.header.older"},notifications:this.$store.getters[s.id](t)}]},articlesSection:function(){return{isVisible:!0,header:{text:"feed.header.trending_articles",ariaLabel:"aria.feed.header.trending_articles"},notifications:this.trendingArticles}},showOptIn:function(){return Object(h.f)()||Object(h.e)()},trendingArticles:function(){if(null===this.trendingId||!this.$store.getters[s.Zb](W.b.TRENDING_ARTICLES))return[];var t=this.$store.getters[s.tb](this.trendingId);return t&&t.trending||[]}}),methods:{fetchTrendingContent:function(){var t=this;this.$store.dispatch(n.Xb,W.b.TRENDING_ARTICLES),Object(Ye.o)(this.$store).then((function(){return t.$store.dispatch(n.zb,{section_uuid:t.sectionUuid,limit:J.b.DEFAULT,content_container_window_days:J.a.DEFAULT,content_window_hours:J.f.DEFAULT,sorted_by:"total_visible_contents",status_key:t.trendingFetchStatusKey})})).then((function(e){t.trendingId=e}))},getAlertComponentName:function(t){return G[t]}},components:{feedOptIn:Ke,feedSection:De,articlesSection:Ve}},Xe=Object($.a)(Ze,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.showOptIn?i("feed-opt-in"):t._e(),t._v(" "),i("div",{staticClass:"vf-feed-content vf-empty-bg-colour"},[i("section",{staticClass:"vf-notification-alert-section",attrs:{role:"alert"}},[i("ol",{staticClass:"vf-vert-list"},t._l(t.alertsList,(function(e){return i(t.getAlertComponentName(e.status),{key:e.key,tag:"component",attrs:{alert:e}})})),1)]),t._v(" "),i("h2",{staticClass:"vf-offscreen-text"},[t._v("\n            "+t._s(t.$i18n("aria.feed.notifications.tray_feed_header"))+"\n        ")]),t._v(" "),t._l(t.sections,(function(t){return i("feed-section",{key:t.header.text,attrs:{header:t.header,notifications:t.notifications}})})),t._v(" "),i("articles-section",t._b({},"articles-section",t.articlesSection,!1))],2)],1)}),[],!1,null,null,null).exports,Qe=i(1009),ti=i.n(Qe),ei=i(448),ii=i(857),ni=i(470),si=i(485),ri={data:function(){return{isEntered:!1,wasJustClicked:!1}},inject:[nt.b],props:{userUuid:{type:String,required:!0}},components:{vfButton:ei.a},created:function(){this.unmuteText=this.$i18n("user_actions.unmute"),this.isMutedText=this.$i18n("user_actions.muted"),this.isNotMutedText=this.$i18n("user_actions.mute")},computed:{classes:function(){return{"vf-mute-button--unmuted":!this.isMuted,"vf-mute-button--muted-and-hovered":this.isMuted&&(this.wasJustClicked||!this.isEntered),"vf-mute-button--muted":this.isMuted}},xClasses:function(){return{"vf-svg-mute__x--rotated":this.canShowUnmute}},user:function(){return this.$store.getters[s.ed](this.userUuid)},isMuted:function(){return this.user.is_muted},currentText:function(){return this.canShowUnmute?this.unmuteText:this.isMuted?this.isMutedText:this.isNotMutedText},currentAriaLabel:function(){return this.isMuted?this.isMutedAria:this.isNotMutedAria},longestText:function(){return[this.unmuteText,this.isMutedText,this.isNotMutedText].reduce((function(t,e){return t.length>e.length?t:e}))},canShowUnmute:function(){return this.isMuted&&!this.wasJustClicked&&this.isEntered},displayName:function(){return this.user?this.user.username_pending||this.user.name:null},isMutedAria:function(){return this.$i18n("user_actions.unmute_aria_label",{username:this.displayName})},isNotMutedAria:function(){return this.$i18n("user_actions.mute_aria_label",{username:this.displayName})}},methods:{toggleEntered:function(t){this.isEntered=t,t||(this.wasJustClicked=!1)},setClicked:function(){this.wasJustClicked=!0}},directives:{hovered:si.a,innerFocus:ni.a}},ai=(i(1010),Object($.a)(ri,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-button",t._g(t._b({directives:[{name:"inner-focus",rawName:"v-inner-focus",value:t.toggleEntered,expression:"toggleEntered"},{name:"hovered",rawName:"v-hovered",value:t.toggleEntered,expression:"toggleEntered"}],staticClass:"vf-mute-button vf-label-text",class:t.classes,attrs:{size:t.SIZES.TINY},on:{click:t.setClicked}},"vf-button",t.$attrs,!1),t.$listeners),[i("svg",{staticClass:"vf-svg-mute",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 100 100"}},[i("path",{staticClass:"vg-svg-mute__speaker",attrs:{d:"M53.966 18.014a1.77 1.77 0 0 0-.734.257L31.935 31.688H10.808c-.998\n            0-1.808.817-1.808 1.824v30.994c0 1.006.81 1.823 1.808 1.823H31.99l21.24\n            13.39c1.201.76 2.764-.11 2.769-1.539V19.838a1.813 1.813 0 0 0-2.034-1.824zm-1.581\n            5.1v51.761L34.308 63.48V34.508l18.077-11.395zm-39.77\n            12.22h18.077v27.349H12.615V35.335z"}}),t._v(" "),i("g",{attrs:{transform:"translate(78.9345964, 48.0244628)"}},[i("g",{staticClass:"vf-svg-mute__x",class:t.xClasses},[i("g",{attrs:{transform:"translate(-78.9345964,-48.0244628)"}},[i("path",{attrs:{d:"M66.935 33.024c-1.82.179-2.594 2.41-1.27 3.675l11.322 11.324-11.322\n                        11.291a2.13 2.13 0 0 0-.044 3.05c.84.852 2.215.847 3.05-.01l11.32-11.325\n                        11.32 11.325c.836.857 2.21.862 3.051.01a2.13 2.13 0 0 0-.044-3.05L82.996\n                        48.023l11.322-11.324c1.524-1.431.3-3.975-1.771-3.675-.473.066-.906.29-1.235.635l-11.32\n                        11.324-11.32-11.324a2.148 2.148 0 0 0-1.737-.635z"}})])])])]),t._v(" "),i("span",{staticClass:"vf-mute-button__text-container"},[i("span",{staticClass:"vf-offscreen-text",attrs:{"aria-live":"polite"}},[t._v("\n            "+t._s(t.currentAriaLabel)+"\n        ")]),t._v(" "),i("span",{staticClass:"vf-mute-button__text vf-flex",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.currentText)+"\n        ")]),t._v(" "),i("span",{staticClass:"vf-mute-button__hidden-text",attrs:{"aria-hidden":"true"}},[t._v("\n            "+t._s(t.longestText)+"\n        ")])])])}),[],!1,null,"07a47802",null).exports),oi=function(t,e){return t.uuid===e.uuid};function ci(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function ui(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var li={props:["user"],inject:["settings",nt.b,nt.a],computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ci(i,!0).forEach((function(e){ui(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ci(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({currentUser:s.eb,settings:s.Dc}),{displayName:function(){return this.user?this.user.username_pending||this.user.name:null},showMuteButton:function(){return this.settings.enable_muting&&!this.isMyProfile&&!Object(_.F)(this.currentUser)},isMyProfile:function(){return oi(this.user,this.currentUser)},avatarProps:function(){return{user:this.user,current_user_uuid:this.currentUser.uuid,size:this.SIZES.LARGE}}}),methods:{settingsButtonClicked:function(){this.$publish(r.A.CHANNEL,r.A.EVENTS.OPEN,null,b.c.SETTINGS)},attemptFollow:function(){return this.$authorize("follow","user",[this.currentUser,this.user,this.settings],{action:a.s})?this.user.is_followed?this.attemptAction(n.jd,"feed.alerts.unfollow"):this.attemptAction(n.Ib,"feed.alerts.follow"):Promise.resolve()},attemptMute:function(){return this.$authorize("mute","user",[this.currentUser,this.user],{action:a.t})?this.user.is_muted?this.attemptAction(n.nd,"feed.alerts.unmute"):this.attemptAction(n.ec,"feed.alerts.mute"):Promise.resolve()},attemptAction:function(t,e){var i=this,n=this.$store.getters[s.fb];return this.$store.dispatch(t,{uuid:this.user.uuid}).catch((function(){var t=ee(R.REJECTED,e);i.$store.commit(k.y,{key:n,items:[t]})}))}},components:{vfAvatar:ct.a,vfButton:ei.a,muteButton:ai,followButton:ii.a}},fi=(i(1011),Object($.a)(li,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vf-flex vf-profile-header vf-tray-header-backdrop vf-profile-backdrop"},[i("vf-avatar",t._b({staticClass:"vf-profile-header__avatar"},"vf-avatar",t.avatarProps,!1)),t._v(" "),i("div",{staticClass:"vf-flex-vert vf-profile-header__right"},[i("div",{staticClass:"vf-profile-header__name vf-subheading-text truncate"},[t._v("\n            "+t._s(t.displayName)+"\n        ")]),t._v(" "),i("span",{staticClass:"vf-flex vf-profile-header__button-container"},[i("span",[t.isMyProfile?i("vf-button",{staticClass:" vf-label-text",attrs:{palette:t.PALETTES.ACCENT,size:t.SIZES.TINY,"is-inverted":"","is-cta":""},on:{click:t.settingsButtonClicked}},[t._v("\n                    "+t._s(t.$i18n("navigation.settings"))+"\n                ")]):i("follow-button",{attrs:{"is-following":this.user.is_followed,"unfollow-text":t.$i18n("user_actions.unfollow"),"is-following-text":t.$i18n("user_actions.following"),"is-following-aria":t.$i18n("tray.user_actions.unfollow_user_aria_label",{username:this.displayName}),"is-not-following-text":t.$i18n("user_actions.follow"),"is-not-following-aria":t.$i18n("tray.user_actions.follow_user_aria_label",{username:this.displayName})},on:{click:t.attemptFollow}})],1),t._v(" "),t.showMuteButton?i("mute-button",{staticClass:"vf-profile-header__mute-button",attrs:{"user-uuid":this.user.uuid},on:{click:t.attemptMute}}):t._e()],1)])],1)}),[],!1,null,"38c77ba9",null).exports),di=l.default.extend({data:function(){return{}}}),hi=i(881),pi=i.n(hi),vi=i(882),mi=i.n(vi),gi=i(883),bi=i.n(gi),_i=i(1012),yi=i.n(_i),wi=Rt.a.extend({data:function(){return{graphics:pi.a,viewBox:"0 0 17 17"}}}),Oi=Rt.a.extend({data:function(){return{graphics:bi.a,viewBox:"-1 0 17 17"}}}),Ei=Rt.a.extend({data:function(){return{graphics:mi.a,viewBox:"0 0 17 17"}}}),Ci=l.default.extend({template:yi.a,props:["count"],computed:{getIconName:function(){return"vf-".concat(this.count.name,"-icon")}},methods:{onClick:function(){if(oi(this.count.user,this.$user()))switch(this.count.name){case"follows":this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,"vf-community"),this.$publish("community-tab","change","followers")}}},components:{vfCommentsIcon:wi,vfFollowsIcon:Oi,vfLikesIcon:Ei}});function Ni(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function $i(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ni(i,!0).forEach((function(e){Ti(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ni(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function Ti(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var xi={props:{user:p.a.object.isRequired},inject:["settings"],created:function(){var t=this;this.profileCounts=[{name:"comments",icon:pi.a,test:function(){return!0}},{name:"likes",icon:mi.a,test:function(){return!0}},{name:"follows",icon:bi.a,test:function(){return Object(_.h)(t.settings)}}]},computed:$i({},Object(O.c)({getAllUserOverviewByUuid:s.l,getFollowersByUuid:s.mb}),{allUserOverview:function(){return this.getAllUserOverviewByUuid(this.user.uuid)},followers:function(){return this.getFollowersByUuid(this.user.uuid)},commentCountText:function(){return this.$i18n("profile.comment",{num:this.allUserOverview.content_created})},likesReceivedText:function(){return this.$i18n("profile.like",{num:this.allUserOverview.likes_received})},followersText:function(){return this.$i18n("profile.followers",{num:this.followers.length})},filteredCounts:function(){var t=this;return[{text:this.commentCountText,count:this.allUserOverview.content_created,hasClickEvent:!1},{text:this.likesReceivedText,count:this.allUserOverview.likes_received,hasClickEvent:!1},{text:this.followersText,count:this.followers.length,hasClickEvent:oi(this.user,this.$user())}].map((function(e,i){return $i({},t.profileCounts[i],{},e,{user:t.user})})).filter((function(t){return t.test()}))}}),components:{vfProfileCount:Ci}},ji=(i(1013),Object($.a)(xi,(function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"vf-profile-overview"},[e("ul",{staticClass:"vf-counts-list vf-horiz-list"},this._l(this.filteredCounts,(function(t){return e("vf-profile-count",{key:t.name,class:"vf-counts-list__"+t.name,attrs:{count:t,"data-count":t.count}})})),1)])}),[],!1,null,null,null).exports),Pi=i(166),Si=i(1014),ki=i.n(Si),Ai=i(439);var Ui=l.default.extend({template:ki.a,props:["type","name"],computed:{content:function(){var t="activity.content.alert.".concat(this.type);return this.name?this.$i18n("".concat(t,".other"),{name:this.name}):this.$i18n("".concat(t,".self"))},classes:function(){return t={"vf-content-alert":!0},e="vf-content-alert-".concat(this.type),i=!0,e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t;var t,e,i}},components:{vfExclamationMarkIcon:Ai.a}}),Ii=i(1015),Li=i.n(Ii),Di=i(1016),Mi=i.n(Di),Fi=(i(1017),i(549)),Ri=i(1018),Bi=i.n(Ri),Hi=Rt.a.extend({data:function(){return{graphics:Bi.a}}}),Vi=l.default.extend({template:Mi.a,props:{media:{type:Object,required:!0}},computed:{classes:function(){return{"vf-thumbnail":!0,"vf-video-processing":this.isLoading}},width:function(){return this.isVideo?this.media.width:this.isPicture?(this.media.s||this.media.t).x:0},height:function(){return this.isVideo?this.media.height:this.isPicture?(this.media.s||this.media.t).y:0},vfImageData:function(){return{src:this.thumbnail,originalWidth:this.width,originalHeight:this.height,cropShape:Fi.a.SQUARE,class:this.classes}},isLoading:function(){return this.isVideo&&"in_progress"===this.media.processing_status},isPicture:function(){return"imagefile"===this.media.type},isVideo:function(){return"videofile"===this.media.type},thumbnail:function(){return this.isPicture?this.media.s&&this.media.s.url||this.media.t.url:this.isVideo&&this.media.thumbs_status?this.media.thumbs.small:null}},components:{vfProcessingIcon:Hi,vfImage:Fi.b}});var zi=l.default.extend({props:{media:{type:Array,default:function(){return[]}},maxMedia:{type:Number,default:4}},template:Li.a,computed:{classes:function(){var t,e,i,n="vf-media-gallery-".concat(this.maxMedia);return i=!0,(e=n)in(t={"vf-media-gallery":!0})?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},visibleMedia:function(){return this.media.length<=this.maxMedia?this.media:this.media.slice(0,this.maxMedia)}},methods:{count:function(t){return t<this.maxMedia-1?0:this.media.length-this.maxMedia}},components:{vfMediaThumbnail:Vi}});function Gi(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function qi(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ki={props:["action","name"],computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Gi(i,!0).forEach((function(e){qi(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Gi(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({getRelativeTime:s.rc}),{comment:function(){return this.action},page:function(){var t=this.comment.content_uuid;return this.$store.getters[s.nc]({uuid:t})},originTitle:function(){return this.comment.metadata?this.comment.metadata.origin_title:this.page.title},status:function(){return this.comment.processing_status},deepLinkedUrl:function(){return this.comment.metadata?"".concat(this.comment.metadata.origin_url,"#vf-").concat(Pi.a,"-").concat(this.comment.content_uuid):"".concat(this.page.url,"#vf-").concat(Pi.a,"-").concat(Object(_e.g)(this.comment.uuid))},title:function(){var t="review"===this.comment.type?"review":"comment";return 0===this.name.length?this.$i18n("profile.user_actions.comment.".concat(t,".self")):this.$i18n("profile.user_actions.comment.".concat(t,".other"),{name:this.name})},hasMedia:function(){return Boolean(this.comment.media)},media:function(){return this.comment.media?this.comment.media:[]},text:function(){return Object(it.b)(this.comment.content,100)},getActivityAlertType:function(){return"removed"===this.status||"disabled"===this.status?this.status:!!this.isContentMissing&&"missing"},isContentMissing:function(){return"image"===this.comment.type&&!(this.comment.picture||this.media)||"video"===this.comment.type&&!(this.comment.video||this.media)},timestamp:function(){return this.comment.date_created}}),components:{vfRecord:je,vfActivityContentAlert:Ui,vfMediaGallery:zi,vfTimestamp:ut.a}},Yi=Object($.a)(Ki,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("vf-record",{staticClass:"profile",attrs:{tag:"a",href:t.deepLinkedUrl},scopedSlots:t._u([{key:"content",fn:function(){return[i("p",{staticClass:"vf-secondary-text-colour"},[t._v("\n                "+t._s(t.title)+"\n                "),i("em",{staticClass:"vf-article-title vf-primary-colour"},[t._v("\n                    "+t._s(t.originTitle)+":\n                ")]),t._v(" "),t.getActivityAlertType?i("vf-activity-content-alert",{attrs:{type:t.getActivityAlertType,name:t.name}}):t._e()],1),t._v(" "),t.text.length>0?i("p",{staticClass:"vf-secondary-text-colour"},[t._v('\n                "'+t._s(t.text)+'"\n            ')]):t._e(),t._v(" "),i("vf-media-gallery",{attrs:{media:t.media}})]},proxy:!0},{key:"timestamp",fn:function(){return[i("vf-timestamp",{attrs:{timestamp:t.timestamp}})]},proxy:!0}])})],1)}),[],!1,null,null,null).exports,Wi={props:{user:{type:Object,required:!0},isCurrentUser:{type:Boolean,required:!0}},computed:{name:function(){return this.isCurrentUser?"":this.user.name},comments:function(){return this.$store.getters[s.m](this.user.uuid)},emptyMessage:function(){return this.isCurrentUser?this.$i18n("profile.user_actions.comment.none.self"):this.$i18n("profile.user_actions.comment.none.other",{name:this.user.name})}},components:{vfActivity:Yi}},Ji=(i(1019),Object($.a)(Wi,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vf-activity-list"},[i("h3",{staticClass:"vf-offscreen-text",attrs:{id:"vf-tray__comment_history"}},[t._v("\n        "+t._s(t.$i18n("profile.user_actions.comment_history"))+"\n    ")]),t._v(" "),t.comments.length>0?i("ol",{attrs:{"aria-labelledby":"vf-tray__comment_history"}},t._l(t.comments,(function(e){return i("vf-activity",{key:e.uuid||e.content_uuid,staticClass:"vf-activity-list__list-item",attrs:{action:e,name:t.name}})})),1):i("p",{staticClass:"vf-none vf-activity-list--empty"},[t._v("\n        "+t._s(t.emptyMessage)+"\n    ")])])}),[],!1,null,null,null).exports),Zi=(i(1020),i(1021)),Xi=i.n(Zi),Qi=i(596),tn=i(1430),en={template:Xi.a,extends:di,props:["user"],data:function(){return{expanded:!1}},methods:{onExpandCollapse:function(){this.expanded=!this.expanded}},computed:{title:function(){return this.$i18n("profile.id_container_title")},footerText:function(){return this.$i18n("profile.id_container_footer_text")},columns:function(){return[{header:"",field:"idType",isRowHeader:!0},{header:"",field:"idValue"}]},rows:function(){var t={idType:{value:this.$i18n("profile.viafoura_id")},idValue:{value:this.viafouraId}},e=this.thirdPartyId,i={idType:{value:this.$i18n("profile.third_party_id")},idValue:{value:e}};return e?[t,i]:[t]},viafouraId:function(){return this.user?this.user.id:null},thirdPartyId:function(){return this.user?this.user.social_login_id:null},a11yDescription:function(){return this.$i18n("profile.user_details_button_description")}},components:{vfContainer:Qi.a,vfTable:tn.a}},nn=(i(109),i(1029),di.extend({template:ti.a,props:["tabOptions"],data:function(){return{isProfileActivityReady:!1}},mounted:function(){var t=this,e=this.tabOptions.user_uuid;return this.uuid=e,Object(Ye.n)(this.$store).then((function(){return t.isProfileActivityReady=!0,t.fetchAllForUser(e)})).catch((function(t){}))},computed:{user:function(){var t=this.tabOptions.user_uuid;return this.$store.getters[s.ed](t)},isCurrentUser:function(){return this.user.uuid===this.$store.getters[s.fb]},isVisibleToCurrentUser:function(){return this.$store.getters[s.Mb]}},methods:{fetchAllForUser:function(t){return Promise.all([this.$store.dispatch(n.Bb,t),this.$store.dispatch(n.ab,{uuid:t}),this.$store.dispatch(n.gb,{uuid:t}),this.$store.dispatch(n.Db,{user_uuid:t}),this.$store.dispatch(n.Cb,{user_uuid:t})])}},watch:{user:function(t){var e=t.uuid;return e===this.uuid?Promise.resolve():(this.uuid=e,this.fetchAllForUser(e))}},components:{vfProfileHeader:fi,vfProfileOverview:ji,vfProfileActivity:Ji,vfProfileUserDetails:en}})),sn=(i(1030),i(1031)),rn=i.n(sn),an=i(1032),on=i.n(an),cn=i(1033),un=i.n(cn),ln=i(627),fn=Object(B.b)(F.a),dn={props:{textKey:p.a.string.isRequired},components:{vfCloseButton:fn}},hn=(i(1034),Object($.a)(dn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-close-button",{staticClass:"vf-dismiss vf-label",attrs:{size:"vf-icon-small"},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("dismiss")}}},[i("span",{staticClass:"vf-hover-text"},[t._v(t._s(t.$i18n(t.textKey)))])])}),[],!1,null,"5855f38f",null).exports),pn=i(279);var vn,mn={props:{model:p.a.object.isRequired},data:function(){return{palette:pn.a.DARK_PRIMARY}},computed:{descriptor:function(){return this.$i18n("community.following.getDate")},currentUser:function(){return this.$store.getters[s.eb]},isUser:function(){return"user"===this.model.type},isAuthor:function(){return"author"===this.model.type},isTopic:function(){return!this.isUser&&!this.isAuthor},avatarProps:function(){return{user:this.model,current_user_uuid:this.currentUser.uuid,size:Dt.a.MEDIUM,isClickable:!0}},getClientClass:function(){var t,e,i,n="vf-client--".concat(this.model.type);return t={},e=n,i=this.isTopic,e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},methods:{onAvatarClick:function(){switch(this.model.type){case"user":this.toggleOtherUserProfile()}},toggleOtherUserProfile:function(){Object(K.c)(this.model)||this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,b.c.PROFILE,{user_uuid:this.model.uuid})},onDismissClick:function(){switch(this.$emit("unfollow"),this.canUnfollow=!1,this.model.type){case"user":this.$store.dispatch(n.jd,{uuid:this.model.uuid});break;default:window.vf.topics.unsubscribe(this.model.uuid,this.$store)}}},components:{vfDismiss:hn,vfTopicIcon:Yt,vfAuthorIcon:Wt.a,vfAvatar:ct.a,vfTimestamp:ut.a,vfRecord:je,pillBadge:ln.a}},gn=(i(1035),Object($.a)(mn,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[i("vf-record",{staticClass:"community",class:t.getClientClass,scopedSlots:t._u([{key:"identifier",fn:function(){return[t.isUser?i("vf-avatar",t._b({staticClass:"community__identifier--user",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.onAvatarClick(e)}}},"vf-avatar",t.avatarProps,!1)):t.isTopic?i("vf-topic-icon",{staticClass:"community__identifier--topic vf-image-small"}):t.isAuthor?i("vf-author-icon",{staticClass:"community__identifier--author vf-image-small"}):t._e()]},proxy:!0},{key:"content",fn:function(){return[i("p",{staticClass:"vf-secondary-text-colour title"},[i("span",[t._v(t._s(t.model.title))]),t._v(" "),t.isUser?t._e():i("pill-badge",{staticClass:"vf-following-item__badge",attrs:{palette:t.palette}},[t._v("\n                    "+t._s(t.model.type)+"\n                ")])],1)]},proxy:!0},{key:"timestamp",fn:function(){return[i("vf-timestamp",{attrs:{timestamp:t.model.timestamp,descriptor:t.descriptor}})]},proxy:!0},{key:"action",fn:function(){return[i("vf-dismiss",{attrs:{"text-key":"user_actions.unfollow"},on:{dismiss:t.onDismissClick}})]},proxy:!0}])})],1)}),[],!1,null,"3b08e654",null).exports),bn=l.default.extend({props:{model:{type:Object,required:!0}},template:un.a,computed:{descriptor:function(){return null},avatarProps:function(){return{user:this.model,current_user_uuid:this.$store.getters[s.fb],size:Dt.a.MEDIUM,isClickable:!0}}},methods:{toggleOtherUserProfile:function(){Object(K.c)(this.model)||this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,b.c.PROFILE,{user_uuid:this.model.uuid})}},components:{vfAvatar:ct.a,vfTimestamp:ut.a,vfRecord:je}}),_n=function(t,e,i){return bn.extend({computed:{descriptor:function(){return this.$i18n(t)},timestamp:function(){return this.model[e]}},components:{"vf-community-action-button":i}})},yn=_n("community.followers.getDate","date_following",he),wn=gn,On=_n("community.muted.getDate","date_muted",pe),En=_n("community.suggestions.getDate","date",he),Cn=l.default.extend({template:on.a,props:["items","tab"],computed:{models:function(){return"following"===this.tab?this.items:this.$store.getters[s.Db](this.items)}},methods:{focusNearest:function(t){var e=this.$refs.items[t-1];e?e.$el.querySelector(".vf-dismiss").focus():this.$emit("focus-current-tab")}},components:{following:wn,followers:yn,muted:On,suggestions:En}}),Nn=i(1036),$n=i.n(Nn),Tn=di.extend({template:$n.a,props:["suggestions"],components:{"vf-community-items":Cn,vfRecord:je}}),xn="followers",jn="following",Pn="muted",Sn=di.extend({template:rn.a,inject:["settings"],mounted:function(){this.$subscribe("community-tab","change",this.changeTab),this.showMutes&&this.$store.dispatch(n.nb,{uuid:this.user.uuid}).catch((function(){})),this.showFollows&&(this.$store.dispatch(n.gb,{uuid:this.user.uuid}).catch((function(){})),this.$store.dispatch(n.fb,{uuid:this.user.uuid}).catch((function(){}))),this.$store.dispatch(n.yb).catch((function(){}))},data:function(){var t=this.$user(),e=this.settings.enable_muting&&!Object(_.F)(t),i=!this.settings.disable_email_notifications,n={user:t,showMutes:e,showFollows:i,communityTab:!i&&e?Pn:xn};return n},computed:{alerts:function(){var t=this.$store.getters[s.fb];return this.$store.getters[s.Yc](t)},showTopList:function(){return this.communityTab===jn&&0===this.followees.length&&this.topUsers.length>0&&this.showFollows},followees:function(){return this.$store.getters[s.kb]},followers:function(){return this.$store.getters[s.mb](this.$store.getters[s.fb])},muted:function(){return this.$store.getters[s.fc](this.$store.getters[s.fb])},topUsers:function(){return this.$store.getters[s.Wc]({uuid:this.$store.getters[s.fb]})},showCommunity:function(){return this.headers.length>0},headers:function(){var t=this,e=this.showFollows?[jn,xn]:[],i=this.showMutes?[Pn]:[],n=e.concat(i);return n.map((function(e){return{name:e,i18nKey:"community.".concat(e,".header"),count:t.mapTabToList(e).length,classes:[e],ariaLabel:t.$i18n("community.".concat(e,".headerAriaLabel"),{num:t.mapTabToList(e).length})}}))}},methods:{focusCurrentTab:function(){this.$el.querySelector(".vf-tabbed-nav .vf-active").focus()},getEmptyCommunityTabText:function(t){return"community.".concat(t,".empty")},getAlertComponentName:function(t){return"vf-feed-alert-".concat(t)},changeTab:function(t){this.communityTab=t},getClasses:function(t){var e=t===this.communityTab;return{active:e,"vf-primary-text-colour vf-primary-bg-colour ":e,"vf-secondary-bg-colour vf-secondary-text-colour":!e}},mapTabToList:function(t){switch(t){case jn:return this.followees;case xn:return this.followers;case Pn:return this.muted;default:return[]}},getCommunityList:function(){return this.mapTabToList(this.communityTab)},showEmpty:function(){return this.communityTab===jn?0===this.followees.length&&0===this.topUsers.length:0===this.$store.getters[s.Db](this.getCommunityList()).length}},components:{"vf-feed-alert-approved":G.approved,"vf-feed-alert-rejected":G.rejected,"vf-feed-alert-information":G.information,"vf-community-items":Cn,"vf-community-suggestions":Tn,vfTabbedNavigation:y.a}}),kn=(i(151),i(1037)),An=i.n(kn),Un=i(179),In=i(885),Ln=i(52),Dn=(i(1046),i(1047)),Mn=i.n(Dn),Fn=i(454);function Rn(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Bn,Hn,Vn,zn,Gn,qn="push_unsupported",Kn="push_blocked",Yn="must_enable_push",Wn="other_error",Jn="no_error",Zn=(Rn(vn={},qn,{messageKey:"settings.controls.browser_notification_unsupported",hasLink:!1,type:Fn.a.WARNING}),Rn(vn,Yn,{messageKey:"settings.controls.browser_notification_enable",hasLink:!0,type:Fn.a.WARNING}),Rn(vn,Kn,{messageKey:"settings.controls.browser_notification_blocked",hasLink:!0,type:Fn.a.ERROR}),Rn(vn,Wn,{messageKey:"settings.controls.browser_notification_error",hasLink:!1,type:Fn.a.ERROR}),Rn(vn,Jn,{}),vn),Xn=i(566),Qn=i(1048),ts=i.n(Qn),es=i(1049),is=i.n(es),ns=i(467),ss=(Bn=h.f,Hn=h.e,Vn=h.h,zn=ze.d,Gn=ze.c,function(t,e){var i=Bn()||Hn();if(t&&i){if(!Vn())return qn;if(!zn())return Gn()?Kn:Yn}return e?Wn:Jn});function rs(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function as(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var os=l.default.extend({template:Mn.a,data:function(){var t=this.$store.getters[s.eb];return{isEmailNotificationChecked:Boolean(t.email_notice_frequency),isEmailNotificationProcessing:!1,browserNotificationMessage:{},browserIcon:ts.a,emailIcon:is.a,text:{header:this.$i18n("settings.update.notifications")},hasSubscribeError:!1}},mounted:function(){var t=this;this.updateBrowserNotificationMessage(),this.$subscribe("push","update-permission",(function(){t.updateBrowserNotificationMessage(!1)})),this.$subscribe("push","subscribe-error",(function(){t.updateBrowserNotificationMessage(!0)})),this.$subscribe("push","subscribed",this.updateBrowserNotificationMessage),this.$subscribe("push","unsubscribed",this.updateBrowserNotificationMessage)},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?rs(i,!0).forEach((function(e){as(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rs(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({user:s.eb,settings:s.Dc,isSVODEnabled:s.Nc}),{pushState:function(){return this.$store.getters[s.qc](this.user.uuid)},canUpdateBrowserNotifications:function(){return!(!this.settings.enable_push_notifications||!Object(h.h)())&&!!(Object(h.f)()||Object(h.e)()||this.settings.client_opt_in_url)},showHeader:function(){return this.canUpdateBrowserNotifications||this.canUpdateEmailNotifications},canUpdateEmailNotifications:function(){return!this.settings.disable_email_notifications&&this.isLoggedIn&&(!this.isSocial||this.user.social_login_provider===Ln.e||this.user.social_login_provider===Ln.f)},isBrowserNotificationChecked:function(){return Object(ze.a)(this.pushState)},isBrowserNotificationProcessing:function(){return Object(ze.b)(this.pushState)},isEmailNotificationCheckedAria:function(){return JSON.stringify(this.isEmailNotificationChecked)},isBrowserNotificationCheckedAria:function(){return JSON.stringify(Object(ze.a)(this.pushState))},isLoggedIn:function(){return Object(_.D)(this.user)},isSocial:function(){return!(Object(_.E)(this.settings)||this.isSVODEnabled())&&!Object(_.K)(this.user)&&Boolean(this.user.social_login_id)},browserNotificationsSetting:function(){return{name:"browser_notifications",value:this.isBrowserNotificationChecked,indeterminate:this.isBrowserNotificationProcessing}},updateEmailNotificationsSetting:function(){return{name:"email_notifications",value:this.isEmailNotificationChecked,indeterminate:this.isEmailNotificationProcessing}}}),methods:{updateBrowserNotificationMessage:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=ss(this.isBrowserNotificationChecked,t);this.browserNotificationMessage=Zn[e]},toggleEmailNotifications:function(){var t=this;this.isEmailNotificationProcessing=!0,this.isEmailNotificationChecked=!this.isEmailNotificationChecked;var e=this.isEmailNotificationChecked?"immediately":"never";this.$emit("toggle","email_notifications",e,(function(){setTimeout((function(){t.isEmailNotificationProcessing=!1}),300)}))},toggleBrowserNotifications:function(){var t=Object(ze.a)(this.pushState)?"unsubscribe":"subscribe";this.$publish("push",t)},onErrorLinkClick:function(){switch(ss(this.isBrowserNotificationChecked,!1)){case Kn:this.$publish("window","redirect","http://support.viafoura.com/how-to-re-enable-browser-push-notifications/",!0);break;case Yn:this.$publish("push","subscribe")}}},components:{vfToggleInput:Xn.a,vfStatusMessage:ns.a}}),cs={extends:fe,computed:{textKey:function(){return"settings.file.choose_file"}},methods:{onClick:function(){this.$emit("choose-file")}}},us=i(48),ls={props:{user:{required:!0}},computed:{avatarProps:function(){return{user:this.user,current_user_uuid:this.$user().uuid,size:Dt.a.LARGE,isClickable:!0}}},methods:{onFileChange:function(t){this.file=t.currentTarget.value,this.loadAvatarFile()},getFileInput:function(){return Object(us.a)(".vf-avatar-file",this.$el)},chooseFile:function(){var t=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});this.getFileInput().dispatchEvent(t)},validateFile:function(t){return null==t?"":t.size>1e6?"settings.error.file_too_big":t.type.includes("image")?"":"settings.error.file_wrong_type"},loadAvatarFile:function(){var t=this.getFileInput().files[0],e=this.validateFile(t);e?this.$emit("avatar-message","error",e):this.readImageFileIntoAvatar(t)},readImageFileIntoAvatar:function(t){if(t){var e=new FileReader;e.onload=function(){this.tryUpdateAvatar(e.result)}.bind(this),e.readAsDataURL(t)}},tryUpdateAvatar:function(){var t=this;this.$emit("clear-messages");var e=this.getFileInput();if(!(e.files.length<1)){var i=e.files[0];this.$store.dispatch(n.td,{uuid:this.user.uuid,file:i}).then((function(e){if(e.error)throw e;t.$emit("avatar-message","success","settings.avatar_success"),t.$publish("context","load","user",e)})).catch((function(e){t.$emit("avatar-api-error",e)}))}},setDefaultAvatar:function(){var t=this;this.$store.dispatch(n.g,{uuid:this.user.uuid}).then((function(e){t.$publish("context","load","user",e)}))}},components:{vfSettingsButton:cs,vfAvatar:ct.a}},fs=(i(1050),Object($.a)(ls,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vf-avatar-update vf-flex-container vf-client-settings-avatar-section",attrs:{role:"group"}},[i("vf-avatar",t._b({staticClass:"vf-client-settings-avatar-image",nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.chooseFile(e)}}},"vf-avatar",t.avatarProps,!1)),t._v(" "),i("div",{staticClass:"vf-avatar-file-wrapper vf-client-settings-avatar-wrapper",attrs:{role:"group"}},[i("vf-settings-button",{staticClass:"vf-label vf-avatar-file-btn",on:{"choose-file":t.chooseFile}}),t._v(" "),i("input",{staticClass:"vf-avatar-file vf-secondary-border-colour",attrs:{type:"file",name:"avatar",id:"vf-avatar-file"},on:{change:function(e){return e.stopPropagation(),t.onFileChange(e)}}}),t._v(" "),i("p",{staticClass:"vf-client-settings-avatar-max-size"},[t._v("\n            "+t._s(t.$i18n("settings.file.max_size"))+"\n        ")]),t._v(" "),i("p",{staticClass:"vf-client-settings-avatar-supported-types"},[t._v("\n            "+t._s(t.$i18n("settings.file.supported_types"))+"\n        ")]),t._v(" "),i("a",{staticClass:"vf-primary-hoverable vf-client-settings-avatar-use-default",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.setDefaultAvatar(e)}}},[t._v("\n            "+t._s(t.$i18n("settings.file.use_default"))+"\n        ")])],1)],1)}),[],!1,null,null,null).exports),ds=i(858),hs=i(443),ps={props:{messages:{default:function(){return[]}},canUpdateProfile:{type:Boolean,default:!1},status:{type:String,required:!0}},computed:{uniqueMessages:function(){var t=[],e={};return this.messages.forEach((function(i){e[i[1]]||(t.push(i),e[i[1]]=!0)})),t}},methods:{logout:function(){this.$emit("logout-clicked")}},components:{vfButton:B.a,vfStatus:ds.a,loaderButton:hs.a}},vs=(i(1052),Object($.a)(ps,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vf-settings-controls vf-flex-vert vf-vert-spaced vf-client-settings-button-section",attrs:{role:"group"}},[t.canUpdateProfile?i("loader-button",{staticClass:"vf-client-settings-button-update-profile",attrs:{"is-cta":"",palette:"accent",size:"medium",status:t.status},nativeOn:{click:function(e){return e.stopPropagation(),t.$emit("try-update-profile")}}},[t._v("\n        "+t._s(t.$i18n("settings.controls.update_profile"))+"\n    ")]):t._e(),t._v(" "),i("vf-button",{staticClass:"vf-client-settings-button-logout",attrs:{"is-cta":"",palette:"danger"},nativeOn:{click:function(e){return e.stopPropagation(),t.logout(e)}}},[t._v("\n        "+t._s(t.$i18n("settings.controls.logout"))+"\n    ")]),t._v(" "),t._l(t.uniqueMessages,(function(t){return i("vf-status",{key:t[1],attrs:{level:t[0],text:t[1]}})}))],2)}),[],!1,null,null,null).exports),ms=i(557),gs={components:{vfTextInput:ms.a}},bs=Object($.a)(gs,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",{staticClass:"vf-vert-spaced vf-client-settings-form-password vf-setting-module"},[i("h1",{staticClass:"vf-client-settings-form-password-header vf-label vf-label-upper vf-setting-module__title"},[t._v("\n        "+t._s(t.$i18n("settings.update.password"))+"\n    ")]),t._v(" "),i("div",{staticClass:"vf-setting"},[i("vf-text-input",{staticClass:"vf-client-settings-form-password-field-password",attrs:{id:"vf-update-password",setting:{type:"password",name:"vf-update-password"},description:t.$i18n("settings.placeholders.new_password")},on:{input:function(e){return t.$emit("password-input",e)}}})],1),t._v(" "),i("div",{staticClass:"vf-setting"},[i("vf-text-input",{staticClass:"vf-client-settings-form-password-field-verify-password",attrs:{setting:{type:"password",name:"vf-update-password-verify"},description:t.$i18n("settings.placeholders.reenter_password")},on:{input:function(e){return t.$emit("password-verify-input",e)}}})],1)])}),[],!1,null,null,null).exports,_s={components:{vfTextInput:ms.a}},ys=Object($.a)(_s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("fieldset",{staticClass:"vf-vert-spaced vf-setting-module"},[i("h1",{staticClass:"vf-label vf-label-upper vf-setting-module__title"},[t._v("\n        "+t._s(t.$i18n("settings.update.credentials"))+"\n    ")]),t._v(" "),i("div",{staticClass:"vf-setting"},[i("vf-text-input",{attrs:{id:"vf-current-password",setting:{type:"password",name:"vf-current-password"},description:t.$i18n("settings.placeholders.current_password")},on:{input:function(e){return t.$emit("password-input",e)}}})],1)])}),[],!1,null,null,null).exports,ws=i(624);i(1053);function Os(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Es(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Cs=di.extend({template:An.a,data:function(){var t=this.$store.getters[s.eb];return{update_password:"",update_password_verify:"",current_password:"",messages:[],placeholders:{display_name:this.$i18n("settings.placeholders.display_name"),email:this.$i18n("settings.placeholders.email")},status:Un.a.NONE,values:{name:t.name,email:t.email}}},mounted:function(){this.$subscribe("push","subscribed",this.onPushUpdated),this.$subscribe("push","unsubscribed",this.onPushUpdated)},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Os(i,!0).forEach((function(e){Es(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Os(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({user:s.eb,settings:s.Dc}),{isPasswordNeeded:function(){return Boolean(this.values.email&&this.values.email!==this.user.email||this.update_password)},isSocial:function(){return Boolean(this.user.social_login_provider&&!Object(_.K)(this.user))},isThirdParty:function(){return Boolean(this.user.social_login_id)},canUpdateAvatar:function(){return!(this.settings.disable_cookie_avatars||this.isSocial&&this.user.social_login_provider!==Ln.e&&this.user.social_login_provider!==Ln.f)},canUpdateName:function(){return!this.settings.disable_cookie_displayname&&!this.isThirdParty},canUpdateEmail:function(){return!this.isThirdParty},isLoggedIn:function(){return Object(_.D)(this.user)},canUpdatePassword:function(){return this.isLoggedIn&&!this.isThirdParty},showCurrentPassword:function(){return!this.isThirdParty&&this.isPasswordNeeded},baseSchema:function(){return[{component:In.a.TEXT_INPUT,key:"name",name:"name",label:this.placeholders.display_name,type:"text",test:this.canUpdateName},{component:In.a.TEXT_INPUT,key:"email",name:"email",label:this.placeholders.email,type:"email",test:this.canUpdateEmail}].filter((function(t){return!0===t.test}))},canUpdateProfile:function(){return!this.isSocial&&this.baseSchema.length>0&&this.isLoggedIn}}),created:function(){var t=this;this.$subscribe(r.b.CHANNEL,r.b.EVENTS.LOGOUT_FAILURE,(function(){t.messages.push(["error",t.$i18n("settings.error.unable_to_logout")])}))},methods:{onPushUpdated:function(){this.messages=[["success",this.$i18n("settings.profile_success")]]},isFormEmpty:function(){return 0===this.values.name.length&&0===this.values.email.length&&0===this.update_password.length},isNewPasswordVerified:function(){return this.update_password===this.update_password_verify},validateUserUpdate:function(){if(this.isFormEmpty())return"settings.error.empty_form";if(this.values.email&&this.values.email!==this.user.email||this.update_password){if(0===this.current_password.length)return"settings.error.empty_current_password";if(this.update_password&&!this.isNewPasswordVerified())return"settings.error.mismatching_new_passwords"}return""},getProfileUpdates:function(){var t={};this.showCurrentPassword&&this.current_password&&(t.old_password=this.current_password),this.update_password&&(t.new_password=this.update_password);var e=this.values.name;e&&e!==this.user.name&&(t.name=e);var i=this.values.email;return i&&i!==this.user.email&&(t.email=i),t},tryUpdateProfile:function(){var t=this;if(this.clearMessages(),this.canUpdateProfile&&this.status===Un.a.NONE){var e=this.validateUserUpdate();if(e)this.messages.push(["error",this.$i18n(e)]);else{var i=this.getProfileUpdates();Object.keys(i).length>0&&(this.status=Un.a.PENDING,this.$store.dispatch(n.Ad,{uuid:this.user.uuid,updates:i}).then((function(e){t.status=Un.a.NONE,t.messages.push(["success",t.$i18n("settings.profile_success")]),t.$publish("context","load","user",e)})).catch((function(e){t.status=Un.a.NONE,t.messages.push(["error",t.$i18n(t.getErrorStatus(e))])})))}}},tryUpdateEmailNotifications:function(t){var e=this;this.clearMessages();var i={email_notice_frequency:t};return this.$store.dispatch(n.Ad,{uuid:this.user.uuid,updates:i}).then((function(t){if(t.error)throw t;e.messages.push(["success",e.$i18n("settings.profile_success")])}))},getErrorStatus:function(t){return Number.isInteger(t)?this.getErrorStatusFromCode(t):this.getErrorStatusFromObject(t)},getErrorStatusFromObject:function(t){switch(t.api_code){case 327681:return"settings.error.email_in_use";case 327684:return"settings.error.invalid_image_type"}if(t.validation_errors){if(t.validation_errors.email)return"settings.error.invalid_email_address";if(t.validation_errors.old_password||t.validation_errors.new_password)return"settings.error.invalid_password"}return"settings.error.unknown"},getErrorStatusFromCode:function(t){switch(t){case 503:return"settings.error.service_unavailable";default:return"settings.error.unknown"}},onToggle:function(t,e,i){switch(t){case"email_notifications":this.tryUpdateEmailNotifications(e).then(i).catch(i)}},clearMessages:function(){this.messages=[]},addStatusMessage:function(t,e){this.messages.push([t,this.$i18n(e)])},addApiError:function(t){this.messages.push(["error",this.$i18n(this.getErrorStatus(t))])},onLogout:function(){this.$publish(r.b.CHANNEL,r.b.EVENTS.LOGOUT)},updateValue:function(t){var e=t.key,i=t.value;this.values[e]=i}},components:{vfAvatarUpload:fs,vfSettingsControls:vs,vfToggleSettings:os,vfUpdatePassword:bs,vfVerifyPassword:ys,vfInputList:ws.a}}),Ns=(i(23),i(26),i(108),i(1054)),$s=i.n(Ns),Ts=i(29),xs=i(613);function js(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ps(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Ss(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ps(i,!0).forEach((function(e){ks(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Ps(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function ks(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var As={nickname:"NickName",firstname:"FirstName",lastname:"LastName",birthdate:"BirthDate",gender:"Gender",state:"State"},Us={extends:Cs,template:$s.a,data:function(){var t=this.getSchema(),e=this.$store.getters[s.Lc](),i=this.$store.getters[s.eb],n=this.$store.getters[s.Dc];return{schema:t,profile:e,values:this.getInitialValues(t,e,i,n)}},created:function(){delete this.values.name,delete this.values.email},computed:Ss({},Object(O.c)({isSocialUser:s.Oc}),{canChangePassword:function(){return!this.isSocialUser()},showCurrentPassword:function(){return this.canChangePassword},canUpdateProfile:function(){return!0}}),methods:{getSchema:function(){return this.$store.getters[s.Mc]().filter((function(t){return"password"!==t.name})).map((function(t){return{key:t.name,name:t.name,label:t.display,type:t.type,options:t.options}})).map(xs.a)},getInitialValues:function(t,e,i,n){var s=this;return t.map((function(t){return t.name})).reduce((function(t,r){return Ss({},t,ks({},r,s.getLRValue(r,e,i,n)))}),{})},getLRUpdates:function(){var t=this,e={};return Object.entries(this.values).forEach((function(i){var n=js(i,2),s=n[0],r=n[1];r&&t.getLRValue(s)!==r&&(e[s]=r)})),e},isFormEmpty:function(){return 0===this.update_password.length&&Object.values(this.values).every((function(t){return!t}))},validateUserUpdate:function(t){return this.isFormEmpty()?"settings.error.empty_form":this.canChangePassword&&!t.old_password?"settings.error.empty_current_password":t.new_password&&t.new_password!==this.update_password_verify?"settings.error.mismatching_new_passwords":""},tryUpdateProfile:function(){if(this.clearMessages(),this.status===Un.a.NONE){var t=this.getProfileUpdates(),e=this.validateUserUpdate(t);if(e)this.messages.push(["error",this.$i18n(e)]);else{var i=this.getLRUpdates();if(i.emailid)if(this.canChangePassword)this.authenticateAndUpdateEmail(t,i);else{var n=this.$store.getters[s.Jc]();this.updateEmail(t,i,n)}var r=this.formatUpdates(i);if(r.length>0)if(this.status=Un.a.PENDING,this.canChangePassword)this.authenticateAndUpdateProfile(t,r);else{var a=this.$store.getters[s.Jc]();this.updateProfile(t,r,a)}t.new_password&&this.updatePassword(t)}}},tryLogin:function(t){this.status=Un.a.PENDING;var e=this.getEmail();return this.$store.dispatch(n.ad,{email:e,password:t}).catch(this.onSvodError)},updateEmail:function(t,e,i){var s=this;this.$store.dispatch(n.Jc,{email:e.emailid}).catch(this.onSvodError).then((function(){return s.setLocalStorageEmail(e.emailid)})).then((function(){return Object(Ts.l)(i)})).then(this.getSuccessHandler("email")).catch(this.onError)},authenticateAndUpdateEmail:function(t,e){var i=this;return this.tryLogin(t.old_password).then((function(n){var s=n.access_token;return i.updateEmail(t,e,s)}))},authenticateAndUpdateProfile:function(t,e){var i=this;return this.tryLogin(t.old_password).then((function(n){var s=n.access_token;return i.updateProfile(t,e,s)}))},updateProfile:function(t,e,i){var s=this;return this.$store.dispatch(n.bd,{access_token:i,updates:e}).catch(this.onSvodError).then((function(t){var e=t.access_token,i=t.Profile;return s.$store.commit(k.Tc,i),s.profile=i,e})).then((function(t){return Object(Ts.l)(t)})).then(this.getSuccessHandler("profile")).catch(this.onError)},updatePassword:function(t){var e=this;return this.tryLogin(t.old_password).then((function(i){var s=i.access_token;return e.$store.dispatch(n.Kc,{oldPassword:t.old_password,newPassword:t.new_password,currentPassword:t.new_password}).catch(e.onSvodError).then((function(){return Object(Ts.l)(s)})).then(e.getSuccessHandler("password"))})).catch(this.onError)},getSuccessHandler:function(t){var e=this;return function(i){return e.messages.push(["success",e.$i18n("settings.".concat(t,"_success"))]),Object(Ts.c)(i).then((function(t){e.status=Un.a.NONE,e.$publish("context","load","user",t)}))}},onError:function(t){this.status=Un.a.NONE,t&&this.messages.push(["error",t||this.$i18n("settings.error.unknown")])},onSvodError:function(t){return this.status=Un.a.NONE,Promise.reject(this.onError(this.getSvodError(t)))},getSvodError:function(t){var e;switch(t[0]&&t[0].ErrorCode){case 905:e="invalid";break;case 906:e="expired";break;case 908:e="incorrect_format";break;case 936:e="email_taken";break;case 966:e="invalid_credentials";break;default:return t[0]&&t[0].Message}return this.$i18n("svod.settings.".concat(e))},getEmail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.profile,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.user,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.settings;return e?Object(_.B)(e,i)?e.email_pending:!e.email&&t.Email?t.Email.find((function(t){return"Primary"===t.Type})).Value||"":e.email||"":""},getLRValue:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.profile,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return"emailid"===t?this.getEmail(e,i,n):e[As[t]]},setLocalStorageEmail:function(t){var e=JSON.parse(window.localStorage.getItem("LoginRadiusUser"));e.Email=[{Type:"Primary",Value:t}],this.profile=e,this.$store.commit(k.Tc,e)},formatUpdates:function(t){var e=Ss({},t);return delete e.emailid,Object(Lt.d)(e)},getId:function(t){return"vf-update-".concat(t)}}},Is=i(1055),Ls=i.n(Is);i(80);var Ds={props:["login"],computed:{provider:function(){return"vf-".concat(this.login.provider)},classes:function(){return t={},e="vf-".concat(this.login.provider,"-login"),i=!0,e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t;var t,e,i},ariaLabel:function(){return this.login.provider}},methods:{onThirdPartyIconClick:function(t){var e=t.target.closest("li").getAttribute("data-thirdparty").replace("vf-","");this.$publish(r.o.CHANNEL,r.o.EVENTS.SOCIAL,e)}},components:{vfButton:B.a}},Ms=(i(1056),Object($.a)(Ds,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"vf-thirdparty-control",attrs:{"data-thirdparty":t.provider}},[i("vf-button",{staticClass:"vf-thirdparty-icon",class:t.classes,attrs:{"aria-label":t.ariaLabel},nativeOn:{click:function(e){return t.onThirdPartyIconClick(e)}}},[[t.login.icon?i(t.login.icon,{tag:"component",attrs:{"aria-hidden":!0}}):i("span",{staticClass:"vf-social-icon",attrs:{"aria-hidden":!0}})]],2)],1)}),[],!1,null,null,null).exports),Fs=i(1057),Rs=i(1059),Bs=i(1061),Hs=i(1063),Vs=i(686),zs=i(1066),Gs=i(1432),qs=function(t){switch(t){case"facebook":return Fs.a;case"google":return Rs.a;case"linkedin":return Bs.a;case"windowslive":return Hs.a;case"twitter":return Vs.a;case"yahoo":return zs.a;case"apple":return Gs.a;default:return""}},Ks={facebook:"authprovider_facebook_enabled",google:"authprovider_google_enabled",linkedin:"authprovider_linkedin_enabled",twitter:"authprovider_twitter_enabled",windowslive:"authprovider_windowslive_enabled",yahoo:"authprovider_yahoo_enabled"},Ys=l.default.extend({template:Ls.a,props:["ariaHeaderText"],inject:["settings"],data:function(){return{showMore:this.$i18n("feed.account.nav.show_more")}},methods:{toggleText:function(t){t.target.control.checked?this.showMore=this.$i18n("feed.account.nav.show_more"):this.showMore=this.$i18n("feed.account.nav.show_less")}},computed:{fullLoginList:function(){var t=this;return Ln.h.filter((function(e){return t.settings[Ks[e]]})).map((function(t){return{provider:t,icon:qs(t)}}))},loginList:function(){return this.fullLoginList.slice(0,6)},showMoreList:function(){return this.fullLoginList.slice(6)}},components:{vfThirdpartyService:Ms}}),Ws=(i(1068),i(1069)),Js=i.n(Ws),Zs=i(1070),Xs=i.n(Zs),Qs=i(1071),tr=i.n(Qs),er=l.default.extend({template:tr.a,data:function(){return{title:"",description:"",viewBox:"0 0 0 0",defs:"",graphics:""}},computed:{getClasses:function(){return""},getTransform:function(){return""},getGraphics:function(){return this.graphics}}}).extend({data:function(){return{viewBox:"0 0 97 53",graphics:Xs.a,title:"none",description:"none"}}}),ir=l.default.extend({template:Js.a,components:{signUpIllustration:er}}),nr=i(58),sr=i(856);function rr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],n=!0,s=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(s)throw r}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ar={props:{parentMessages:{default:function(){return[]}}},inject:["settings"],created:function(){this.$subscribe(r.o.CHANNEL,r.o.EVENTS.SUCCESS,this.onLoginSuccess)},data:function(){return{fields:[],values:{},status:Un.a.NONE,componentKey:0}},computed:{schema:function(){var t=this;return this.fields.map((function(e){return{key:e.key||e.name,name:e.name,label:t.labels[e.key||e.name],type:e.type}})).map(xs.a)}},methods:{validateProp:function(t,e,i){var n=e(t);return n||this.messages.push(["error",this.$i18n(i)]),n},validateName:function(t){return this.validateProp(t,nr.d,"feed.account.error.name")},validateEmail:function(t){return this.validateProp(t,nr.d,"feed.account.error.email")},validatePassword:function(t){return this.validateProp(t,nr.d,"feed.account.error.password")},clearMessage:function(t){this.messages=this.messages.filter((function(e){var i=rr(e,2),n=i[0],s=i[1];return n!==t[0]||s!==t[1]}))},onLoginSuccess:function(){this.status=Un.a.NONE,this.componentKey++}},components:{vfForm:sr.a}},or={extends:ar,created:function(){this.FORGOT_PASSWORD="fp",this.$subscribe(r.o.CHANNEL,r.o.EVENTS.FAILURE,this.login_fail),this.$subscribe("view/forms","try/login",this.loginOnSubmit)},data:function(){return{fields:[{key:"email",name:"vf-form-email",type:"email"},{key:"password",name:"vf-form-password",type:"password"}],messages:this.parentMessages,labels:{email:this.$i18n("feed.account.input.email"),password:this.$i18n("feed.account.input.password"),login:this.$i18n("feed.account.nav.login"),ariaHeaderText:this.$i18n("tray.authentication.login.aria.email")}}},computed:{settings:function(){return this.store.getters(s.Dc)}},methods:{validateForm:function(t,e){return this.messages=[],this.status===Un.a.NONE&&this.validateEmail(t)&&this.validatePassword(e)},loginOnSubmit:function(t){this.values=t;var e=this.values,i=e.email,n=e.password;this.validateForm(i,n)&&(this.status=Un.a.PENDING,this.$publish(r.b.CHANNEL,r.b.EVENTS.LOGIN,i,n))},login_fail:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Un.a.NONE;var e=this.getLoginErrorMessage(t),i=e.message,n=e.link;this.messages=[["error",i,n]]},getLoginErrorMessage:function(t){return t&&"login_banned"===t.error_key?{message:this.getBanError(t)}:403===t.http_status?{message:this.$i18n("feed.account.error.cookies_blocked"),link:{href:"https://support.viafoura.com/how-to-allow-third-party-cookie-access/",text:this.$i18n("feed.account.error.learn_more")}}:{message:this.$i18n("feed.account.error.login")}},getBanError:function(t){var e=t.reason,i=t.endDate,n=t.isPermanent;return this.$i18n("error.login_banned",{reason:e,endDate:new Date(i),isPermanent:n})}}},cr=Object($.a)(or,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vf-relative"},[i("h4",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.labels.ariaHeaderText)+"\n    ")]),t._v(" "),t.settings.authprovider_viafoura_enabled?i("vf-form",{key:t.componentKey,attrs:{id:"vf-login-form",schema:t.schema,status:t.status,messages:t.messages,"button-text":t.labels.login},on:{"form-submit":t.loginOnSubmit,"clear-message":t.clearMessage}}):t._e(),t._v(" "),t.settings.authprovider_viafoura_enabled?i("a",{staticClass:"vf-forgot-pw-link vf-accent-colour vf-accent-hoverable",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("view-switch",t.FORGOT_PASSWORD)}}},[t._v("\n        "+t._s(t.$i18n("feed.login.nav.forgot"))+"\n    ")]):t._e()],1)}),[],!1,null,null,null).exports,ur=i(688),lr={extends:ar,created:function(){this.$subscribe(r.b.CHANNEL,r.b.EVENTS.SIGNUP_FAILURE,this.parseSignupFailure),this.$subscribe("view/forms","try/signup",this.signup)},data:function(){return{fields:[{name:"name",type:"text"},{name:"email",type:"email"},{name:"password",type:"password"}],statusKey:"",labels:{name:this.$i18n("feed.account.input.name"),email:this.$i18n("feed.account.input.email"),password:this.$i18n("feed.account.input.password"),signup:this.$i18n("feed.account.nav.signup"),ariaHeaderText:this.$i18n("tray.authentication.signup.aria.email")},messages:this.parentMessages,email_verification_enabled:this.settings.enable_email_verification}},methods:{validateForm:function(){var t=this.values,e=t.name,i=t.email,n=t.password;return this.messages=[],this.status===Un.a.NONE&&this.validateName(e)&&this.validateEmail(i)&&this.validatePassword(n)},signup:function(t){this.values=t,this.validateForm()&&(this.isRecaptchaEnabled()?ur.a.execute():this.signupAction())},parseSignupFailure:function(t){this.status=Un.a.NONE;var e=this.getErrorMessage(t);this.messages=[["error",e]]},getErrorMessage:function(t){return 400===t.http_status?this.$i18n("feed.account.error.signup"):this.$i18n("feed.account.error.login")},afterRender:function(){ur.a.load("vf-signup-g-recaptcha-submit",this.signupAction)},isRecaptchaEnabled:function(){return this.settings.enable_recaptcha},signupAction:function(t){var e=this.values,i=e.name,n=e.email,s=e.password;this.status=Un.a.PENDING,this.$publish(r.b.CHANNEL,r.b.EVENTS.SIGNUP,i,n,s,t)}},mounted:function(){this.afterRender()}},fr=Object($.a)(lr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"vf-relative"},[i("h4",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.labels.ariaHeaderText)+"\n    ")]),t._v(" "),t.settings.authprovider_viafoura_enabled?i("vf-form",{key:t.componentKey,attrs:{id:"vf-signup-form",schema:t.schema,status:t.status,messages:t.messages,"button-text":t.labels.signup},on:{"form-submit":t.signup,"clear-message":t.clearMessage}},[i("div",{staticClass:"vf-signup-recaptcha",attrs:{id:"vf-signup-g-recaptcha-submit"}})]):t._e()],1)}),[],!1,null,null,null).exports,dr=i(5),hr=function(t){var e=dr.vuexStore.getInstance().getters[s.Nc]();return!(t.authprovider_backplane_v1_2_enabled||t.authprovider_backplane_v2_enabled||t.authprovider_loginradius_enabled&&!e||t.authprovider_oauth2_enabled||t.authprovider_oauth_enabled||!t.authprovider_viafoura_enabled||t.disable_widget_logins)};function pr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function vr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var mr={props:{messages:p.a.array,authMethod:p.a.oneOf(["login","signup"]).def("login")},data:function(){return{tabs:[{name:"login",i18nKey:"feed.account.nav.login",ariaLabel:this.$i18n("feed.account.nav.login")},{name:"signup",i18nKey:"feed.account.nav.signup",ariaLabel:this.$i18n("feed.account.nav.signup")}]}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pr(i,!0).forEach((function(e){vr(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):pr(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({settings:s.Dc}),{showTrayAuthentication:function(){return hr(this.settings)}}),components:{vfTabbedNavigation:y.a,vfAccountBackdrop:ir,vfThirdpartyIcons:Ys,vfLoginForm:cr,vfSignupForm:fr}},gr=(i(1073),Object($.a)(mr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showTrayAuthentication?i("div",{staticClass:"vf-account vf-empty-bg-colour"},[i("h2",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.header"))+"\n    ")]),t._v(" "),i("p",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.description"))+"\n    ")]),t._v(" "),i("vf-account-backdrop"),t._v(" "),i("vf-tabbed-navigation",{attrs:{tabs:t.tabs,"initial-tab":t.authMethod,"nav-label":t.$i18n("tray.authentication.aria.header"),"full-width-nav":""},scopedSlots:t._u([{key:"button",fn:function(e){var n=e.tab;return[i("span",{staticClass:"vf-nav-label"},[t._v(t._s(t.$i18n(n.i18nKey)))])]}},{key:"login",fn:function(){return[i("h3",{staticClass:"vf-account-header-text"},[t._v("\n                "+t._s(t.$i18n("feed.login.nav.thirdparty"))+"\n            ")]),t._v(" "),i("vf-thirdparty-icons",{staticClass:"vf-accent-fill-colour",attrs:{"aria-header-text":t.$i18n("tray.authentication.login.aria.social")}}),t._v(" "),i("vf-login-form",{attrs:{"parent-messages":t.messages},on:{"view-switch":function(e){return t.$emit("view-switch",e)}}})]},proxy:!0},{key:"signup",fn:function(){return[i("h3",{staticClass:"vf-account-header-text"},[t._v("\n                "+t._s(t.$i18n("feed.signup.nav.thirdparty"))+"\n            ")]),t._v(" "),i("vf-thirdparty-icons",{staticClass:"vf-accent-fill-colour",attrs:{"aria-header-text":t.$i18n("tray.authentication.signup.aria.social")}}),t._v(" "),i("vf-signup-form",{attrs:{"parent-messages":t.messages}})]},proxy:!0}],null,!1,1344536538)})],1):t._e()}),[],!1,null,null,null).exports),br={facebook:".vf-facebook-login .vf-social-icon-mount",google:".vf-google-login .vf-social-icon-mount",linkedin:".vf-linkedin-login .vf-social-icon-mount",twitter:".vf-twitter-login .vf-social-icon-mount",windowslive:".vf-windowslive-login .vf-social-icon-mount",yahoo:".vf-yahoo-login .vf-social-icon-mount",apple:".vf-jwt_loginwithapple-login .vf-social-icon-mount"},_r={props:["headerText"],mounted:function(){var t=this;this.$store.dispatch(n.Rc).then((function(){return t.$store.dispatch(n.Tc)})).then((function(){return t.injectSocialIcons()}))},methods:{injectSocialIcons:function(){var t=this;Ln.h.forEach((function(e){var i=Object(us.a)(br[e],t.$el),n=qs(e);(new(l.default.extend({components:{vfIcon:n},template:"<vf-icon />"}))).$mount(i)}))}}},yr=Object($.a)(_r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vf-account-thirdparty"},[e("h1",{staticClass:"vf-account-header-text h3"},[this._v("\n        "+this._s(this.headerText)+"\n    ")]),this._v(" "),e("ul",{staticClass:"vf-svod-thirdparty vf-account-thirdparty-controls vf-social-logins vf-flex-container vf-accent-colour",attrs:{id:"vf-svod-thirdparty"}}),this._v(" "),e("script",{attrs:{type:"text/template",id:"loginradiuscustom_tmpl"}},[this._v('\n        <li class="vf-thirdparty-control">\n        <button\n        class="vf-button vf-thirdparty-icon vf-<#=Name.toLowerCase()#>-login"\n        onclick="return window.vf.$publish(\\\'authentication-svod\\\', \\\'social-login\\\', \'<#=Endpoint#>\');"\n        title="<#=Name#>"\n        >\n        <span class="vf-social-icon-mount"/>\n        </button>\n        </li>\n    ')])])}),[],!1,null,null,null).exports,wr={extends:cr,mounted:function(){this.$subscribe("authentication-svod","social-login",this.onSocialIconClick)},methods:{loginOnSubmit:function(t){this.values=t;var e=this.values,i=e.email,s=e.password;return this.validateForm(i,s)?(this.status=Un.a.PENDING,this.$store.dispatch(n.Sc,{email:i,password:s})):Promise.resolve()},getErrorMessage:function(t){return"login_banned"===t.error_key?this.getBanError(t):t.reason?t.reason:this.$i18n("feed.account.error.login")},onSocialIconClick:function(t){this.status=Un.a.PENDING,this.$store.dispatch(n.Uc,t)}}},Or=i(1074),Er={extends:fr,template:i.n(Or).a,props:{lrSchema:{required:!0}},mounted:function(){this.$subscribe("authentication-svod","social-login",this.onSocialIconClick)},computed:{schema:function(){return this.lrSchema.map((function(t){return{key:t.name,name:t.name,label:t.display,type:t.type,options:t.options,rules:t.rules}})).map(xs.a)}},methods:{validateForm:function(){this.messages=[];var t=this.values,e=t.emailid,i=t.password;return this.status===Un.a.NONE&&this.validateRequiredFieldsFilled()&&this.validateEmail(e)&&this.validatePassword(i)},validateRequiredFieldsFilled:function(){var t=this,e=!0;return this.schema.filter((function(t){return t.isRequired})).forEach((function(i){t.values[i.key]||(t.messages.push(["error",t.$i18n("feed.account.error.required",{field:i.label})]),e=!1)})),e},signupAction:function(){this.status=Un.a.PENDING;var t=Object(Lt.d)(this.values);return this.$store.dispatch(n.Vc,t)},getId:function(t){return"vf-form-".concat(t)},getErrorMessage:function(t){return t.reason?t.reason:400===t.statusCode?this.$i18n("feed.account.error.signup"):this.$i18n("feed.account.error.login")},onSocialIconClick:function(t){this.status=Un.a.PENDING,this.$store.dispatch(n.Uc,t)}},components:{vfForm:sr.a}};function Cr(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function Nr(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var $r,Tr,xr={props:{messages:p.a.array},data:function(){return{currentTab:"login",showAdditionalInfo:!1,tabs:[{name:"login",i18nKey:"feed.account.nav.login",ariaLabel:this.$i18n("feed.account.nav.login")},{name:"signup",i18nKey:"feed.account.nav.signup",ariaLabel:this.$i18n("feed.account.nav.signup")}]}},mounted:function(){this.$subscribe("svod-authentication","additional-information",this.onAdditionalInfo)},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Cr(i,!0).forEach((function(e){Nr(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Cr(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(O.c)({registrationSchema:s.Mc,settings:s.Dc}),{schema:function(){return this.registrationSchema()},classes:function(){return{"vf-svod-additional-info":this.showAdditionalInfo}},visibleTabs:function(){var t=this;return this.showAdditionalInfo?this.tabs.filter((function(e){return e.name===t.currentTab})):this.tabs},showTrayAuthentication:function(){return hr(this.settings)}}),methods:{onAdditionalInfo:function(){this.showAdditionalInfo=!0},thirdpartyHeader:function(t){return this.showAdditionalInfo?this.$i18n("feed.additionalInfo.nav.thirdparty"):this.$i18n(t)},onTabChange:function(t){this.currentTab=t}},components:{vfTabbedNavigation:y.a,vfAccountBackdrop:ir,vfSvodThirdparty:yr,vfSvodLoginForm:wr,vfSvodSignupForm:Er}},jr=(i(1075),Object($.a)(xr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showTrayAuthentication?i("div",{staticClass:"vf-account vf-empty-bg-colour"},[i("h2",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.header"))+"\n    ")]),t._v(" "),i("p",{staticClass:"vf-offscreen-text"},[t._v("\n        "+t._s(t.$i18n("tray.authentication.aria.description"))+"\n    ")]),t._v(" "),i("vf-account-backdrop"),t._v(" "),i("vf-tabbed-navigation",{attrs:{"full-width-nav":"",tabs:t.visibleTabs,"initial-tab":t.currentTab,"nav-label":t.$i18n("tray.authentication.aria.header")},on:{"tab-to":t.onTabChange},scopedSlots:t._u([{key:"button",fn:function(e){var n=e.tab;return[i("span",{staticClass:"vf-nav-label"},[t._v(t._s(t.$i18n(n.i18nKey)))])]}},{key:"login",fn:function(){return[i("vf-svod-thirdparty",{staticClass:"vf-accent-fill-colour",class:t.classes,attrs:{"header-text":t.thirdpartyHeader("feed.login.nav.thirdparty")}}),t._v(" "),t.showAdditionalInfo?t._e():i("vf-svod-login-form",{attrs:{"lr-schema":t.schema,"parent-messages":t.messages},on:{"view-switch":function(e){return t.$emit("view-switch",e)}}})]},proxy:!0},{key:"signup",fn:function(){return[i("vf-svod-thirdparty",{staticClass:"vf-accent-fill-colour",class:t.classes,attrs:{"header-text":t.thirdpartyHeader("feed.signup.nav.thirdparty")}}),t._v(" "),t.showAdditionalInfo?t._e():i("vf-svod-signup-form",{attrs:{"lr-schema":t.schema,"parent-messages":t.messages}})]},proxy:!0}],null,!1,594549807)})],1):t._e()}),[],!1,null,null,null).exports),Pr=i(1076),Sr={beforeCreate:function(){this.AUTHENTICATION="auth"},mounted:function(){var t=this;this.$subscribe("account","reset/failure",(function(){t.isLoading=!1,t.messages=[["error",t.$i18n("feed.alerts.no_reset")]]}))},data:function(){return{email:"",isLoading:!1,messages:[]}},inject:[nt.b,nt.a],computed:{classes:function(){return{"vf-forgot-password-reset-loading":this.isLoading,"vf-heading-bg-colour":this.isLoading}},status:function(){return this.isLoading?Un.a.PENDING:Un.a.NONE}},methods:{onClick:function(){var t=this;this.isLoading=!0,this.errorKey="",setTimeout((function(){t.$publish(r.a.CHANNEL,r.a.EVENTS.RESET,t.email)}),500)}},components:{vfStatus:ds.a,vfChevronLeft:Pr.a,loaderButton:hs.a}},kr=(i(1078),Object($.a)(Sr,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"vf-forgot-password"},[i("form",{staticClass:"vf-flex-container vf-forgot-password-form"},[i("a",{staticClass:"vf-flex-container vf-forgot-password-back",attrs:{href:"#"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("view-switch",t.AUTHENTICATION)}}},[i("vf-chevron-left",{attrs:{size:t.SIZES.SMALL}}),t._v(" "),i("span",{staticClass:"vf-forgot-password-back-message vf-primary-colour vf-primary-hoverable"},[t._v(t._s(t.$i18n("profile.back")))])],1),t._v(" "),i("h1",{staticClass:"h2 vf-forgot-password-title"},[t._v("\n            "+t._s(t.$i18n("feed.account.forgot_password.title"))+"\n        ")]),t._v(" "),i("p",{staticClass:"vf-forgot-password-description"},[t._v("\n            "+t._s(t.$i18n("feed.account.forgot_password.description"))+"\n        ")]),t._v(" "),t._l(t.messages,(function(t){return i("vf-status",{key:t[1],attrs:{level:t[0],text:t[1]}})})),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"vf-forgot-password-email vf-secondary-border-colour",attrs:{type:"email",placeholder:t.$i18n("feed.account.forgot_password.email")},domProps:{value:t.email},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),e.preventDefault(),t.onClick(e))},input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),i("loader-button",{staticClass:"vf-forgot-password__reset",class:t.classes,attrs:{palette:t.PALETTES.ACCENT,status:t.status,size:"large","is-cta":""},nativeOn:{click:function(e){return t.onClick(e)}}},[t._v("\n            "+t._s(t.$i18n("settings.controls.reset"))+"\n        ")])],2)])}),[],!1,null,"ec14d8ca",null).exports),Ar={extends:kr,methods:{onClick:function(){this.errorKey="",this.isLoading=!0,this.$store.dispatch(n.Oc,this.email)}}};function Ur(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Ir=(Ur($r={},"fp",kr),Ur($r,"auth",gr),$r);Ir.DEFAULT=Ir.auth;var Lr=(Ur(Tr={},"fp",Ar),Ur(Tr,"auth",jr),Tr);Lr.DEFAULT=Lr.auth;var Dr=di.extend({props:{tabOptions:Object},mounted:function(){var t=this;this.$subscribe("account","reset/success",(function(e){t.messages=[["success",t.$i18n("feed.account.reset.success",{email:e})]],t.view=t.views.DEFAULT}))},data:function(){var t=this.$store.getters[s.Nc](),e=t?Lr:Ir;return{isSvodEnabled:t,views:e,view:e.DEFAULT,messages:[]}},methods:{switchViews:function(t){this.view=this.views[t]}}}),Mr=Object($.a)(Dr,(function(){var t=this.$createElement;return(this._self._c||t)(this.view,{tag:"component",attrs:{messages:this.messages,"auth-method":this.tabOptions.authMethod},on:{"view-switch":this.switchViews}})}),[],!1,null,null,null).exports,Fr=i(469);i(1079);i.d(e,"Widget",(function(){return Br})),i.d(e,"vfTray",(function(){return Hr}));var Rr={DEFAULT:Xe,PROFILE:nn,COMMUNITY:Sn,SETTINGS:Cs,SVOD_SETTINGS:Us,ACCOUNT:Mr},Br=l.default.extend({template:d.a,provide:function(){return{settings:this.settings,sectionTree:this.sectionTree}},data:function(){return{trigger:null,isOpen:!1,currentTab:b.c.DEFAULT,tabOptions:{},dataVfId:-1,profileUserId:null,subscriber_id:void 0,hasFeedBeenSeen:!1}},computed:{isCurrentUserLoggedIn:function(){return Object(_.D)(this.currentUser)},currentUser:function(){return this.$store.getters[s.eb]},settings:function(){return this.$store.getters[s.Dc]},sectionTree:function(){return this.$store.getters[s.Cc]},languageClasses:function(){var t=this.$store.getters[s.ob].language;return"lang-".concat(t)}},methods:{onOpened:function(){this.$publish(r.A.CHANNEL,r.A.EVENTS.OPENED,this.currentTab),this.currentTab===b.c.DEFAULT&&(this.hasFeedBeenSeen=!0)},onClosed:function(){this.$publish(r.A.CHANNEL,r.A.EVENTS.CLOSED),this.hasFeedBeenSeen&&(this.$store.dispatch(n.ac),this.$store.dispatch(n.bc),this.hasFeedBeenSeen=!1)},open:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.c.DEFAULT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isOpen=!0,this.$publish(r.B.CHANNEL,r.B.EVENTS.CHANGE,e,i),this.$publish(r.G.CHANNEL,r.G.EVENTS.HIDE)},close:function(){this.isOpen=!1,this.$publish(r.G.CHANNEL,r.G.EVENTS.UNHIDE)},toggle:function(t,e){this.isOpen?this.$publish(r.A.CHANNEL,r.A.EVENTS.CLOSE):this.$publish(r.A.CHANNEL,r.A.EVENTS.OPEN,t,e)},openProfile:function(t,e){var i=this;return this.$store.dispatch(n.wc,{user:e}).then((function(e){var n=e.uuid;i.profileUserId=n||i.currentUser.uuid,i.$publish(r.A.CHANNEL,r.A.EVENTS.OPEN,t,b.c.PROFILE,{user_uuid:n})}))},changeCurrentTab:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(b.d)(t)||(t=b.c.DEFAULT),i.user_uuid=i.user_uuid||this.currentUser.uuid;var n=i.silent;switch(Object.keys(i).forEach((function(t){e.$set(e.tabOptions,t,i[t])})),t){case b.c.ACCOUNT:if(this.isCurrentUserLoggedIn)t=b.c.DEFAULT;else if(!hr(this.settings))return;break;case b.c.COMMUNITY:this.isCurrentUserLoggedIn||n||this.$publish(r.b.CHANNEL,r.b.EVENTS.REQUIRED,{action:a.u});break;case b.c.PROFILE:Object(_.D)({uuid:i.user_uuid})||n||this.$publish(r.b.CHANNEL,r.b.EVENTS.REQUIRED,{action:a.v});break;case b.c.SETTINGS:if(!this.isCurrentUserLoggedIn)return}t===b.c.DEFAULT&&(this.hasFeedBeenSeen=!0),this.currentTab=t},viewForTab:function(t){switch(t){case b.c.DEFAULT:return Rr.DEFAULT;case b.c.ACCOUNT:return Rr.ACCOUNT;case b.c.COMMUNITY:return this.isCurrentUserLoggedIn?Rr.COMMUNITY:Rr.ACCOUNT;case b.c.PROFILE:return Object(_.D)({uuid:this.tabOptions.user_uuid})?Rr.PROFILE:Rr.ACCOUNT;case b.c.SETTINGS:return this.isCurrentUserLoggedIn?this.$store.getters[s.Nc]()?Rr.SVOD_SETTINGS:Rr.SETTINGS:Rr.ACCOUNT}return Rr.DEFAULT},trayLoaded:function(){this.$publish(r.F.CHANNEL,r.F.EVENTS.LOADED,this)},subscribeToNotifications:function(){this.currentUser.uuid!==u.b&&(this.subscriber_id=this.currentUser.uuid,this.rtSubscribe({section_uuid:[this.sectionTree.section_uuid],message_type:[o.b.NOTIFICATION],action:[o.a.NOTIFIED],recipient_uuid:[this.subscriber_id]},void 0,this.subscriber_id))},onRealtimeUserChange:function(){this.subscriber_id&&this.rtUnsubscribe(this.subscriber_id),this.subscribeToNotifications()},handleOutsideClick:function(t){return"mousedown"!==t.type&&(t.target&&null!==t.target.closest(".".concat(b.b))||this.close(),!0)},setScrollbarOffset:function(){var t=this;this.hasSetScrollbarOffset||requestAnimationFrame((function(){var e=t.$refs.scrollingElement,i=e.offsetWidth-e.clientWidth,n=t.$refs.scrollingWrapper.$el.style;n.right="".concat(-i,"px"),n.maxWidth="calc(100% + ".concat(i,"px)"),t.hasSetScrollbarOffset=!0}))}},mounted:function(){var t=this;this.hasSetScrollbarOffset=!1,this.profileUserId=this.currentUser.uuid,this.$subscribe(r.A.CHANNEL,r.A.EVENTS.CLOSE,this.close),this.$subscribe(r.B.CHANNEL,r.B.EVENTS.CHANGE,this.changeCurrentTab),this.$subscribe(r.A.CHANNEL,r.A.EVENTS.OPEN,this.open),this.$subscribe(r.A.CHANNEL,r.A.EVENTS.TOGGLE,this.toggle),this.$subscribe(r.r.CHANNEL,r.r.EVENTS.SHOW,this.openProfile),this.$subscribe(r.b.CHANNEL,r.b.EVENTS.REQUIRED,(function(e){var i=e.trigger,n=e.method;return t.$publish(r.A.CHANNEL,r.A.EVENTS.OPEN,i,b.c.PROFILE,{silent:!0,authMethod:n})})),this.$subscribe(r.o.CHANNEL,r.o.EVENTS.SUCCESS,(function(e){var i=e.uuid;t.profileUserId=i})),this.rtSubscribe({site_uuid:[this.settings.site_uuid],event_type:["tray.notification.broadcast"],topic_id:[""]}),window.vf.context.init(c.a.NOTIFICATIONS),this.$subscribe(r.A.CHANNEL,r.A.EVENTS.OPEN,(function(){window.localStorage.setItem("_vf_notification_queue_last_seen_".concat(t.currentUser.uuid),Date.now())})),this.trayLoaded(),this.$subscribe(r.C.CHANNEL,r.C.EVENTS.LOADED,this.onRealtimeUserChange),this.subscribeToNotifications()},components:{vfModerationStatus:Y,trayNavigation:T,FocusTrap:Fr.FocusTrap}}),Hr=Br},433:function(t,e,i){"use strict";i.d(e,"o",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"f",(function(){return r})),i.d(e,"d",(function(){return a})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return c})),i.d(e,"u",(function(){return u})),i.d(e,"v",(function(){return l})),i.d(e,"a",(function(){return f})),i.d(e,"s",(function(){return d})),i.d(e,"t",(function(){return h})),i.d(e,"q",(function(){return p})),i.d(e,"r",(function(){return v})),i.d(e,"p",(function(){return m})),i.d(e,"g",(function(){return g})),i.d(e,"i",(function(){return b})),i.d(e,"j",(function(){return _})),i.d(e,"h",(function(){return y})),i.d(e,"m",(function(){return w})),i.d(e,"k",(function(){return O})),i.d(e,"l",(function(){return E})),i.d(e,"n",(function(){return C}));var n="livestory_reply",s="comment_post",r="comment_upload_media",a="comment_like",o="comment_dislike",c="comment_flag",u="tray_community_click",l="tray_profile_click",f="avatar_follow_user",d="profile_follow_user",h="profile_mute_user",p="page_follow",v="page_rate",m="menu_follow_user",g="livechat_message",b="livechat_message_flag",_="livechat_message_like",y="livechat_message_dislike",w="livecomments_comment_like",O="livecomments_comment_disliked",E="livecomments_comment_flag",C="livecomments_follow"},438:function(t,e,i){"use strict";i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return r})),i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return o}));i(31),i(34),i(6),i(8),i(4),i(63),i(180);var n=Object.freeze({DEFAULT:"vf-feed",PROFILE:"vf-profile",COMMUNITY:"vf-community",SETTINGS:"vf-settings",ACCOUNT:"vf-account"}),s=Object.values(n);function r(t){return s.includes(t)}Object.freeze([n.DEFAULT,n.PROFILE,n.COMMUNITY,n.SETTINGS]);var a=100,o="vf-js-tray-activator"},446:function(t,e,i){"use strict";var n=i(427);i.d(e,"a",(function(){return n.b}))},447:function(t,e,i){},449:function(t,e,i){"use strict";i(86);var n=i(0),s=i(279),r=i(70),a=i(2),o=i(438),c=i(12),u=i(465);var l={props:{isClickable:{type:Boolean,default:!0},outline:{type:String,default:s.a.NONE},user:Object,size:String},computed:{currentUser:function(){return this.$store.getters[n.eb]},isAvatarClickable:function(){return this.isClickable&&r.b!==this.user.uuid},classes:function(){return t={},e=o.b,i=this.isAvatarClickable,e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t;var t,e,i},isCurrentUser:function(){return this.user.uuid===this.currentUser.uuid},alt:function(){return this.isClickable?this.isCurrentUser?Object(c.D)(this.currentUser)?this.$i18n("aria.images.open_profile"):this.$i18n("aria.images.avatar_login"):this.$i18n("aria.images.open_other_profile",{username:this.user.name}):this.isCurrentUser?this.$i18n("aria.images.avatar_current_user"):this.$i18n("aria.images.avatar_user",{username:this.user.name})}},methods:{onAvatarClick:function(t){var e=this,i=t.currentTarget;this.isAvatarClickable&&setTimeout((function(){return e.$publish(a.r.CHANNEL,a.r.EVENTS.SHOW,i,e.user)}))}},components:{vfAvatar:u.a}},f=(i(489),i(85)),d=Object(f.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("vf-avatar",{staticClass:"vf-front-avatar",class:t.classes,attrs:{user:t.user,current_user_uuid:t.currentUser.uuid,size:t.size,"is-clickable":t.isClickable,"outline-palette":t.outline,alt:t.alt},nativeOn:{click:function(e){return t.onAvatarClick(e)}}})}),[],!1,null,"736c8ac4",null);e.a=d.exports},454:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={ERROR:"error",WARNING:"warning"}},455:function(t,e,i){},466:function(t,e,i){"use strict";var n=i(19),s=i(227)(6),r="findIndex",a=!0;r in[]&&Array(1)[r]((function(){a=!1})),n(n.P+n.F*a,"Array",{findIndex:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),i(121)(r)},467:function(t,e,i){"use strict";i.d(e,"a",(function(){return f}));var n,s=i(18),r=i(471),a=i.n(r),o=(i(472),i(454)),c=i(439);function u(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l=(u(n={},o.a.ERROR,"vf-status-message-error"),u(n,o.a.WARNING,"vf-status-message-warning"),n),f=s.default.extend({template:a.a,props:["type"],methods:{getClasses:function(){return u({"vf-flex":!0,"vf-status-message":!0},l[this.type],!0)}},components:{vfExclamationMarkIcon:c.a}})},471:function(t,e){t.exports='<div class="vf-flex vf-status-message" :class=getClasses()> <div class="vf-status-message-triangle vf-status-message-triangle-upper"></div> <div class="vf-status-message-badge vf-flex"> <div class=icon> <vf-exclamation-mark-icon class="vf-status-message-icon vf-icon-medium"></vf-exclamation-mark-icon> </div> <slot name=vf-status-message-content></slot> </div> </div> '},472:function(t,e,i){},486:function(t,e,i){"use strict";i.d(e,"c",(function(){return s})),i.d(e,"b",(function(){return r})),i.d(e,"d",(function(){return a})),i.d(e,"a",(function(){return o}));var n=i(12),s=function(t){return 1===t.anonymous},r=function(t,e){var i=e.enable_email_verification;return Object(n.D)(t)&&i&&!Object(n.G)(t.email_verification_status)},a=function(t,e){var i=e.enable_username_premoderation;return Object(n.D)(t)&&i&&!Object(n.G)(t.username_moderation_status)},o=function(t,e){var i=e.enable_avatar_premoderation;return Object(n.D)(t)&&i&&!Object(n.G)(t.avatar_moderation_status)}},487:function(t,e,i){},488:function(t,e,i){},489:function(t,e,i){"use strict";var n=i(447);i.n(n).a},490:function(t,e,i){},558:function(t,e,i){"use strict";i(23),i(4);var n=i(0),s=i(3),r=i(281),a=i(2),o=i(625),c=i(567),u=i.n(c),l=i(427),f=Object(l.c)("bell_icon",u.a),d=i(428),h={props:{floating:{type:String,default:"false"}},created:function(){this.MAXIMUM_BEFORE_TRUNCATION=9},mounted:function(){var t=this;this.trackAction("loaded"),this.$publish(a.G.CHANNEL,a.G.EVENTS.LOADED,this),this.$subscribe(a.G.CHANNEL,a.G.EVENTS.HIDE,(function(){t.hidden=t.isFloating})),this.$subscribe(a.G.CHANNEL,a.G.EVENTS.UNHIDE,(function(){setTimeout((function(){t.hidden=!1}),250)}))},data:function(){return{dataVfId:-1,hidden:!1}},computed:{countBadgeSize:function(){return this.isFloating?r.a.SMALL:r.a.TINY},isFloating:function(){return"true"===this.floating},currentUserUuid:function(){return this.$store.getters[n.fb]},count:function(){return this.$store.getters[n.hc](this.currentUserUuid)},ariaCount:function(){return this.$i18n("aria.new_notifications",{num:this.count.toString()})},ariaLabel:function(){return this.$i18n("aria.open_tray")},classes:function(){return{"vf-tray-trigger":!0,"vf-offscreen-text":this.hidden,floating:this.isFloating,"vf-tray-trigger--floating":this.isFloating}},countClasses:function(){return{"vf-tray-count":!0,"vf-tray-count--floating":this.isFloating,"vf-tray-count--has-plus":this.count>9}}},methods:{trackAction:function(t){return this.$store.dispatch(s.ed,{ui_action:t,ui_component:"indicator"})},toggle:function(){this.trackAction("clicked"),this.$publish(a.A.CHANNEL,a.A.EVENTS.TOGGLE,this.$el),this.$publish(a.G.CHANNEL,a.G.EVENTS.CLICKED)}},components:{roundCountBadge:o.a,vfBellIcon:f,vfButton:d.a}},p=(i(568),i(85)),v=Object(p.a)(h,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-button",{class:t.classes,attrs:{"aria-label":t.ariaLabel,"data-vf-id":t.dataVfId},nativeOn:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggle(e)}}},[i("round-count-badge",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count > 0"}],class:t.countClasses,attrs:{count:t.count,max:t.MAXIMUM_BEFORE_TRUNCATION,"aria-label":t.ariaCount,size:t.countBadgeSize}}),t._v(" "),i("vf-bell-icon",{staticClass:"vf-icon-medium"})],1)}),[],!1,null,"85c4eed2",null);e.a=v.exports},559:function(t,e,i){"use strict";i(40),i(13),i(6),i(8),i(4),i(17),i(91);var n=i(0),s=i(79),r=i(647),a=i.n(r),o=i(446).a.extend({data:function(){return{graphics:a.a}}}),c=i(76);function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f=c.e*c.c*c.b,d={props:{descriptor:{type:String,default:""},timestamp:{type:Number,default:0},hasClock:{type:Boolean,default:!0},formatAmPm:{type:Boolean,default:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(i,!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(s.c)({getDateTimeFormat:n.pb,currentTime:n.db,relativeTime:n.rc}),{iso:function(){return new Date(this.timestamp).toISOString()},relative:function(){return this.relativeTime(this.timestamp)},amPm:function(){return this.getDateTimeFormat(this.timestamp,{hour:"numeric",minute:"numeric",hour12:!0})},full:function(){var t=this.getDateTimeFormat(this.timestamp,{day:"numeric",month:"numeric",year:"numeric"}),e=this.getDateTimeFormat(this.timestamp,{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});return"".concat(e," -- ").concat(t)},displayedTime:function(){return this.formatAmPm&&this.lessThan12HoursAgo?this.amPm:this.relative},lessThan12HoursAgo:function(){return(this.currentTime-this.timestamp)/f<12}}),components:{vfClockIcon:o}},h=(i(648),i(85)),p=Object(h.a)(d,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"timestamp vf-label-text"},[t.hasClock?i("vf-clock-icon",{staticClass:"vf-icon-small"}):t._e(),t._v(" "),t.descriptor?i("span",[t._v("\n        "+t._s(t.descriptor)+"\n    ")]):t._e(),t._v(" "),i("time",{attrs:{title:t.full,datetime:t.iso}},[t._v("\n        "+t._s(t.displayedTime)+"\n    ")])],1)}),[],!1,null,null,null);e.a=p.exports},560:function(t,e,i){"use strict";var n=i(279),s={props:{palette:{type:String,default:n.a.ACCENT}}},r=(i(643),i(85)),a=Object(r.a)(s,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vf-unseen-notifier",class:["vf-unseen-notifier--"+this.palette]})}),[],!1,null,"b7bb704e",null);e.a=a.exports},567:function(t,e){t.exports='<path fill=currentColor fill-rule=evenodd d="M50 3c7 0 13 3 18 7 4 5 7 11 8 18l5 28c2 7 5 10 9 12l3 3c1 1 2 2 2 5 0 2-2 5-5 5H10c-3 0-5-3-5-5 0-3 1-4 2-5l3-3c4-2 7-5 9-12l5-28c1-7 4-13 8-18 5-4 11-7 18-7zM36 83h28v1c0 8-6 14-14 14s-14-6-14-14v-1z"/> '},568:function(t,e,i){"use strict";var n=i(455);i.n(n).a},640:function(t,e,i){},643:function(t,e,i){"use strict";var n=i(487);i.n(n).a},644:function(t,e,i){},647:function(t,e){t.exports='<circle cx=50 cy=50 r=45 stroke=currentColor stroke-width=6 fill=none /> <path stroke-width=6 stroke=currentColor stroke-linecap=round d="M50 50V22M50 50h28"/> '},648:function(t,e,i){"use strict";var n=i(488);i.n(n).a},650:function(t,e,i){},657:function(t,e,i){},658:function(t,e,i){},660:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n=function(t){return'<span class="vf-icon vf-icon-mod vf-icon-medium">'.concat(t,"</span>")}},661:function(t,e,i){},662:function(t,e,i){},663:function(t,e,i){},664:function(t,e,i){},665:function(t,e,i){},667:function(t,e,i){},668:function(t,e,i){"use strict";var n=i(490);i.n(n).a},669:function(t,e,i){},670:function(t,e,i){},671:function(t,e,i){},672:function(t,e,i){},676:function(t,e,i){},677:function(t,e,i){},681:function(t,e,i){},683:function(t,e,i){},685:function(t,e,i){},688:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));i(10),i(4);var n=i(20),s=i(0),r=i(5),a=i(48),o={load:function(t,e,i){var n=this;Promise.resolve(r.vuexStore.getInstance().getters[s.Dc]).then((function(s){(i||s.enable_recaptcha)&&(n.callback=function(t){window.grecaptcha.reset(n.clientId),e(t)},n.getRecaptcha().then(n.render.bind(n,t)))}))},execute:function(){window.grecaptcha.execute(this.clientId)},getRecaptcha:function(){return new Promise((function(t){return window.grecaptcha?t(window.grecaptcha):Object(a.c)("https://www.google.com/recaptcha/api.js?render=explicit").then(c).then(t)}))},render:function(t){var e=r.vuexStore.getInstance().getters[s.Dc].recaptcha_site_key||n.a.recaptcha_site_key;this.clientId=window.grecaptcha.render(t,{sitekey:e,callback:this.callback,size:"invisible",badge:"inline"})}};function c(){return new Promise((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if((e-=50)<=0)return t();if(window.grecaptcha)return window.grecaptcha.ready(t);return setTimeout((function(){return c()}),50)}(t)}))}},689:function(t,e,i){},690:function(t,e,i){},691:function(t,e,i){},857:function(t,e,i){"use strict";var n=i(211),s=i(470),r=i(485),a=i(448),o={data:function(){return{isEntered:!1,wasJustClicked:!1}},inject:[n.b,n.a],props:{isFollowing:{type:Boolean,required:!0},unfollowText:{type:String,required:!0},isFollowingText:{type:String,required:!0},isNotFollowingText:{type:String,required:!0},isFollowingAria:{type:String,required:!0},isNotFollowingAria:{type:String,required:!0}},components:{vfButton:a.a},computed:{currentText:function(){return this.canShowUnfollow?this.unfollowText:this.isFollowing?this.isFollowingText:this.isNotFollowingText},currentAriaLabel:function(){return this.isFollowing?this.isFollowingAria:this.isNotFollowingAria},currentPalette:function(){return this.canShowUnfollow?this.PALETTES.DANGER:this.isFollowing?this.PALETTES.SUCCESS:this.PALETTES.ACCENT},longestText:function(){return[this.unfollowText,this.isFollowingText,this.isNotFollowingText].reduce((function(t,e){return t.length>e.length?t:e}))},canShowUnfollow:function(){return this.isFollowing&&!this.wasJustClicked&&this.isEntered}},methods:{toggleEntered:function(t){this.isEntered=t,t||(this.wasJustClicked=!1)},setClicked:function(){this.wasJustClicked=!0}},directives:{hovered:r.a,innerFocus:s.a}},c=(i(668),i(85)),u=Object(c.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("vf-button",t._g(t._b({directives:[{name:"inner-focus",rawName:"v-inner-focus",value:t.toggleEntered,expression:"toggleEntered"},{name:"hovered",rawName:"v-hovered",value:t.toggleEntered,expression:"toggleEntered"}],staticClass:"vf-follow-button vf-label-text",attrs:{"is-cta":"",palette:t.currentPalette,size:t.SIZES.TINY,"is-inverted":!t.isFollowing},on:{click:t.setClicked}},"vf-button",t.$attrs,!1),t.$listeners),[i("span",{staticClass:"vf-offscreen-text",attrs:{"aria-live":"polite"}},[t._v("\n        "+t._s(t.currentAriaLabel)+"\n    ")]),t._v(" "),i("span",{staticClass:"vf-follow-button__text vf-flex vf-centered",attrs:{"aria-hidden":"true"}},[t._v("\n        "+t._s(t.currentText)+"\n    ")]),t._v(" "),i("span",{staticClass:"vf-follow-button__hidden-text",attrs:{"aria-hidden":"true"}},[t._v("\n        "+t._s(t.longestText)+"\n    ")])])}),[],!1,null,"c6ff528c",null);e.a=u.exports},879:function(t,e,i){"use strict";i(37);var n=2;function s(t,e){return t<.5?function(t,e){return Math.pow(t,e)}(2*t,e)/2:function(t,e){return 1-Math.abs(Math.pow(t-1,e))}(2*t-1,e)/2+.5}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return i*s(t/r,n)+e}i.d(e,"a",(function(){return o}));var a={duration:1e3,isVertical:!1,cb:function(){}};function o(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object.assign({},a,i),s=n.isVertical,o=n.duration,c=n.cb,u=s?"scrollTop":"scrollLeft",l=t[u],f=e-l,d=20,h=0,p=function e(){h+=d,t[u]=r(h,l,f,o),h<o?setTimeout(e,d):c()};setTimeout(p,d)}},881:function(t,e){t.exports='<path d="M7 13h6a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3v1.7c0 1.3.7 1.6 1.6.7L7 13z" fill-rule=evenodd /> '},882:function(t,e){t.exports='<path d="M17 4.5C17 6 16.2 7 16.2 7l-1.7 1.9-5 4.8c-.6.5-1.4.5-2 0l-5-4.8-1.7-2S0 5.9 0 4.6C0 2 2.1 0 4.8 0 6 0 7.4.5 8.2 1.4l.1.1c.1.1.3.1.4 0v-.1C9.8.5 11 0 12.3 0 15 0 17 2 17 4.5z" fill-rule=evenodd /> '},883:function(t,e){t.exports='<path d="M0 14a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v3H0v-3zm7-6a4 4 0 1 0 0-8 4 4 0 0 0 0 8z" fill-rule=evenodd /> '},948:function(t,e){t.exports='<div class=vf-tray-wrapper :class=languageClasses> <transition :data-vf-id=dataVfId name=slide-in-right initial-focus=.vf-tray-close @enter=setScrollbarOffset @after-enter=onOpened @after-leave=onClosed> <focus-trap v-show=isOpen class=vf-tray-slide-wrapper deactivate-on-esc return-focus-on-deactivate :allow-outside-click=handleOutsideClick :active=isOpen @deactivated=close ref=scrollingWrapper> <div class=vf-tray ref=scrollingElement> <vf-moderation-status/> <tray-navigation :active-tab=currentTab :show-settings=isCurrentUserLoggedIn> <template v-slot:[currentTab]> <component class="vf-flex-grow js-tray-section vf-tray-component" :is=viewForTab(currentTab) :data-view-name=currentTab :tab-options=tabOptions /> </template> </tray-navigation> </div> </focus-trap> </transition> </div> '},961:function(t,e,i){"use strict";var n=i(640);i.n(n).a},962:function(t,e){t.exports="<section class=vf-notification-alert-section v-if=displayModeration role=alert> <ol class=vf-vert-list> <vf-moderation-alert :alert=alert></vf-moderation-alert> </ol> </section> "},963:function(t,e,i){},964:function(t,e){t.exports='<li class="vf-non-link vf-notification-alert vf-secondary-border-colour" :class=classes> <span aria-hidden=true class=vf-notification-alert__status-icon v-html=statusIcon></span> <span class=vf-alert-message v-if=alert.i18nKey>{{ $i18n(alert.i18nKey) }}</span> <vf-close-button v-if=showCloseButton class=vf-alert-close-btn size=vf-icon-small @click.native.prevent.stop=onCloseAlertClick> <span class=vf-offscreen-text>{{ $i18n("navigation.close_alert") }}</span> </vf-close-button> </li> '},965:function(t,e){t.exports='<svg class=vf-header-fill-colour width=20 height=20 xmlns=http://www.w3.org/2000/svg> <path d="M9.808 19.4c5.357 0 9.7-4.343 9.7-9.7 0-5.357-4.343-9.7-9.7-9.7-5.357 0-9.7 4.343-9.7 9.7 0 5.357 4.343 9.7 9.7 9.7zm5.127-13.335a.326.326 0 0 0-.461 0l-6.298 6.298L5.142 9.33a.326.326 0 1 0-.461.462l3.264 3.265a.326.326 0 0 0 .462 0l.004-.007.005-.003 6.52-6.52a.326.326 0 0 0 0-.461z" fill-rule=evenodd /> </svg> '},966:function(t,e){t.exports='<svg class=vf-header-fill-colour width=21 height=20 xmlns=http://www.w3.org/2000/svg> <path d="M10.108 20c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm.762-10l4.465-4.465a.538.538 0 1 0-.761-.762L10.108 9.24 5.643 4.773a.538.538 0 1 0-.762.762L9.347 10l-4.45 4.45a.539.539 0 0 0 .761.761l4.45-4.45 4.466 4.466a.537.537 0 0 0 .76 0c.211-.21.211-.551 0-.762L10.87 10z" fill-rule=evenodd /> </svg> '},967:function(t,e){t.exports='<svg class=vf-header-fill-colour width=20 height=20 xmlns=http://www.w3.org/2000/svg> <path d="M10.77 11.538a.769.769 0 1 1-1.54 0V5.385a.769.769 0 1 1 1.54 0v6.153zm-.224 3.624a.81.81 0 0 1-.546.223c-.2 0-.4-.085-.546-.223a.805.805 0 0 1-.223-.547c0-.2.084-.4.223-.546.292-.284.8-.284 1.084 0 .154.146.231.346.231.546 0 .2-.077.4-.223.547zM10 0C4.486 0 0 4.486 0 10s4.486 10 10 10 10-4.486 10-10S15.514 0 10 0z" fill-rule=evenodd /> </svg> '},981:function(t,e,i){"use strict";var n=i(644);i.n(n).a},988:function(t,e,i){"use strict";var n=i(650);i.n(n).a},995:function(t,e,i){"use strict";var n=i(657);i.n(n).a},996:function(t,e){t.exports='<path fill-rule=evenodd d="M20 6l-1 1v24H3l-1 1v53c0 5 4 10 10 10h76c6 0 10-5 10-10V7l-1-1H20zm2 2h74v77c0 4-4 7-8 7H18c2-2 4-4 4-7V8zm11 10l-1 2v17l1 1h24l2-1V20l-2-2H33zm1 3h22v15H34V21zm36 0a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2H70zM4 33h15v52c0 4-3 7-7 7s-8-3-8-7V33zm66 0a1 1 0 0 0 0 3h14a1 1 0 0 0 0-3H70zM33 48a1 1 0 0 0 0 2h51a1 1 0 0 0 0-2H33zm0 13a1 1 0 0 0 0 3h51a1 1 0 0 0 0-3H33zm0 14a1 1 0 0 0 0 2h51a1 1 0 0 0 0-2H33z"/> '},997:function(t,e,i){"use strict";var n=i(658);i.n(n).a},998:function(t,e){t.exports='<g fill-rule=evenodd> <path d="M97 22H83V8 7h-1L50 22 19 7a1 1 0 0 0-2 1v14H4l-1 1v68l1 1h93l1-1V23l-1-1zm-77 1V10l30 14v65L20 75V23zm31 1l30-14v65L51 89V24zM6 24h12v15h-5a1 1 0 0 0 0 2h5v15h-5l-1 1 1 1h5v15h-5a1 1 0 0 0 0 2h5v1h1l28 14H6V24zm89 66H53l29-14v-1h6a1 1 0 0 0 0-2h-6V58h6a1 1 0 0 0 0-2h-6V41h6a1 1 0 0 0 0-2h-6V24h13v66z"/> <path d="M24 29l18 9h1v-1-1l-18-8h-1v1zm19 24l-18-8h-1v1l18 8h1v-1zm0 17l-18-9-1 1v1l18 8h1v-1zm14-32l18-9v-1h-1l-18 8a1 1 0 0 0 1 2zm17 7l-18 8a1 1 0 0 0 1 1l18-8v-1h-1zm0 16l-18 9v1h1l18-8v-1l-1-1z"/> </g> '}}]);