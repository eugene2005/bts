/*! For license information please see Detail.2b3002733342c787efa0.js.LICENSE.txt */
(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[10,6],{427:function(t,e,a){"use strict";a.r(e);var r=a(12),n=a.n(r),o=a(52),i=a.n(o),s=a(4),c=a.n(s),l=a(7),u=a.n(l),p=a(8),h=a.n(p),d=a(3),f=a.n(d),m=a(6),w=a.n(m),y=a(0),b=a.n(y),g=a(20),v=a(1),k=a.n(v),N=a(5),E=a.n(N),C=a(60),S=a(50),R=a(287),P=a(43),T=a.n(P),D=a(48),x=a.n(D),I=a(295),B=a(198);function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(L()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var t=x.a.utc(this.props.runtime*B.a),e=t.hours()?B.b.longMediaFormat:B.b.shortMediaFormat,a=E()({mediaEmbed:!0,mediaIsLead:this.props.isLead,"sclt-mediaIsLead":this.props.isLead}),r=this.props.description?this.props.description:this.props.title,n=null;return this.props.showcaption&&(n=b.a.createElement("span",{className:"media-caption"},r," ",t.format(e))),b.a.createElement("span",{className:a},b.a.createElement(I.a,{clipID:this.props.clipID,categoryName:this.props.categoryName,autoPlay:this.props.autoPlay,forceVideo:this.props.forceVideo}),n)}}]),r}(b.a.Component);F.propTypes={clipID:k.a.string,categoryName:k.a.string,autoPlay:k.a.bool,forceVideo:k.a.bool,description:k.a.string,runtime:k.a.number,showcaption:k.a.bool,isLead:k.a.bool},F.defaultProps={clipID:"",categoryName:"",autoPlay:!1,forceVideo:!1,description:"",runtime:0,showcaption:!0,isLead:!1};var A=F,O=a(44),j=a(18),H=a.n(j),M=a(96),_=a(235),U=a(10),q=a(16),z=a(21),W={};function V(){return{type:_.c}}function G(t){return function(e){!function(t,e){var a={baseURL:U.d(_.a.CONFIG_KEY,_.a.DEFAULT_URL),id:e},r=decodeURIComponent(U.e(_.a.CONFIG_TEMPLATE,a));new Promise((function(a,n){Object(z.b)(r).then((function(t){if(t.ok)return q.a.debug("make_photogallery_API_call( ".concat(e," )")),t.json();throw new Error(t.statusText)})).catch((function(t){q.a.error("(PhotoGallery) make_photogallery_API_call( ".concat(e," ) - request failed [Error: ").concat(t,"]")),n(t.toString())})).then((function(r){t(function(t,e){return W[e]=t,{type:_.b,items:W}}(r,e)),a()}))}))}(e,t)}}var Y=[300,460,620,780,1180];function $(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var J=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if($()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"getImageSrc",value:function(){var t,e=this.props.data.imgSrc;return e&&e.indexOf(this.props.originalAspectRatio)>-1?t=new RegExp(this.props.originalAspectRatio,"g"):e&&e.indexOf("original")>-1&&(t=new RegExp("original","g")),e=e?e.replace(t,this.props.params.$C.imgRatio):e}},{key:"render",value:function(){return b.a.createElement("li",null,b.a.createElement(O.a,{sizes:Y,sizesRatio:this.props.originalAspectRatio,url:this.getImageSrc(),alt:this.props.data.imageAltTag}))}}]),r}(b.a.Component);J.propTypes={data:v.object.isRequired,originalAspectRatio:v.string.isRequired,imageData:v.object,imgIndex:v.number,params:v.object},J.defaultProps={imageData:{},imgIndex:0,params:{}};var K=J;function X(t){return b.a.createElement("ul",{className:"images"},function(t){if("undefined"===typeof t.imageData)return;var e=t.imageData.galleryImages[t.imgIndex],a=[],r={imageAltTag:e.imageAltTag,imageRefId:"image".concat(t.imgIndex),imgSrc:e.imageFiles[0].file,imgIndex:t.imgIndex};return a.push(b.a.createElement(K,{key:e.imageId,data:r,imageData:t.imageData,fullscreen:t.fullscreen,params:t.params,imgIndex:t.imgIndex,originalAspectRatio:t.originalAspectRatio})),a}(t))}X.propTypes={imgIndex:k.a.number.isRequired,fullscreen:k.a.bool.isRequired,originalAspectRatio:k.a.oneOf(["16x9","4x3","square"]).isRequired,params:k.a.object.isRequired},X.defaultProps={fullscreen:!1};var Z=X;function Q(t){var e=t.displayParam?b.a.createElement("span",{className:"counter"},function(t){var e="";if(t.displayParam){var a=t.imgIndex+1;e="".concat(a," of ").concat(t.totalImg)}return e}(t)):null;return b.a.createElement("span",{className:"photoGalleryCounter"},e)}Q.propTypes={displayParam:k.a.bool,imgIndex:k.a.number,totalImg:k.a.number},Q.defaultProps={displayParam:!0,imgIndex:0,totalImg:1};var tt=Q,et=a(425);function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var rt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(at()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"setText",value:function(){return this.props.captionsVisible?this.props.params.HIDE_CAPTIONS:this.props.params.SHOW_CAPTIONS}},{key:"checkDisplay",value:function(){var t=this.props.clickHandler.bind(this),e=E()({chevron:!0,showIcon:!this.props.captionsVisible});if(this.props.params.$C.enableCaptions)return b.a.createElement("button",{ref:"captionLink",className:"captions",onClick:t},this.setText(),b.a.createElement("span",{className:e},b.a.createElement(et.a,{type:"chevron"})))}},{key:"render",value:function(){return b.a.createElement("span",{className:"photoGalleryCaption"},this.checkDisplay())}}]),r}(b.a.Component);rt.propTypes={clickHandler:k.a.func.isRequired,captionsVisible:k.a.bool.isRequired,params:k.a.object.isRequired},rt.defaultProps={captionsVisible:!1};var nt=rt;function ot(t){return b.a.createElement("li",null,t.description)}ot.propTypes={description:k.a.string.isRequired},ot.defaultProps={description:""};var it=ot;function st(t){var e=E()({captions:!0,on:t.captionsVisible}),a=null;return t.params.$C.enableCaptions&&(a=b.a.createElement("ul",{className:e},function(t){if(!t.imageData)return;if(0===Object.getOwnPropertyNames(t.imageData).length)return;if(t.params.$C.enableCaptions){var e=t.imageData.galleryImages[t.imgIndex],a=[],r="";e.imageDescription&&""!==e.imageDescription&&(r+=" ".concat(e.imageDescription)),e.imageCredit&&""!==e.imageCredit&&(r+=" ".concat(e.imageCredit)),""===r&&(r="No description available");var o={description:r,id:t.imgIndex};return a.push(b.a.createElement(it,n()({key:t.imgIndex},o))),a}}(t))),b.a.createElement("span",{className:"photoGalleryOverlayCaption"},a)}st.propTypes={imgIndex:k.a.number.isRequired,params:k.a.object.isRequired},st.defaultProps={};var ct=st;function lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ut=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(lt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var t=this.props.clickHandler.bind(this),e=b.a.createElement("svg",{baseProfile:"tiny",focusable:"false",x:"0px",y:"0px",className:"thumbs",width:"50px",height:"28px",viewBox:"0 0 50 28",space:"preserve"},b.a.createElement("g",null,b.a.createElement("path",{fill:"#FFFFFF",d:"M1,1v26h47V1H1z M3,25v-6h15V9H3V3h43v6h-7v10h7v6H3z"}),b.a.createElement("rect",{x:"20",y:"9",fill:"#FFFFFF",width:"17",height:"10"}))),a=E()({icon:!0,on:this.props.thumbsState});return this.props.params.$C.enableThumbnails?b.a.createElement("a",{ref:"gallerythumbs",href:"#gallerythumbs",title:"Toggle Thumbnail Navigator",onClick:t,className:a},e,b.a.createElement("span",{className:"a11y"},"Toggle Thumbnail Navigator")):null}}]),r}(b.a.Component);ut.propTypes={clickHandler:k.a.func.isRequired,params:k.a.object.isRequired,thumbsState:k.a.bool.isRequired},ut.defaultProps={};var pt=ut;function ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var dt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(ht()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var t=this.props.clickHandler.bind(this),e=E()({selected:this.props.globalIndex===this.props.id});return b.a.createElement("li",{className:e},b.a.createElement("a",{onClick:t,href:"#gallerythumbs","data-index":this.props.id},b.a.createElement(O.a,{url:this.props.source})))}}]),r}(b.a.Component);dt.propTypes={clickHandler:k.a.func.isRequired,source:k.a.string.isRequired,id:k.a.number.isRequired},dt.defaultProps={source:"",id:0};var ft=dt;function mt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var wt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(mt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"populateThumbnails",value:function(t){if("undefined"!==typeof t&&this.props.params.$C.enableThumbnails){var e,a=this.props.clickHandler.bind(this),r=t.galleryImages,o=this.props.params.THUMB_WIDTH/this.props.params.THUMB_HEIGHT,i=[],s=this;return r.map((function(t,r){e=t.imageThumbnail.width/t.imageThumbnail.height>=o?"inside|*:".concat(s.props.params.THUMB_HEIGHT):"inside|".concat(s.props.params.THUMB_WIDTH,":*");var c={source:t.imageThumbnail.file||t.imageFiles[0].file,id:r,clickHandler:a.bind(s),transformValues:e};i.push(b.a.createElement(ft,n()({key:r},c,{globalIndex:s.props.imgIndex})))})),i}}},{key:"updateThumbRail",value:function(){if(this.props.params.$C.enableThumbnails){var t=this.refs.thumbsUl,e=parseInt(t.style.width.replace(this.props.params.PX,"")),a=t.style.left.replace(this.props.params.PX,""),r=0;if(e>this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH){r=-1*(e-(this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH))}a<r&&a<0?t.style.left=r+this.props.params.PX:a>=0&&(t.style.left="0px")}}},{key:"handleMouseEnter",value:function(t){t.preventDefault();var e=this.refs.thumbsUl,a=this.hasClass(t.target,"prev")?"prev":"next",r=e.offsetWidth,n=this.props.params.$S.width-this.props.params.THUMB_NAV_WIDTH,o=n-r,i=0,s=0;if(r>n){var c=this;this.props.params.$S.thumbInterval=setInterval((function(){i<10&&s%10===0&&i++;var t=parseInt(e.style.left);"prev"===a&&t<0?e.style.left=t+i+c.props.params.PX:"next"===a&&t>o?e.style.left=t-i+c.props.params.PX:"prev"===a&&t>0?e.style.left=0+c.props.params.PX:"next"===a&&t<o?e.style.left=o+c.props.params.PX:clearInterval(c.props.params.$S.thumbInterval),s++}),10)}}},{key:"handleMouseLeave",value:function(){clearInterval(this.props.params.$S.thumbInterval)}},{key:"hasClass",value:function(t,e){return new RegExp(" ".concat(e," ")).test(" ".concat(t.className," "))}},{key:"componentDidMount",value:function(){this.updateThumbRail()}},{key:"checkDisplay",value:function(){var t="0px";if(void 0!==this.props.imageData){t=94*this.props.totalImg+this.props.params.PX}var e=E()("thumbnav","prev"),a=E()("thumbnav","next");if(this.props.params.$C.enableThumbnails)return b.a.createElement("div",{ref:"thumbcontainer",className:"thumbcontainer"},b.a.createElement("div",{className:e,onFocus:this.handleMouseEnter.bind(this),onMouseOver:this.handleMouseEnter.bind(this),onBlur:this.handleMouseLeave.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onTouchStart:this.handleMouseEnter.bind(this),onTouchEnd:this.handleMouseLeave.bind(this)},b.a.createElement(et.a,{type:"chevron"})),b.a.createElement("div",{className:a,onFocus:this.handleMouseEnter.bind(this),onMouseOver:this.handleMouseEnter.bind(this),onBlur:this.handleMouseLeave.bind(this),onMouseLeave:this.handleMouseLeave.bind(this),onTouchStart:this.handleMouseEnter.bind(this),onTouchEnd:this.handleMouseLeave.bind(this)},b.a.createElement(et.a,{type:"chevron"})),b.a.createElement("div",{className:"thumbnails"},b.a.createElement("ul",{ref:"thumbsUl",style:{width:t}},this.populateThumbnails(this.props.imageData))))}},{key:"render",value:function(){return b.a.createElement("span",{className:"photoGalleryOverlayThumbs"},this.checkDisplay())}}]),r}(b.a.Component);wt.propTypes={clickHandler:k.a.func.isRequired,params:k.a.object.isRequired},wt.defaultProps={};var yt=wt;function bt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var gt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(bt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={},e}return u()(r,[{key:"render",value:function(){var t=this.props.clickHandler.bind(this),e=b.a.createElement("svg",{version:"1.1",baseProfile:"tiny",focusable:"false",className:"fullscreen",x:"0px",y:"0px",width:"45px",height:"32px",viewBox:"0 0 45 32",space:"preserve"},b.a.createElement("g",null,b.a.createElement("path",{fill:"#fff",d:"M37.4,32H0V7.8h37.4C37.4,7.8,37.4,32,37.4,32z M2.7,29.3h31.9V10.5H2.7V29.3z"}),b.a.createElement("polygon",{fill:"#fff",points:"42.3,0 27.3,0 27.3,2.7 42.3,2.7 42.3,13.3 45,13.3 45,2.7 45,0 "})));return this.props.params.$C.enableFullscreen?b.a.createElement("button",{ref:"fullscreen",onClick:t,className:"icon"},e,b.a.createElement("span",{className:"a11y"},"Toggle Fullscreen")):null}}]),r}(b.a.Component);gt.propTypes={clickHandler:k.a.func.isRequired},gt.defaultProps={};var vt=gt;function kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Nt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(kt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).prevText="Previous",e.nextText="Next",e}return u()(r,[{key:"setNavText",value:function(t){var e=t.imgIndex+1,a=e+1,r=e-1,n=t.totalImg;this.prevText=1===e?"At the beginning of image gallery":"Show previous image (".concat(r," of ").concat(n,")"),this.nextText=a>n?"At the end of the image stream":"Show next image (".concat(a," of ").concat(n,")")}},{key:"componentWillReceiveProps",value:function(t){void 0!==t.imgIndex&&this.setNavText(t)}},{key:"render",value:function(){var t=this.props.clickPrevHandler.bind(this),e=this.props.clickNextHandler.bind(this),a=E()({nav:!0,next:!0,"no-select":!0,disabled:this.props.imgIndex===this.props.totalImg-1}),r=E()({nav:!0,prev:!0,"no-select":!0,disabled:0===this.props.imgIndex});return b.a.createElement("span",{className:"photoGalleryNavigation"},b.a.createElement("button",{onClick:t,className:r},b.a.createElement(et.a,{type:"chevron"}),b.a.createElement("span",{className:"a11y"},this.prevText)),b.a.createElement("button",{onClick:e,className:a},b.a.createElement(et.a,{type:"chevron"}),b.a.createElement("span",{className:"a11y"},this.nextText)))}}]),r}(b.a.Component);Nt.propTypes={clickPrevHandler:k.a.func.isRequired,clickNextHandler:k.a.func.isRequired,imgIndex:k.a.number.isRequired,totalImg:k.a.number.isRequired},Nt.defaultProps={};var Et=Nt;function Ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var St=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Ct()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).staticProps={TOOLBAR_HEIGHT:32,THUMB_NAV_WIDTH:32,THUMB_WIDTH:78,THUMB_HEIGHT:46,DEEPLINK_PREFIX:"#igImgId_",SHOW_CAPTIONS:"Show caption",HIDE_CAPTIONS:"Hide caption",PX:"px",$C:{enableCaptions:e.props.enableCaptions,captionsVisible:e.props.captionsVisible,enableThumbnails:e.props.enableThumbnails,thumbnailsVisible:e.props.thumbnailsVisible,enableFullscreen:e.props.enableFullscreen,enableTools:e.props.enableTools,leadmedia:e.props.leadmedia},$S:{width:0,height:0,imageCount:0,thumbInterval:null,startImageId:null,startImageIdx:0}},e.state={thumbsDisplay:e.staticProps.$C.thumbnailsVisible,captionsVisible:e.staticProps.$C.captionsVisible,imgIndex:0,fullscreen:!1},e.init(),e}return u()(r,[{key:"init",value:function(){!1===this.staticProps.$C.enableTools&&(this.staticProps.TOOLBAR_HEIGHT=0,this.staticProps.$C.enableTools=!1,this.staticProps.$C.enableCaptions=!1,this.staticProps.$C.enableThumbnails=!1,this.staticProps.$C.enableFullscreen=!1)}},{key:"getImageRatio",value:function(t){this.staticProps.$C.imgRatio=void 0!==this.props.imgRatio?this.props.imgRatio:t.galleryAspectRatio,"4x3"!==this.staticProps.$C.imgRatio||"16x9"!==this.staticProps.$C.imgRatio||"square"!==this.staticProps.$C.imgRatio||console.log("image aspect ratio was set incorrectly for photoGallery, please use one of these 3 values : 4x3, 16x9 or square")}},{key:"setContainerDimensions",value:function(){var t=this.refs.container;t&&(this.staticProps.$S.width=Math.ceil(parseFloat(t.offsetWidth)),this.staticProps.$S.height=Math.ceil(parseFloat(t.offsetHeight))-this.staticProps.TOOLBAR_HEIGHT)}},{key:"sortImageFiles",value:function(t){var e,a=t.galleryImages,r=a.length;for(e=0;e<r;e++){for(var n=a[e].imageFiles.length,o=0;o<n;o++)0!==a[e].imageFiles[o].width&&0!==a[e].imageFiles[o].height||a[e].imageFiles.splice(o,1);a[e].imageFiles.sort(this.compareImageSizes)}}},{key:"compareImageSizes",value:function(t,e){return t.width<e.width?-1:t.width>e.width?1:0}},{key:"componentWillUnmount",value:function(){this.props.on_reset()}},{key:"onPrevClick",value:function(){0!==this.state.imgIndex&&this.setState({imgIndex:this.state.imgIndex-1})}},{key:"onNextClick",value:function(){var t=this.props.items;this.state.imgIndex!==t.galleryImages.length-1&&this.setState({imgIndex:this.state.imgIndex+1})}},{key:"onThumbButtonClick",value:function(t){t.preventDefault(),this.setState({thumbsDisplay:!this.state.thumbsDisplay})}},{key:"onCaptionsButtonClick",value:function(t){t.preventDefault(),this.setState({captionsVisible:!this.state.captionsVisible})}},{key:"onThumbClick",value:function(t){t.preventDefault(),this.setState({imgIndex:parseInt(t.currentTarget.dataset.index)})}},{key:"onFullScreenButtonClick",value:function(t){t.preventDefault(),this.setState({fullscreen:!this.state.fullscreen}),S.a.updateBodyScrollState(!this.state.fullscreen)}},{key:"render",value:function(){var t,e=this.state.captionsVisible,a=this.state.thumbsDisplay,r=this.state.fullscreen,n=this.state.imgIndex,o="16x9",i="embeddable-pg_16x9",s="fs_16x9",c=0,l=this.props.photogalleryID,u=this.staticProps.$C.leadmedia,p=this.props.items;if("undefined"===typeof p)this.props.load_photogallery_data(l);else{this.sortImageFiles(p),this.setContainerDimensions(),this.getImageRatio(p),c=p.galleryImages.length,o=p.galleryAspectRatio;var h=this.staticProps.$C.imgRatio;i="embeddable-pg_".concat(h),s="fs_".concat(h)}var d=E()(H()({"embeddable-item":!0,cbcfgfullscreen:r},s,r)),f=E()((t={PhotoGallery:!0},H()(t,i,!r),H()(t,"leadmedia",u),H()(t,"sclt-leadmedia",u),t)),m=E()({overlays:!0,thumbOn:a}),w=r?b.a.createElement("button",{"aria-label":"close",className:"cbcfgfullscreen-close",onClick:this.onFullScreenButtonClick.bind(this)},b.a.createElement(et.a,{type:"close"})):null;return b.a.createElement("span",{className:f},b.a.createElement("div",{className:d,ref:"container"},w,b.a.createElement("div",{ref:"loader",style:{overflow:"hidden"},className:"cbcfg"},b.a.createElement(Z,{imageData:p,params:this.staticProps,imgIndex:n,fullscreen:r,originalAspectRatio:o}),b.a.createElement("div",{className:m,ref:"overlays"},b.a.createElement(ct,{imageData:p,params:this.staticProps,imgIndex:n,captionsVisible:e}),b.a.createElement(yt,{imageData:p,params:this.staticProps,totalImg:c,imgIndex:n,clickHandler:this.onThumbClick.bind(this)})),b.a.createElement(Et,{clickNextHandler:this.onNextClick.bind(this),clickPrevHandler:this.onPrevClick.bind(this),imgIndex:n,totalImg:c}),b.a.createElement("div",{className:"tools",ref:"tools"},b.a.createElement(nt,{params:this.staticProps,clickHandler:this.onCaptionsButtonClick.bind(this),captionsVisible:e}),b.a.createElement(vt,{params:this.staticProps,clickHandler:this.onFullScreenButtonClick.bind(this)}),b.a.createElement(pt,{params:this.staticProps,clickHandler:this.onThumbButtonClick.bind(this),thumbsState:a,captionsVisible:e}),b.a.createElement(tt,{displayParam:this.staticProps.$C.enableTools,imgIndex:n,totalImg:c})))))}}]),r}(b.a.Component);St.defaultProps={enableCaptions:!0,captionsVisible:!0,enableThumbnails:!0,thumbnailsVisible:!1,enableFullscreen:!0,enableTools:!0,refreshBigBox:!1,leadmedia:!1};var Rt=Object(g.connect)((function(t,e){return{items:t.photogallery.items[e.photogalleryID]}}),(function(t){return Object(M.bindActionCreators)({load_photogallery_data:G,on_reset:V},t)}))(St),Pt=function(t,e,a,r){var n=document.createElement("script");n.type="text/javascript",a&&(n.async=!0),void 0!==r&&(n.id=r),n.readyState?n.onreadystatechange=function(){"loaded"!==n.readyState&&"complete"!==n.readyState||(n.onreadystatechange=null,e&&e())}:n.onload=function(){e&&e()},n.src=t,document.getElementsByTagName("head")[0].appendChild(n)},Tt={"data-cards":"hidden"},Dt={"data-conversation":"none"};function xt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var It=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(xt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"componentDidMount",value:function(){r.scriptLoaded?"undefined"!==typeof window.twttr&&window.twttr.widgets.load():(Pt("//platform.twitter.com/widgets.js"),r.scriptLoaded=!0)}},{key:"render",value:function(){if(this.props.body){var t=this.getLink(),e=t?"&mdash;":null;return b.a.createElement("blockquote",n()({className:"twitter-tweet"},this.getAttr()),b.a.createElement("p",null,this.props.body),e,t)}return null}},{key:"getAttr",value:function(){var t={lang:"en"};return this.props.includemedia||(t=Object.assign(t,Tt)),this.props.includeparenttweet||(t=Object.assign(t,Dt)),t}},{key:"getLink",value:function(){return this.props.url&&this.props.user?b.a.createElement("a",{href:this.props.url},this.props.user):null}}]),r}(b.a.Component);It.propTypes={user:k.a.string,body:k.a.string,includemedia:k.a.bool,includeparenttweet:k.a.bool,url:k.a.string},It.defaultProps={user:"",body:"",includemedia:!0,includeparenttweet:!0,url:""},It.scriptLoaded=!1;var Bt=It,Lt=U.d("Client.instagramApi.baseApiURL"),Ft=a(197),At=a(111);function Ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var jt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Ot()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={instagramEmbed:""},e}return u()(r,[{key:"componentDidMount",value:function(){this.fetchInstagram()}},{key:"fetchInstagram",value:function(){var t=this,e=this.getInstagramToken(this.props.url);Object(z.b)("".concat(Lt).concat(e)).then((function(t){if(Object(At.a)(t))return t.json();throw new Error(t.status)})).then((function(e){t.setState({instagramEmbed:e.html})})).catch((function(t){console.log("Instagram rendering (".concat(Lt).concat(e,") failed [Error: ").concat(t,"]"))}))}},{key:"getInstagramToken",value:function(t){var e=t.split("/");return e[e.length-2]}},{key:"render",value:function(){return b.a.createElement("div",{className:"instagram"},b.a.createElement(Ft.a,{html:this.state.instagramEmbed,targetParent:!0}))}}]),r}(b.a.Component);jt.propTypes={url:k.a.string.isRequired},jt.defaultProps={url:""};var Ht=a(200);function Mt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var _t=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Mt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).scriptLoaded=!1,e}return u()(r,[{key:"componentDidMount",value:function(){this.scriptLoaded||(Pt("//embed.scribblelive.com/widgets/embed.js",null,null,"scrbbl-js"),this.scriptLoaded=!0)}},{key:"render",value:function(){var t="/event/".concat(this.props.eventid,"/").concat(this.props.themeid),e="accessibilitySkipLinks".concat(this.props.eventid);return b.a.createElement(b.a.Fragment,null,b.a.createElement(Ht.a,{linkText:"Skip Scribble",linkHref:"#".concat(e)}),b.a.createElement("div",{className:"scribble scrbbl-embed","data-src":t}),b.a.createElement("span",{id:e}))}}]),r}(b.a.Component);_t.propTypes={eventid:k.a.string.isRequired,themeid:k.a.string.isRequired},_t.defaultProps={eventid:"0",themeid:"0"};var Ut=_t;function qt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var zt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(qt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).scriptLoaded=!1,e}return u()(r,[{key:"componentDidMount",value:function(){var t=this;this.scriptLoaded||(Pt("//s3.amazonaws.com/s3.documentcloud.org/viewer/loader.js"),Pt("//assets.documentcloud.org/viewer/viewer.js"),this.scriptLoaded=!0);window.setTimeout((function(){if("undefined"!==typeof window.DV)try{window.DV.load("//www.documentcloud.org/documents/".concat(t.props.documentid,".js"),{width:460,height:650,sidebar:!1,text:!1,responsive:!0,container:"#DV-viewer-".concat(t.props.documentid)})}catch(e){console.log(e)}}),2e3)}},{key:"render",value:function(){var t="DV-viewer-".concat(this.props.documentid),e="http://s3.documentcloud.org/documents/".concat(this.props.documentnumber,"/").concat(this.props.documentstub),a="".concat(e,".pdf"),r="".concat(e,".txt");return b.a.createElement("span",{className:"documentCloud"},b.a.createElement("span",{className:"heading"},this.props.documenttitle),b.a.createElement("span",{id:t,className:"documentCloudContainer DV-container"}),b.a.createElement("span",{className:"external"},b.a.createElement("a",{href:a},"Mobile users: View the document"),b.a.createElement("br",null),b.a.createElement("a",{href:a},this.props.documenttitle," (PDF"," ",this.props.documentfilesize,"KB)"),b.a.createElement("br",null),b.a.createElement("a",{href:r},this.props.documenttitle," (Text"," ",this.props.documentfilesize,"KB)")),b.a.createElement("span",{className:"disclaimer"},"CBC is not responsible for 3rd party content"))}}]),r}(b.a.Component);zt.propTypes={documenttitle:k.a.string,documenturl:k.a.string,documentid:k.a.string,documentnumber:k.a.string,documentstub:k.a.string,documentfilesize:k.a.string},zt.defaultProps={};var Wt=zt;function Vt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Gt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Vt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){return b.a.createElement("span",{className:"storify"},b.a.createElement("iframe",{className:"storifyIframe",title:"Storify Content",src:this.props.iframesrc,allowTransparency:!0}))}}]),r}(b.a.Component);Gt.propTypes={iframesrc:k.a.string.isRequired,scriptsrc:k.a.string,storyhref:k.a.string,storytitle:k.a.string},Gt.defaultProps={iframesrc:""};var Yt=Gt,$t=a(40),Jt=a.n($t);function Kt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Xt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Kt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={embedHeight:300},e.updateEmbedHeight=e.updateEmbedHeight.bind(Jt()(e)),e}return u()(r,[{key:"updateEmbedHeight",value:function(t){var e=this.props.url.match(/^https?:\/\/.+cbc\.ca/);if(e&&t.origin&&t.origin.match(e)){var a=t.data;"object"===i()(a)&&a.embedHeight>0&&this.state.embedHeight!==a.embedHeight&&this.setState({embedHeight:a.embedHeight})}}},{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("message",this.updateEmbedHeight)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("message",this.updateEmbedHeight)}},{key:"render",value:function(){var t=this.props,e=t.url,a=t.introtext,r=this.state.embedHeight;return b.a.createElement("div",{className:"storyCardCarousel"},b.a.createElement("iframe",{className:"storyCardCarouselIframe",title:a+" - Information Carousel.",src:e,style:{height:r+"px"}}))}}]),r}(b.a.Component);function Zt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Xt.propTypes={introtext:k.a.string,url:k.a.string},Xt.defaultProps={introtext:"",url:""};var Qt=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Zt()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"componentDidMount",value:function(){r.scriptLoaded||(Pt("//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3"),r.scriptLoaded=!0)}},{key:"render",value:function(){return b.a.createElement("div",{className:"facebook"},b.a.createElement("div",{className:"fb-post","data-href":this.props.url,"data-width":"500"}))}}]),r}(b.a.Component);Qt.propTypes={introtext:k.a.string,url:k.a.string,width:k.a.string},Qt.defaultProps={introtext:"",url:"",width:"500"},Qt.scriptLoaded=!1;var te=Qt,ee=a(774),ae=a(13);function re(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ne=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(re()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var t={external:this.props.external,url:this.props.href,"data-contentid":""};return b.a.createElement("ul",{className:"similarLinks"},b.a.createElement("li",{className:"similarListItem"},b.a.createElement(ae.a,n()({},t,{className:"similarLink"}),b.a.createElement(ee.a,{flag:this.props.flag,external:t.external}),b.a.createElement("span",{className:"similarLinkText"},this.props.text))))}}]),r}(b.a.Component);ne.propTypes={external:k.a.bool,href:k.a.string,text:k.a.string},ne.defaultProps={external:!0,href:"",text:""};var oe=ne;function ie(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var se=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(ie()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={},e}return u()(r,[{key:"render",value:function(){var t="https://www.youtube.com/embed/".concat(this.props.id);return b.a.createElement("span",{className:"youtube"},b.a.createElement("iframe",{src:t,frameBorder:"no",title:"YouTube content",allowFullScreen:!0}))}}]),r}(b.a.Component);se.propTypes={},se.defaultProps={};var ce=se,le=a(172);function ue(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var pe=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(ue()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){return b.a.createElement("div",{className:"fb-video facebookVideo","data-href":this.props.url,"data-show-text":"false"})}}]),r}(te);function he(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var de=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(he()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={},e}return u()(r,[{key:"processNode",value:function(t){if(!t)return[];var e=t.children,a="",r="",n=new le.a;return e.map((function(t){"span"===t.name||"p"===t.name?a=n._getNodeText(t):"text"===t.type&&""!==t.content.trim()&&(a=t.content.trim()),a='"'===(a=a.replace(/^'(.*)'$/,"$1")).charAt(0)?a.replace(/^"(.*)"$/,"$1"):a,"cite"===t.name&&(r=n._getNodeText(t))})),[a,r]}},{key:"render",value:function(){var t=b.a.createElement("svg",{className:"pullquote-quotation-open",version:"1.1",focusable:"false",x:"0px",y:"0px",width:"30px",height:"25px",viewBox:"0 0 52.157 39.117",enableBackground:"new 0 0 52.157 39.117",space:"preserve"},b.a.createElement("g",null,b.a.createElement("g",null,b.a.createElement("path",{fill:"000000",d:"M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"}))),b.a.createElement("g",{display:"none"},b.a.createElement("g",{display:"inline"}," ",b.a.createElement("path",{fill:"000000",d:"M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"})))),e=b.a.createElement("svg",{className:"pullquote-quotation-close",focusable:"false",x:"0px",y:"0px",width:"23px",height:"22px",viewBox:"0 0 52.157 39.117",enableBackground:"new 0 0 52.157 39.117",space:"preserve"},b.a.createElement("g",{display:"none"},b.a.createElement("g",{display:"inline"},b.a.createElement("path",{fill:"000000",d:"M22.692,10.113c-5.199,1.4-8.398,4.4-8.398,8.801c0,2.4,2,3,3.6,4.199c2.2,1.602,3.4,3.4,3.4,6.602   c0,3.799-3.4,6.799-7.4,6.799c-4.6,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z M45.692,10.113   c-5.199,1.4-8.399,4.4-8.399,8.801c0,2.4,2,3,3.601,4.199c2.2,1.602,3.399,3.4,3.399,6.602c0,3.799-3.399,6.799-7.399,6.799   c-4.601,0-8.8-3.199-8.8-10.6c0-13.6,7-20,17.599-21.799V10.113z"}))),b.a.createElement("g",null,b.a.createElement("g",null,b.a.createElement("path",{fill:"000000",d:"M6.648,29.759c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.399-3.4-3.399-6.6   c0-3.801,3.399-6.801,7.399-6.801c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z M29.648,29.759   c5.199-1.4,8.398-4.4,8.398-8.801c0-2.398-2-3-3.599-4.199c-2.2-1.6-3.401-3.4-3.401-6.6c0-3.801,3.401-6.801,7.401-6.801   c4.599,0,8.8,3.201,8.8,10.6c0,13.6-7,20-17.6,21.801V29.759z"})))),a=this.processNode(this.props.node),r=a[0]?b.a.createElement("span",{className:"pullquote-quotation"},t,a[0],e):null,n=a[1]?b.a.createElement("cite",{className:"pullquote-source"},a[1]):null;return null!==r||null!==n?b.a.createElement("blockquote",{className:"pullquote"},b.a.createElement("span",{className:"text-items"},r,n)):null}}]),r}(b.a.Component);de.propTypes={},de.defaultProps={};var fe=de,me=a(17),we=a(99),ye=[300,460,620,780,1180];function be(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ge=0,ve=0,ke=0,Ne=0,Ee=0,Ce=0,Se=0,Re={twitter:Bt,instagram:jt,scribblelive:Ut,documentcloud:Wt,storify:Yt,facebookpost:te,facebookvideo:pe,customhtml:Ft.a,youtube:ce,cardcarousel:Xt},Pe=function(t){var e=t.photogalleries;return e instanceof Array&&(e=e[Ee++])?b.a.createElement(Rt,{enableThumbnails:!1,leadmedia:!1,photogalleryID:e.id,key:T()()}):null},Te=function(t){return t?b.a.createElement(fe,{node:t,key:T()()}):null},De=function(t,e,a){if(t&&e){if(!(a instanceof Array))return null;if(!a[Se])return null;var r={type:"in-read",key:T()(),lazy:0!==Se,targeting:Object.assign({type:"ocelot",contentId:e.contentId,rmtype:"bigbox",plc:0===Se?"read":"read".concat(Se+1)},e.targeting),responsive:!0,hierarchy:e.ad_hierarchy,exclusions:e.exclusions};return Se++,b.a.createElement(we.a,r)}return null},xe=function(t){var e=t.customcontent;if(e instanceof Array){var a=e[Ce++];if(a)return b.a.createElement(Ft.a,n()({},a,{key:T()()}))}return null},Ie=function(t){var e=t.embeddedcontent;try{if(e instanceof Array&&(e=e[ke])&&(ke++,Re[e.type]))return e.key=T()(),b.a.createElement(Re[e.type],e)}catch(a){q.a.error("Story - Failed to createEmbed ".concat(e,", error: ").concat(a))}return null},Be=function(t){var e=t.similarlinks instanceof Array?t.similarlinks:null;e||(e=t.intlinks instanceof Array?t.intlinks:null);var a=e?e[Ne]:null;return a?Le(a):null},Le=function(t){var e=Object(me.g)(t);return Ne++,b.a.createElement(oe,{flag:t.flag,external:!0,href:t.url,text:e,key:T()()})},Fe=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(be()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;c()(this,r);return(e=a.call(this,t)).tokens={"[IMAGE]":function(t){return function(t){var e=t.storyimages;if(e instanceof Array){var a=e[ve++];if(a){if(a.derivatives){var r=a.derivatives.original_620;a.url=r.fileurl?r.fileurl.replace("_620","_780"):"";var o=r.w||1,i=r.h||1;a.aspectRatio=(i/o*100).toFixed(2),a.sizes=ye,a.sizesRatio="original"}return a.useoriginalimage&&(a.url=a.originalimageurl),b.a.createElement(O.a,n()({},a,{key:T()(),mass:a.size}))}}return null}(t)},"[PHOTOGALLERY]":Pe,"[MEDIA]":function(t){return function(t){var e=t.media;try{if(e instanceof Array&&(e=e[ge++])){var a=""!==e.description?e.description:e.title;if("object"===i()(e.extattrib))return b.a.createElement(A,{isLead:!1,clipID:e.extattrib.guid||"",runtime:e.extattrib.runtime||"",description:a,showcaption:e.showcaption,key:T()()})}}catch(r){q.a.error("Story - Failed to embed media object ".concat(e,", error: ").concat(r))}return null}(t)},"[EMBED]":Ie,"[CUSTOM]":xe,"[SIMILAR]":function(t){return Be(t)},blockquote:Te},void 0!==t&&"adProps"in t&&(e.tokens["[AD]"]=function(e){return De(e,t.adProps,t.adIndexArray)}),e}return u()(r,[{key:"shouldComponentUpdate",value:function(t){return this.props.adProps.contentId!==t.adProps.contentId&&(this.tokens["[AD]"]=function(e){return De(e,t.adProps,t.adIndexArray)},!0)}},{key:"getMarkup",value:function(){ge=0,ve=0,ke=0,Ne=0,Ee=0,Ce=0,Se=0;var t=new le.a,e=!1,a=!1,r=!1;return this.props.json.leadmedia&&(e="media"===this.props.json.leadmedia.type,a="image"===this.props.json.leadmedia.type,r="photogallery"===this.props.json.leadmedia.type),ge=e?1:0,ve=a?1:0,Ee=r?1:0,Ne=0,this.tokens.json=this.props.json,this.tokens.createSimilar=Be,this.tokens.isFutureToken=this.isFutureToken,t.getParsedDOM(this.props.body,this.tokens,this.props.adIndexArray)}},{key:"isFutureToken",value:function(t){return Boolean(t.match(/\s*(\[CBC_[A-Z]+\]+)\s*/gm))}},{key:"render",value:function(){var t=q.a.startTimer(),e=this.getMarkup();return t.done({message:"story_parsed",id:this.props.json.id,level:"debug"}),b.a.createElement("div",{className:"story"},e)}}]),r}(b.a.Component);Fe.defaultProps={body:"",json:{},adProps:{}},Fe.propTypes={body:k.a.string,json:k.a.object,adProps:k.a.object};var Ae=Object(g.connect)((function(t){return{json:t.detail.json}}))(Fe),Oe=a(292);function je(t){return b.a.createElement("h1",{className:"detailHeadline"},t.text)}je.propTypes={text:k.a.string.isRequired};var He=je;function Me(t){return b.a.createElement("div",{className:"detailSummary"},t.text)}Me.propTypes={text:k.a.string.isRequired};var _e=a(304),Ue=a(308),qe=a(302),ze=a(157),We=a(22),Ve=a.n(We),Ge=a(291);function Ye(t){if(t.author.names.isEmpty())return null;var e,a=(e=t.author,Ve()(e.names,"Missing author.names field"),e.names.map((function(t){return t.url&&t.text?b.a.createElement(ae.a,{url:t.url,external:t.external},t.text):t.text?b.a.createElement("span",null,t.text):null}))).toArray(),r=b.a.Children.toArray(Object(Ge.c)(a,", "));return b.a.createElement("span",{className:"authorText"},r)}function $e(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}Ye.propTypes={author:k.a.instanceOf(ze.a)},Ye.defaultProps={author:new ze.a},Object(Ge.b)(Ye,(function(t){return!!(t&&t.author instanceof ze.a)&&!t.author.names.isEmpty()}));var Je=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if($e()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){return this.props.authorList.isEmpty()?null:b.a.createElement("span",{className:"authorText"},b.a.Children.toArray(this.props.authorList.map((function(t){return b.a.createElement(ae.a,{url:t.get("url")},t.get("name"))})).interpose(", ").toArray()))}}]),r}(b.a.PureComponent);function Ke(){return b.a.createElement("span",{className:"bullet"}," \xb7 ")}Ke.propTypes={},Ke.defaultProps={};var Xe=Ke,Ze=a(2),Qe=a.n(Ze);function ta(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ea=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(ta()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"getByline",value:function(){return this.props.href&&this.props.text?b.a.createElement(ae.a,{external:!0,url:this.props.href},this.props.text):this.props.text}},{key:"getAuthorImage",value:function(){return this.props.author&&this.props.author.img?b.a.createElement(qe.a,{src:this.props.author.img,title:this.props.author.title}):null}},{key:"getTimeStamp",value:function(){return this.props.publishedAt?b.a.createElement(Ue.a,{updated:this.props.updatedAt,showOriginalPubDate:this.props.showOriginalPubDate,published:this.props.publishedAt,publishedAtVerbal:this.props.publishedAtVerbal}):null}},{key:"getAuthorText",value:function(){return this.props.authorList.isEmpty()?this.props.author?b.a.createElement(Ye,{author:this.props.author}):null:b.a.createElement(Je,{authorList:this.props.authorList})}},{key:"render",value:function(){var t=Object(Ge.c)(Object(Ge.a)(this.getAuthorText(),this.getByline(),this.getTimeStamp()),b.a.createElement(Xe,null));return t.length>0?b.a.createElement("div",{className:"byline"},this.getAuthorImage(),b.a.createElement("div",{className:"bylineDetails"},b.a.Children.toArray(t))):null}}]),r}(b.a.Component);ea.propTypes={updatedAt:k.a.number,publishedAt:k.a.number,showOriginalPubDate:k.a.bool,text:k.a.string,href:k.a.string,author:k.a.instanceOf(ze.a),authorList:k.a.instanceOf(Ze.List)},ea.defaultProps={updatedAt:0,publishedAt:0,showOriginalPubDate:!1,text:"",href:"",author:new ze.a,authorList:new Ze.List};var aa=ea,ra=a(303),na=a(127);function oa(t){var e=b.a.createElement("svg",{viewBox:"0 0 32 32",focusable:"false"},b.a.createElement("path",{d:"M20.95,17H11a1,1,0,0,0,0,2h10a1,1,0,0,0,0-2Zm2-6H9a1,1,0,0,0,0,2h14a1,1,0,0,0,0-2ZM16,0C7.14,0,0,6.26,0,14a12.55,12.55,0,0,0,6,10.9v7.07l7-4.25a18.71,18.71,0,0,0,3,.25c8.82,0,16-6.25,16-14S24.78,0,16,0Zm0,25.95a16.29,16.29,0,0,1-3.37-.37l-4.7,2.82.06-4.63A11.56,11.56,0,0,1,2,14C2,7.36,8.24,2,16,2s14,5.36,14,12-6.26,12-14,12Zm0,0"})),a=t.storyId.replace(".","");return b.a.createElement("div",{className:"commentCount"},b.a.createElement("button",{className:"commentCount-link",onClick:function(t){return Object(na.c)("comments-".concat(a),t,"textarea.vf-content")}},b.a.createElement("div",{className:"commentCount-text-container"},b.a.createElement("div",{className:"viafoura"},b.a.createElement("span",{className:"vf-counter vf-widget","data-widget":"counter","data-path":t.url})),b.a.createElement("div",{className:"commentCount-text"},b.a.createElement("span",null," comments")))),b.a.createElement("span",{className:"commentCount-icon"},e))}oa.propTypes={url:k.a.string,storyId:k.a.string},oa.defaultProps={url:"",storyId:""};var ia=a(173);function sa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ca=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(sa()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).actionHandler=e.actionHandler.bind(Jt()(e)),e.keyPressHandler=e.keyPressHandler.bind(Jt()(e)),e}return u()(r,[{key:"keyPressHandler",value:function(t){13!==t.charCode&&32!==t.charCode||(32===t.charCode&&t.preventDefault(),this.actionHandler())}},{key:"actionHandler",value:function(){this.props.updateId("open",this.props.mediaID,"audio")}},{key:"render",value:function(){var t=x.a.utc(this.props.runtime*B.a),e=t.hours()?B.b.longMediaFormat:B.b.shortMediaFormat,a="episode"===this.props.pageType?" to the full episode":"";return b.a.createElement("div",{className:"audioInfo",onClick:this.actionHandler,onKeyPress:this.keyPressHandler,role:"button",tabIndex:"0"},b.a.createElement("span",{className:"iconLink"},b.a.createElement(et.a,{type:"play"})),b.a.createElement("span",{className:"audioInfoLink"},"Listen",a),b.a.createElement("span",{className:"runTime"},t.format(e)))}}]),r}(b.a.Component),la=Object(g.connect)(null,{updateId:ia.b})(ca),ua=a(281),pa={className:"comments",external:!0,url:"https://www.cbc.ca/aboutcbc/discover/submissions.html"},ha=a(298),da=a(290),fa=a(793),ma=a.n(fa);function wa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var ya=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(wa()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){var t;return c()(this,r),(t=a.call(this)).state={authenticated:!1,commentingLoaded:!1},t}return u()(r,[{key:"componentDidMount",value:function(){var t=this;da.a.addOnReadyCallback((function(){t.setState({commentingLoaded:!0}),da.a.getUserContext().then((function(e){return t.updateAuthState(e)})),da.a.subscribeUserInfo((function(e){return t.updateAuthState(e)}))}))}},{key:"updateAuthState",value:function(t){var e=da.a.isUserAuthenticated(t);e!==this.state.authenticated&&this.setState({authenticated:e})}},{key:"getLogInButton",value:function(){return!this.state.authenticated&&this.state.commentingLoaded?b.a.createElement("button",{className:"viafouraLogin",type:"button",onClick:function(t){return da.a.openProfile(t)}},b.a.createElement("img",{className:"viafouraLogin-image",src:ma.a,alt:""}),b.a.createElement("span",{className:"viafouraLogin-text"},"LOG IN")):null}},{key:"render",value:function(){return this.getLogInButton()}}]),r}(b.a.Component);function ba(t){var e=b.a.createElement("span",null,b.a.createElement("span",{className:"vf-counter vf-widget","data-widget":"counter","data-path":t.url}),b.a.createElement("span",null," Comments")),a=t.storyId.replace(".","");return b.a.createElement("div",{className:"comments cbc-vf",id:"comments-".concat(a)},b.a.createElement(ha.Element,{name:"comments-".concat(a)},b.a.createElement(ua.a.H2,null,e),b.a.createElement("p",{className:"commentIntro"},"To encourage thoughtful and respectful conversations, first and last names will appear with each submission to CBC/Radio-Canada's online communities (except in children and youth-oriented communities). Pseudonyms will no longer be permitted."),b.a.createElement("p",{className:"commentIntro"},"By submitting a comment, you accept that CBC has the right to reproduce and publish that comment in whole or in part, in any manner CBC chooses. Please note that CBC does not endorse the opinions expressed in comments. Comments on this story are moderated according to our"," ",b.a.createElement(ae.a,pa,"Submission Guidelines"),". Comments are welcome while open. We reserve the right to close comments at any time."),b.a.createElement("div",{className:"viafoura"},b.a.createElement("div",{className:"viafoura-buttons"},b.a.createElement(ya,null)),b.a.createElement("div",{className:"vf-comments vf-widget","data-widget":"comments","data-has-notification-bell":"true","data-path":t.url,"data-limit":t.limit}))))}ba.propTypes={url:k.a.string,storyId:k.a.string,limit:k.a.number},ba.defaultProps={url:"",storyId:"",limit:10};var ga=a(305);function va(t){var e=function(t){if(void 0!==t.list&&t.list.length)return t.list.map((function(t){return b.a.createElement("li",{className:"highlightListItem",key:T()()},b.a.createElement("span",null,t))}))}(t);return b.a.createElement("div",{className:"highlights sclt-highlights"},b.a.createElement(ua.a.H2,{key:T()()},b.a.createElement("span",null,t.heading)),b.a.createElement("ul",{className:"highlightList",key:T()()},e))}va.propTypes={list:k.a.array,heading:k.a.string},va.defaultProps={heading:"Latest"};var ka=va,Na=a(11),Ea=["nonpolopolyURL","link"];function Ca(t){var e=Object(me.g)(t),a=t.flag,r=!!(t.linkType&&Ea.includes(t.linkType)||!t.jsonurl),n=t.external||r,o=Na.x(t.url),i=n?t.url:o;return b.a.createElement("li",{className:"relatedListItem"},b.a.createElement(ae.a,{className:"relatedLink",external:n,url:i},b.a.createElement(ee.a,{flag:a,external:n})," ",e))}Ca.propTypes={url:k.a.string.isRequired,title:k.a.string,departments:k.a.array,flag:k.a.string,external:k.a.bool},Ca.defaultProps={external:!1};var Sa=Ca;function Ra(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t))}));return b.a.createElement("div",{className:"relatedLinkBundle"},e)}Ra.propTypes={links:k.a.array.isRequired};var Pa=Ra;function Ta(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t))}));return b.a.createElement("div",{className:"relatedMedia"},e)}Ta.propTypes={links:k.a.array.isRequired};var Da=Ta;function xa(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t))}));return b.a.createElement("div",{className:"relatedphotogallery"},e)}xa.propTypes={links:k.a.array.isRequired};var Ia=xa;function Ba(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t))}));return b.a.createElement("div",{className:"relatedSimilar"},e)}Ba.propTypes={links:k.a.array.isRequired};var La=Ba;function Fa(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t))}));return b.a.createElement("div",{className:"relatedStory"},e)}Fa.propTypes={links:k.a.array.isRequired};var Aa=Fa;function Oa(t){var e=t.links.map((function(t){return b.a.createElement(Sa,n()({key:T()()},t,{external:!0}))}));return b.a.createElement("div",{className:"relatedExternal"},e)}Oa.propTypes={links:k.a.array.isRequired};var ja=Oa;function Ha(t){var e=t.intlinks&&t.intlinks.length>0?b.a.createElement(Aa,{links:t.intlinks}):null,a=t.eplinks&&t.eplinks.length>0?b.a.createElement(Aa,{links:t.eplinks}):null,r=t.extraMedia&&t.extraMedia.length>0?b.a.createElement(Da,{links:t.extraMedia}):null,n=t.extraPhotogalleries&&t.extraPhotogalleries.length>0?b.a.createElement(Ia,{links:t.extraPhotogalleries}):null,o=t.similarlinks&&t.similarlinks.length>0?b.a.createElement(La,{links:t.similarlinks}):null,i=t.linkbundle&&t.linkbundle.length>0?b.a.createElement(Pa,{links:t.linkbundle}):null,s=t.extlinks&&t.extlinks.length>0?b.a.createElement(ja,{links:t.extlinks}):null;return b.a.createElement("div",{className:"relatedlinks sclt-relatedlinks"},b.a.createElement(ua.a.H2,null,t.heading),b.a.createElement("ul",{className:"relatedList"},e,a,r,n,o,i,s))}Ha.propTypes={intlinks:k.a.array,extraMedia:k.a.array,extraPhotogalleries:k.a.array,similarlinks:k.a.array,linkbundle:k.a.array,extlinks:k.a.array,heading:k.a.string},Ha.defaultProps={heading:"Related Stories"};var Ma=Ha;function _a(t){return t.sourceInfo?b.a.createElement("div",{className:"source"},b.a.createElement("p",null,t.sourceInfo)):null}_a.propTypes={},_a.defaultProps={};var Ua=_a;function qa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var za=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(qa()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"processCorrections",value:function(){if(void 0!==this.props.json&&this.props.json.length){var t=this.props.json,e=[];return t.forEach((function(t){e.push(b.a.createElement("li",{className:"correction-item",key:T()()},b.a.createElement("div",{className:"correction-text"},t.correction),b.a.createElement("div",{className:"correction-date"},t.date)))})),e}return null}},{key:"render",value:function(){var t=this.processCorrections();return t?b.a.createElement("div",{className:"corrections"},b.a.createElement("h3",null,"Corrections"),b.a.createElement("ul",{className:"corrections-list"},t)):null}}]),r}(b.a.Component);function Wa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Va=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Wa()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"processClarifications",value:function(){if(void 0!==this.props.json&&this.props.json.length){var t=this.props.json,e=[];return t.forEach((function(t){e.push(b.a.createElement("li",{className:"clarification-item",key:T()()},b.a.createElement("div",{className:"clarification-text"},t.clarification),b.a.createElement("div",{className:"clarification-date"},t.date)))})),e}return null}},{key:"render",value:function(){var t=this.processClarifications();return t?b.a.createElement("div",{className:"clarifications"},b.a.createElement("h3",null,"Clarifications"),b.a.createElement("ul",{className:"clarifications-list"},t)):null}}]),r}(b.a.Component),Ga=a(299);function Ya(t,e){var a={};return void 0!==t&&(a.formName=t),void 0!==e&&(a.referringButtonId=e),{type:Ga.a,payload:a}}function $a(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ja=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if($a()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={buttonId:""},e.handleClick=e.handleClick.bind(Jt()(e)),e}return u()(r,[{key:"handleClick",value:function(){var t=this.props,e=t.formName;(0,t.updateZendeskForm)(e,this.state.buttonId)}},{key:"componentDidMount",value:function(){this.setState({buttonId:"feedbackButton-"+Math.floor(1e4*Math.random())})}},{key:"render",value:function(){var t=this.props,e=t.buttonText,a=t.classNames,r=this.state.buttonId;return b.a.createElement("button",{className:a+" feedbackButton",onClick:this.handleClick,id:r},e)}}]),r}(b.a.Component);Ja.defaultProps={classNames:"",buttonText:""};var Ka={updateZendeskForm:Ya},Xa=Object(g.connect)(null,Ka)(Ja),Za=a(26);function Qa(t){var e=Za.a[t.baseSection],a=e?e.contentFeedbackLink:null,r=e?e.connectUrl:null,n=e?e.journalistStandards:null,o=e?e.trustProject:null,i=n&&o?b.a.createElement("span",{className:"separator"},"|"):null;if(!a&&!r&&!n&&!o)return null;var s=E()({bottomSeparator:a||r});return b.a.createElement("div",{className:"contentFeedback"},b.a.createElement("div",{className:s},function(t){if(t)return b.a.createElement(ae.a,{className:"journalistLink",url:t,external:!0},"CBC's Journalistic Standards and Practices");return null}(n),i,function(t,e){if(t){var a=e&&Za.a[e]?Object(Na.a)(e):"";if(a)return b.a.createElement(ae.a,{className:"trustProjectLink",url:t,external:!0},"About CBC ",a)}return null}(o,t.baseSection)),b.a.createElement(Xa,{formName:"typoForm",classNames:"reportIssue",buttonText:"Report Typo or Error"}))}Qa.propTypes={baseSection:k.a.string,headline:k.a.string},Qa.defaultProps={baseSection:"",headline:""};var tr=a(34),er=a.n(tr),ar=U.d("Client.zendeskApi.requestsURL");function rr(t){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return Object(z.b)(ar,e).then((function(t){return t}))}var nr=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var or={typoForm:{id:360001354433,header:"Report Typo or Error",formTags:["typo-form"],formSpecificFields:[360022771214,360022772193,360028518814],description:{display:!1,defaultText:"A typo report."},subject:{display:!1,defaultText:"Typo report submitted by a user from the CBC website.",appendPageTitle:!0}}},ir={id:360022791294,type:"text",title:"Website URL",required:!0,labelText:"Website URL"},sr={id:30217537,type:"description",required:!1,labelText:"Description"},cr={id:30217527,type:"subject",required:!1,labelText:"Subject"},lr={id:360028575073,type:"numeric",required:!1,labelText:"Content Id"},ur={360022771214:{id:360022771214,type:"text",required:!0,maxChars:200,labelText:"Enter typo or error as found on page",emptyInputText:"Please enter the typo or error."},360022772193:{id:360022772193,type:"text",required:!0,maxChars:200,labelText:"Enter correction",emptyInputText:"Please enter the correction."},360028518814:{id:360028518814,type:"text",required:!1,maxChars:250,labelText:"Email (optional)",emptyInputText:"Please enter your email.",validation:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"string"===typeof t&&Boolean(t.match(nr))},invalidInputText:"Please enter valid email."},33727647:{id:33727647,type:"text",required:!1,labelText:"Please leave this input empty.",ariaHidden:!0}};function pr(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function hr(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?pr(Object(a),!0).forEach((function(e){H()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):pr(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function dr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var fr=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(dr()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).initialState={slideUp:!1,filledFields:{},inputErrorMessage:null,submittedMsg:!1},e.state=e.initialState,e.createTicket=rr,e.formSubmit=e.formSubmit.bind(Jt()(e)),e.formClose=e.formClose.bind(Jt()(e)),e.onChangeHandler=e.onChangeHandler.bind(Jt()(e)),e.honeyCheck=e.honeyCheck.bind(Jt()(e)),e.validateFields=e.validateFields.bind(Jt()(e)),e.processTicketData=e.processTicketData.bind(Jt()(e)),e.showSubmittedMsg=e.showSubmittedMsg.bind(Jt()(e)),e}return u()(r,[{key:"isRendered",value:function(t,e){return null!==t.formData&&null!==e.inputErrorMessage}},{key:"formClose",value:function(t,e){"object"===i()(t)&&t.preventDefault&&t.preventDefault();var a=this.props,r=a.updateZendeskForm,n=a.referringButtonId;n&&!0!==e&&na.a.shiftFocusSafely("#"+n),r(null,""),this.setState(this.initialState)}},{key:"honeyCheck",value:function(){if(this.state.filledFields[33727647])return this.setState({filledFields:{},submittedMsg:!0}),"_BREAK_"}},{key:"validateInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;if(t=t.trim(),e.required&&!t)return"empty";if(t&&e.hasOwnProperty("validation")&&"function"===typeof e.validation){var a=e.validation(t);return a?"valid":"invalid"}return"valid"}},{key:"validateFields",value:function(){var t=this,e=this.props.renderFields,a=this.state.filledFields,r=!0,n={},o=null;if(e.forEach((function(e){var i=t.validateInput(a[e.id],e);"valid"===i?n[e.id]=!1:(r=!1,n[e.id]=i,o=null===o?e.id:o)})),!r)return this.setState({inputErrorMessage:n}),na.a.shiftFocusSafely("#field_"+o),"_BREAK_"}},{key:"processTicketData",value:function(t){var e=this.props,a=e.formData,r=e.path,n=e.pageTitle,o=e.polopolyId,i=e.department,s=this.state.filledFields,c=cr.id,l=sr.id,u=Object.entries(s).filter((function(t){var e=er()(t,1)[0];return![c,l].includes(e)})).map((function(t){var e=er()(t,2);return{id:e[0],value:e[1]}}));u.push({id:String(ir.id),value:"www.cbc.ca/"+r}),o&&u.push({id:String(lr.id),value:o});var p=s[c]?s[c]:a.subject.defaultText;!0===a.subject.appendPageTitle&&(p+=" "+n);var h=[];return a.formTags&&(h=h.concat(a.formTags)),i&&h.push("department_"+i),{request:{requester:{name:"Anonymous Web User"},subject:p,comment:{body:s[l]?s[l]:a.subject.defaultText},tags:h,custom_fields:u,ticket_form_id:a.id}}}},{key:"showSubmittedMsg",value:function(){this.setState({filledFields:{},submittedMsg:!0})}},{key:"formSubmit",value:function(t){var e=this.honeyCheck,a=this.validateFields,r=this.processTicketData,n=this.showSubmittedMsg,o=this.createTicket;t.preventDefault();for(var i,s=[e,a,r,o,n],c=0;c<s.length;c++){if("_BREAK_"===(i=(0,s[c])(i)))break}}},{key:"onChangeHandler",value:function(t,e){var a=this.state.filledFields,r=t.target.value,n="maxChars"in e?e.maxChars:1/0;r.length<=n?this.setState({filledFields:hr({},a,H()({},e.id,r))}):t.target.value=a[e.id]}},{key:"componentDidUpdate",value:function(t,e){var a=this.props.path,r=this.state.submittedMsg,n=this.isRendered;if(!1===n(t,e)&&!0===n(this.props,this.state)&&(na.a.shiftFocusSafely(".feedbackFormField:not(.a11y) .feedbackFormDataEntry"),this.setState({slideUp:!0})),!1===e.submittedMsg&&!0===r&&na.a.shiftFocusSafely(".feedbackFormSubmitted p"),t.path!==a&&this.formClose(void 0,!0),t.renderFields!==this.props.renderFields){var o={};this.props.renderFields.forEach((function(t){33727647!==t.id&&t.required&&(o[t.id]=!1)})),this.setState({inputErrorMessage:o})}}},{key:"componentWillUnmount",value:function(){this.formClose(void 0,!0)}},{key:"render",value:function(){var t=this,e=this.props,a=e.renderFields,r=e.formData,n=e.pageTypeClass,o=this.state,i=o.submittedMsg,s=o.inputErrorMessage,c=o.slideUp,l=this.formClose,u=this.formSubmit;return(0,this.isRendered)(this.props,this.state)?b.a.createElement("div",{className:"feedbackForm  ".concat(n," ").concat(c&&"slideUp"),role:"dialog","aria-labelledby":"feedbackFormHeader",onKeyDown:function(t){"Escape"===t.key&&l(t)}},b.a.createElement("h2",{id:"feedbackFormHeader",className:"feedbackFormHeader"},r.header,!1===i&&b.a.createElement("button",{className:"feedbackFormClose","aria-label":"Close form without submitting.",onClick:l,onKeyDown:function(t){"Tab"===t.key&&!0===t.shiftKey&&(t.preventDefault(),na.a.shiftFocusSafely(".feedbackFormSubmit"))}},b.a.createElement(et.a,{type:"close"}))),!1===i?b.a.createElement("form",null,a.map((function(e){var a=e.id in s&&s[e.id];return b.a.createElement(b.a.Fragment,{key:String(e.id)},b.a.createElement("label",{key:"label"+e.id,htmlFor:"field_"+e.id,id:"feedbackFormLabel"+e.id,className:e.ariaHidden?"a11y":null,"aria-hidden":e.ariaHidden?"true":null,tabIndex:e.ariaHidden?"-1":null},e.labelText),b.a.createElement("div",{className:"feedbackFormField ".concat(e.ariaHidden?"a11y":""),"aria-hidden":e.ariaHidden?"true":null,tabIndex:e.ariaHidden?"-1":null},b.a.createElement("input",{key:"input"+e.id,id:"field_"+e.id,type:"text",className:"feedbackFormDataEntry".concat("  ",a?"feedbackFormInputError":""," "),"aria-hidden":e.ariaHidden?"true":null,tabIndex:e.ariaHidden?"-1":null,"aria-labelledby":a?"feedbackFormInputErrorMsg"+e.id:null,onKeyDown:function(t){"Escape"===t.key&&l(t)},onChange:function(a){t.onChangeHandler(a,e)}}),a&&b.a.createElement(et.a,{type:"exclamation"})),a&&b.a.createElement("p",{id:"feedbackFormInputErrorMsg"+e.id,className:"feedbackFormInputErrorMsg"},b.a.createElement("span",{className:"a11y"},"Error:"," "),"empty"===a?e.emptyInputText:e.invalidInputText))})),b.a.createElement("button",{className:"feedbackFormBtn1  feedbackFormSubmit",onClick:u,onKeyDown:function(t){"Escape"===t.key&&l(t),"Tab"===t.key&&!1===t.shiftKey&&(t.preventDefault(),na.a.shiftFocusSafely(".feedbackFormClose"))}},"Submit")):b.a.createElement("div",{className:"feedbackFormSubmitted"},b.a.createElement("p",{tabIndex:-1},"Thank you for your feedback."),b.a.createElement("button",{className:"feedbackFormSubmittedClose feedbackFormBtn1","aria-label":"Close and return to page.",onClick:l,onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),na.a.shiftFocusSafely(".feedbackFormSubmitted"))}},"Close"))):null}}]),r}(b.a.Component);fr.propTypes={},fr.defaultProps={department:"",pageTitle:"",pageTypeClass:"",path:"",polopolyId:"",referringButtonId:"",formData:null,renderFields:[]};var mr={updateZendeskForm:Ya};fr.displayName="FeedbackForm";var wr=Object(g.connect)((function(t){var e=t.feedback,a=e.formName,r=e.referringButtonId,n=null,o=[];or[a]&&(o=function(t){var e=t.formSpecificFields.map((function(t){return ur[t]}));return!0===t.description.display&&e.push(sr),!0===t.subject.display&&e.unshift(cr),e.unshift(ur[33727647]),e}(n=or[a]));var i=t.app.path,s=t.app.pageType,c=t.app.title,l="",u="";return t.detail&&t.detail.json&&Array.isArray(t.detail.json.departments)&&(u=t.detail.json.departments.map((function(t){return t.name})).join("-")),t.app.contentId&&(l=t.app.contentId),s&&(s=s[0].toUpperCase()+s.slice(1)),{formData:n,referringButtonId:r,renderFields:o,path:i,pageTypeClass:"feedbackForm"+s,pageTitle:c,department:u,polopolyId:l}}),mr)(fr),yr=a(307),br=a(777),gr=a(301),vr=a(773),kr=a(135),Nr=[300,460,620],Er=["258px"];function Cr(t){var e=t.json&&t.json.bio?t.json.bio:null;if(e&&e.name){if(t.authorProfilePage)return b.a.createElement("div",{className:"authorprofile"},b.a.createElement("div",{className:"authorprofile-container"},Sr(t),b.a.createElement("div",{className:"authorprofile-name-container"},b.a.createElement("p",{className:"authorprofile-name"},e.name),b.a.createElement("p",{className:"authorprofile-title"},e.title),b.a.createElement("p",{className:"authorprofile-biography"},e.biography),Rr(t))));if(e.biography){var a=e.url?b.a.createElement(ae.a,{url:e.url},e.name):b.a.createElement("p",{className:"authorprofile-name"},e.name);return b.a.createElement("div",{className:"authorprofile"},b.a.createElement(ua.a.H2,null,t.heading),b.a.createElement("div",{className:"authorprofile-container"},Sr(t),b.a.createElement("div",{className:"authorprofile-name-container"},a,b.a.createElement("p",{className:"authorprofile-title"},e.title))),b.a.createElement("p",{className:"authorprofile-biography"},e.biography),Rr(t))}}return null}function Sr(t){var e=t.json&&t.json.bio?t.json.bio.photo:null;if(e&&0!==Object.keys(e).length&&e.constructor===Object){var a=Object(kr.a)(e.derivatives.square_620.fileurl,Nr,"square"),r=er()(a,1)[0];return b.a.createElement("div",{className:"authorprofile-image-container"},b.a.createElement(vr.a,{url:e.derivatives.square_620.fileurl,srcSet:r,sizes:Er,type:"author-image",aspectRatio:"100"}))}}function Rr(t){var e=function(t){var e=t.json&&t.json.bio?t.json.bio.authorlinks:null,a=[];if(e&&"object"===i()(e)&&e.length>0)return e.map((function(t){var e=t.url;e.trim()&&t.title.match(/\s*More\s*by\s*this\s*author\s*/gi)&&(e=Object(ze.c)(t.url)),"link"===t.type&&a.push(b.a.createElement("li",{key:T()(),className:"authorprofile-linkitem"},b.a.createElement(ae.a,{url:e,external:!0,className:"authorprofile-item"},t.title)))})),a}(t);return b.a.createElement("ul",{className:"authorprofile-links",key:T()()},e)}Cr.propTypes={json:k.a.object.isRequired,heading:k.a.string,authorProfilePage:k.a.bool},Cr.defaultProps={json:{},heading:"About the Author",authorProfilePage:!1};var Pr=Cr,Tr=a(297),Dr=a(787),xr=a(54),Ir=a(790),Br=a(781);function Lr(t){var e=t.pageData.short.authorProfile,a=Object(me.j)(Object(Ze.fromJS)(t.pageData.short.authorStories)),r={baseSection:t.pageData.baseSection,subSection:t.pageData.subSection,path:t.pageData.path,content:a,hasFeature:!1,customDensity:Ir.a,showRegion:!1,showDisplaySelector:!1,isShow:!1,viewport:t.pageData.viewport,showNotifications:!1,listHeading:"Latest from ".concat(e.bio.name),className:"showContent",hasSidebar:!1,loadMore:!1},n=E()("authorProfilePage","pageContentWrap",t.pageData.viewport),o=E()("contentArea","show");return b.a.createElement("div",{className:n},b.a.createElement("div",{className:"contentAreaWrap showContent"},b.a.createElement("div",{className:o},b.a.createElement(Pr,{json:e,authorProfilePage:!0}),b.a.createElement(Br.a,r)),b.a.createElement("div",{className:"sidebar"},b.a.createElement(we.a,{type:"bigbox",responsive:!0,hierarchy:t.pageData.ad_hierarchy,targeting:{plc:"right"}}))))}Lr.propTypes={pageData:k.a.object.isRequired},Lr.defaultProps={pageData:{baseSection:"",subSection:"",path:"",viewport:"",ad_hierarchy:"",short:{authorProfile:null,authorStories:null}}};var Fr=Lr,Ar=function(t,e){var a=new IntersectionObserver((function(r){r.forEach((function(r){r.isIntersecting&&(a.unobserve(t),e())}))}));a.observe(t);var r=function(){a.unobserve(t),r=function(){}};return r};function Or(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var jr=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Or()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={display:!1},e.release=function(){},e.display=e.display.bind(Jt()(e)),e.setRef=e.setRef.bind(Jt()(e)),e}return u()(r,[{key:"display",value:function(){this.setState({display:!0},this.props.callback)}},{key:"setRef",value:function(t){this.release(),t&&(this.state.display||("IntersectionObserver"in window?this.release=Ar(t,this.display):this.display()))}},{key:"componentWillUnmount",value:function(){this.release()}},{key:"render",value:function(){return this.state.display?this.props.children?this.props.children:null:b.a.createElement("div",{ref:this.setRef,className:"lazy-load"})}}]),r}(y.PureComponent),Hr=a(56),Mr=a(71);function _r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ur=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(_r()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return r}(a.n(Mr)()(Error)),qr=new Ur("Failed to trackEvent READ"),zr=new Ur("Failed to turn on ReadJS"),Wr=new Ur("Failed to turn off ReadJS"),Vr={cms:"polopoly"},Gr={el:".story",spa:!0,strict:!1,thresholds:{domNode:100,domPolling:100,maxTimeInView:20,minTimeInView:3,readingPoint:400,scrollDepth:30,viewport:15},activity:{scrollDepth:30,increment:100,averageReadSpeed:5},debug:{overlay:!1,console:!1},timeInterval:1.5},Yr=function(t,e){return window.readJSConfig=Object.assign({cb:function(){!function(t){t=Object.assign({},Vr,t);try{window.CBC.APP.SC.EventTracker.trackEvent("READ",{content:t})}catch(e){Hr.a.send(qr)}}(t),"function"===typeof e&&e()}},Gr),a.e(51).then(a.t.bind(null,836,7)).then((function(){if(!window.readJS.turnOn())throw zr}))};function $r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Jr=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if($r()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"componentDidMount",value:function(){var t,e,a,r,n;Yr((t=this.props.url,e=this.props.type,a=this.props.id,r=this.props.headline,n=this.props.pubdate,{url:t,type:e,id:a,title:r,pubdate:n}),this.props.onRead).catch((function(t){return Hr.a.send(zr)}))}},{key:"componentWillUnmount",value:function(){!function(){try{window.readJS.turnOff()}catch(t){Hr.a.send(Wr)}}()}},{key:"render",value:function(){return this.props.children}}]),r}(y.PureComponent);a(794);function Kr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Xr=new Ze.Map({live:!0,"live blog":!0,"live chat":!0,"coming up":!0}),Zr=function(t){return String(Xr.has(t.toLowerCase()))},Qr=function(t){if("breaking"===t.toLowerCase())return String(!0)},tn=function(t){return!!t&&("sponsored content"===t.toLowerCase()?String(!0):void 0)},en=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Kr()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"render",value:function(){var t,e=0===(t=this.props.departments).size?"":"/".concat(t.map((function(t){return encodeURIComponent(t.get("name"))})).join("/")),a=this.props.departments.isEmpty()?"":this.props.departments.last().get("label");return b.a.createElement("span",{className:"detail-link-label sclt-storySectionLink"},tn(this.props.label)?b.a.createElement("span",{className:"sponsored-content"},this.props.label):null,b.a.createElement(ae.a,{url:e,external:!1},a),function(t,e){return!e||tn(e)||t.toLowerCase()===e.toLowerCase()?null:b.a.createElement("span",null,b.a.createElement("span",null,"\xb7"),b.a.createElement("span",{"data-live":Zr(e),"data-breaking":Qr(e)},e))}(a,this.props.label))}}]),r}(b.a.PureComponent),an=a(778),rn=a(792),nn=U.c("Client.contentApi.contentList.tagged"),on=function(t){var e=Object.keys(nn).find((function(e){return t.find((function(t){return t.get("name").includes(e)}))}));return{slug:nn[e],tag:e}},sn=a(142),cn=a(282),ln=a(83),un=a(105);function pn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var hn=Object(Ze.List)(),dn=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(pn()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"fetch",value:function(){try{var t=on(this.props.subject),e=t.slug,a=t.tag;e&&a&&this.props.dispatch(Object(ln.b)(e,r.SECTION_IDENTIFIER,4))}catch(n){q.a.error("TaggedStories: Failed to fetch_sectional_content_identifier with error: ".concat(n))}}},{key:"componentDidMount",value:function(){this.fetch()}},{key:"componentDidUpdate",value:function(t){this.props.subject&&!this.props.subject.equals(t.subject)&&this.fetch()}},{key:"render",value:function(){return!this.props.tag||this.props.contentList.isEmpty()?null:b.a.createElement("div",{className:r.SECTION_IDENTIFIER},b.a.createElement(ua.a.H2,null,this.props.tag),b.a.createElement(sn.a,{items:this.props.contentList,displayPolicy:new cn.a,trackingSection:r.SECTION_IDENTIFIER,loadMore:!1,displayType:un.a.DISPLAY_FOUR_RIGHT_BORDER,contentListClasses:"hideContentBottom"}))}}]),r}(y.PureComponent);H()(dn,"defaultProps",{subject:hn,contentList:hn,tag:"",dispatch:function(){}}),H()(dn,"SECTION_IDENTIFIER","taggedStories");var fn=Object(g.connect)((function(t,e){var a="",r=hn;try{a=on(e.subject),r=t.sectionalContent[dn.SECTION_IDENTIFIER]&&t.sectionalContent[dn.SECTION_IDENTIFIER].sectionList||hn}catch(n){q.a.error("TaggedStories: Failed to mapStateToProps with error: ".concat(n))}return{contentList:r,tag:a.tag}}))(dn),mn=a(234),wn=a(104),yn=a(189),bn=a(285),gn=a(783),vn=a(196),kn=a(785),Nn=a(126);function En(t){var e=b.a.createElement("span",{className:"sponsorAboutLogo"},b.a.createElement("img",{src:t.logo,alt:t.name}));e=t.enableLink?b.a.createElement(ae.a,{url:t.url,external:t.external,className:"sponsorLink",target:"_blank"},e):e;var a=b.a.createElement("p",null);return!t.description||t.description.isEmpty&&t.description.isEmpty()?null:(a=b.a.createElement("p",null,t.description),b.a.createElement("div",{className:"sponsorAboutBox"},e,b.a.createElement("h2",null,"About the Advertiser"),b.a.createElement("div",null,a)))}En.propTypes={external:k.a.bool.isRequired,name:k.a.string,description:k.a.string,url:k.a.string.isRequired,logo:k.a.string.isRequired,enableLink:k.a.bool},En.defaultProps={external:!1,name:"A Sponsor",description:"",url:"",logo:"",enableLink:!1};var Cn=En;function Sn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}a.d(e,"default",(function(){return Dn})),a.d(e,"Detail",(function(){return Rn})),a.d(e,"DetailNoDate",(function(){return xn})),a.d(e,"displayName",(function(){return Tn}));var Rn=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(Sn()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).metaTagList=[],e.uniqueID="",e.hasBanner=!1,e}return u()(r,[{key:"componentDidMount",value:function(){S.a.initPageLoad(this.props.baseSection),this.props.match.params.contentId!==this.props.contentId&&this.props.fetchData(this.props.match.url,this.props.match.params),this.props.meta&&this.props.meta.get("vf:unique_id")&&da.a.reset()}},{key:"componentDidUpdate",value:function(t){S.a.initPageLoad(this.props.baseSection),Object(bn.c)(t.match.params,this.props.match.params)&&this.props.fetchData(this.props.match.url,this.props.match.params);var e=t.meta&&t.meta.get("vf:unique_id"),a=this.props.meta&&this.props.meta.get("vf:unique_id");a&&e!==a&&da.a.reset()}},{key:"image",value:function(){var t=this.props.image;return t.isEmpty()?null:b.a.createElement(O.a,t.toJS())}},{key:"gallery",value:function(){var t=this.props.gallery;return t.isEmpty()?null:b.a.createElement(Rt,{enableThumbnails:!1,leadmedia:t.leadmedia,photogalleryID:t.id})}},{key:"video",value:function(){var t=this.props.media,e="media"===this.props.short.type?this.commentCount():null;return t.isEmpty()?null:b.a.createElement("span",null,b.a.createElement(A,t.toJS()),e)}},{key:"media",value:function(){try{var t=this.video()||this.gallery()||this.image();return t||null}catch(e){q.a.error("Detail - Failed to embed media in ".concat(this.props.url," with error: ").concat(e))}return null}},{key:"audioInfo",value:function(){try{var t=this.props.audio;if(!t.isEmpty())return t=Object.assign({},t.toJS(),{pageType:this.props.short.type}),b.a.createElement(la,t)}catch(e){q.a.error("Detail - Failed to embed AudioInfo in ".concat(this.props.url," with error: ").concat(e))}}},{key:"commentCount",value:function(){if(this.props.short.displayComments)return b.a.createElement(oa,{url:this.props.short.url,storyId:this.props.short.id})}},{key:"storyHighlight",value:function(){var t=this.props.short.highlights;if(t&&t.highlight&&t.highlight.length>0)return b.a.createElement(ka,{list:t.highlight})}},{key:"getRelatedSegments",value:function(){var t=void 0!==this.props.short.segments&&this.props.short.segments.length?this.props.short.segments:null;if(t)return b.a.createElement(Ma,{intlinks:t,eplinks:this.relatedEpisode(),heading:"More from this episode"})}},{key:"relatedEpisode",value:function(){if("segment"===this.props.short.type){var t=this.props.short.episode;if(t){var e=Object.assign({},t);return e.title="FULL EPISODE: "+e.title,[e]}}}},{key:"getRelatedExternalLinks",value:function(){var t=void 0!==this.props.short.extlinks&&this.props.short.extlinks.length?this.props.short.extlinks:null;if(t)return b.a.createElement(Ma,{extlinks:t,heading:"External Links"})}},{key:"getAuthorProfile",value:function(){var t=this.props.short.authorProfile;if("object"===i()(t)&&"bioandphoto"===t.authorbio)return b.a.createElement(Pr,{json:t})}},{key:"getBigbox",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return b.a.createElement(we.a,{type:"bigbox-fixed",targeting:{type:"ocelot",contentId:t,rmtype:"bigboxfixed",subject:this.props.short.concatSubjects(),plc:e},responsive:!0,lazy:a,hierarchy:this.props.ad_hierarchy,exclusions:this.props.short.adExclusions})}},{key:"getBody",value:function(){var t,e,a=this.props.short,r=a,n={pageType:this.props.pageType,pagePath:this.props.path,pageSection:this.props.baseSection,contentId:this.props.contentId,ad_hierarchy:this.props.ad_hierarchy,exclusions:this.props.short.adExclusions,targeting:{subject:this.props.short.concatSubjects()}};return t=b.a.createElement(Ae,{body:r.body,adProps:n,adIndexArray:"undefined"!==typeof window&&window.innerWidth<=1330?Tr.a:null}),b.a.createElement(Jr,{url:a.url,type:a.type,id:a.id,headline:a.headline,pubdate:a.publishedAt,onRead:e},t)}},{key:"story",value:function(){var t=this.props.short;return Tr.c.includes(t.type)?b.a.createElement("div",{className:"storyWrapper"},this.media(),this.commentCount(),this.audioInfo(),this.storyHighlight(),this.getBody()):null}},{key:"getNewsletterWidget",value:function(){if(this.props.short.newsletters&&"false"!==this.props.short.newsletters)return b.a.createElement(ga.a,{promotenewsletter:this.props.short.newsletters})}},{key:"renderAuthorProfilePage",value:function(){return b.a.createElement(Fr,{pageData:this.props})}},{key:"blankPage",value:function(){return b.a.createElement("div",null,b.a.createElement("span",null,"This is a blank page"))}},{key:"getSharing",value:function(){if(!this.props.short.isPreview&&!this.props.fixed.isWebView)return b.a.createElement(yr.a,{viewport:this.props.viewport,path:this.props.meta.canonical,key:this.props.short.id})}},{key:"getTrendingList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSidebar:!1},e=null;return!this.props.short.isPreview&&Za.a[this.props.baseSection]?(e=t.isSidebar?b.a.createElement(R.c,{section:this.props.baseSection}):b.a.createElement(R.a,{section:this.props.baseSection}),b.a.createElement(jr,null,e)):e}},{key:"isSponsoredContent",value:function(){return"sponsoredcontent"===this.props.short.type}},{key:"getSectionSponsors",value:function(){var t=this.props.rightrail&&Object(mn.c)(this.props.rightrail.widgets,wn.d,this.props.section);if(t&&!this.isSponsoredContent()){var e=[];return t.map((function(t,a){e.push(b.a.createElement(gr.a,{key:a,sponsorContent:t}))})),e}}},{key:"getRelatedLinks",value:function(){if(this.props.short.intlinks.length>0){var t={intlinks:this.props.short.intlinks};return b.a.createElement(Ma,t)}}},{key:"getSponsorBio",value:function(){if(this.props.short.sponsorBio){var t={external:!0,name:this.props.short.sponsorBio.name,url:this.props.short.sponsorBio.link,label:Object(xr.a)(this.props.short.sponsorBio.label),logo:this.props.short.sponsorBio.logo&&this.props.short.sponsorBio.logo.derivatives.original_300.fileurl,enableLink:Boolean(this.props.short.sponsorBio.link)};return b.a.createElement(ra.a,t)}}},{key:"getSponsorAbout",value:function(){if(this.props.short.sponsorBio){var t={external:!0,name:this.props.short.sponsorBio.name,description:this.props.short.sponsorBio.description,url:this.props.short.sponsorBio.link,logo:this.props.short.sponsorBio.logo&&this.props.short.sponsorBio.logo.derivatives.original_620.fileurl,enableLink:Boolean(this.props.short.sponsorBio.link)};return b.a.createElement(Cn,t)}}},{key:"getByline",value:function(){var t=this.props.short,e=t.sponsorBio,a=t.byline,r=t.byline_href,n=t.updatedAt,o=t.publishedAt,i=t.publishedAtVerbal;return Object(xr.d)(e.label)?null:b.a.createElement(aa,{text:a,href:r,updatedAt:n,publishedAt:o,publishedAtVerbal:i,showOriginalPubDate:!0,author:this.props.author,authorList:this.props.short.authorList})}},{key:"getMetaLabel",value:function(){return Object(xr.c)(this.props.short.sponsorBio)?this.getSponsorBio():b.a.createElement(en,{departments:this.props.short.departments,label:this.props.short.flag})}},{key:"getCommentsAndAd",value:function(){var t=this.props.short,e=this.props.contentId;return t&&t.displayComments?b.a.createElement("div",{className:"commentsWrapper"},b.a.createElement("div",{className:"detailMainCol"},this.getComments()),b.a.createElement("div",{className:"detailSideRail"},b.a.createElement("div",{className:"stickyContainer stickyRailAd"},this.getBigbox(e,"comments",!0)))):null}},{key:"getComments",value:function(){var t=this.props.short;return b.a.createElement(ba,{url:t.url,storyId:t.id,limit:3})}},{key:"getRecommendations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSidebar:!1},e={title:"Recommended for you"};return t.isSidebar&&(e.layout="vertical"),b.a.createElement(jr,null,b.a.createElement(rn.a,e))}},{key:"getMoreStoriesFromCBC",value:function(){return b.a.createElement(jr,null,b.a.createElement(Oe.a,null))}},{key:"getDiscoveryComponents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr.b,e={trending:this.getTrendingList({isSidebar:!0}),recommendations:this.getRecommendations(),comments:this.getCommentsAndAd(),discoverMore:this.getMoreStoriesFromCBC()};if(!t||!t.length)return null;var a=[];return t.forEach((function(t){var r=e[t];r&&a.push(r)})),b.a.createElement("div",{className:"detailDiscovery"},b.a.Children.toArray(a))}},{key:"render",value:function(){var t=this.props.short,e=this.props.contentId,a=void 0!==t.source?b.a.createElement(Ua,{sourceInfo:t.source}):null,r=t.corrections.length>0?b.a.createElement(za,{json:t.corrections}):null,o=t.clarifications.length>0?b.a.createElement(Va,{json:t.clarifications}):null,i=this.props.baseSection?Za.a[this.props.baseSection]:null,s=i&&i.defaultNotifications?i.defaultNotifications:null,c={notificationList:s=new Qe.a.List(s),path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection},l=s&&s.size?b.a.createElement(br.b,c):null,u=E()("detail","detailBody",{hasBanner:this.hasBanner,hasNotification:l},this.props.abtest>0?"sclt-abtest-a-gJcfH7vrco":""),p={__html:JSON.stringify({"@context":"http://schema.org/","@type":"WebPage",speakable:{"@type":"SpeakableSpecification",cssSelector:[".detailHeadline",".detailSummary"]}})},h=Object(Dr.b)(this.props),d=Object(vn.b)(this.props);if("authorbio"===t.type)return this.renderAuthorProfilePage();var f=this.props.abtest>0?{onClick:Object(an.a)(".moreStories a, .trendingListItem a")}:{};return b.a.createElement(kn.a,{statusCode:this.props.statusCode},b.a.createElement("div",n()({className:u},f),h,b.a.createElement("div",{ref:this.props.section}),l,b.a.createElement("div",{className:"detailBodyContainer"},b.a.createElement("div",{className:"detailMainCol sclt-storycontent"},this.getMetaLabel(),b.a.createElement(He,{text:t.headline}),b.a.createElement(Me,{text:t.summary}),this.getSharing(),b.a.createElement(_e.a,{text:t.deck}),this.getByline(),!Object(xr.c)(this.props.short.sponsorBio)&&this.getSponsorBio(),this.story()||this.media(),this.getRelatedSegments(),o,r,this.getAuthorProfile(),a,b.a.createElement(Qa,{headline:t.headline,baseSection:this.props.baseSection}),this.getRelatedLinks(),this.getRelatedExternalLinks(),this.getNewsletterWidget(),this.getSectionSponsors(),this.getSponsorAbout()),b.a.createElement("div",{className:"detailSideRail"},b.a.createElement("div",{className:"stickyContainer stickyRailAd"},this.getBigbox(e,"right")),b.a.createElement("div",{className:"stickyContainer"},this.getDiscoveryComponents(Tr.d))),b.a.createElement(jr,null,b.a.createElement(fn,{subject:t.subject})),this.getDiscoveryComponents(Tr.b),b.a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:p})),b.a.createElement(wr,null),b.a.createElement(gn.a,{dtmData:d,type:Nn.b})))}}]),r}(b.a.Component);Rn.defaultProps={short:new C.g,media:new C.d,image:new C.c,gallery:new C.b,author:new ze.a,audio:new C.a,baseSection:"",section:"",dispatch:function(){},ad_hierarchy:"",meta:null,fixed:{}},Rn.propTypes={short:k.a.instanceOf(C.g),media:k.a.instanceOf(C.d),image:k.a.instanceOf(C.c),gallery:k.a.instanceOf(C.b),author:k.a.instanceOf(ze.a),audio:k.a.instanceOf(C.a),baseSection:k.a.string,section:k.a.string,dispatch:k.a.func,ad_hierarchy:k.a.string,pageType:k.a.string,path:k.a.string,meta:k.a.object,fixed:k.a.object};var Pn=function(t){return{statusCode:Object(bn.b)(t.app.statusCode,t.errors.list),short:t.detail.short,media:t.detail.media,image:t.detail.image,gallery:t.detail.gallery,author:t.detail.author,audio:t.detail.audio,baseSection:t.app.baseSection,section:t.app.section,ad_hierarchy:t.app.ad_hierarchy,contentId:t.app.contentId,pageType:t.app.pageType,path:t.app.path,meta:t.app.meta,rightrail:t.rightRail}},Tn=Rn.displayName="DETAIL",Dn=Object(g.connect)(Pn,(function(t){return{fetchData:function(e,a){return t(Object(yn.a)(e,a))}}}))(Rn),xn=Object(g.connect)((function(t){var e=Pn(t);return e.short=e.short.set("publishedAt",0),e}))(Rn);[Dn,Rn,xn].map((function(t){return t.displayName=Rn.displayName}))},776:function(t,e,a){"use strict";a.d(e,"b",(function(){return k})),a.d(e,"a",(function(){return N}));var r=a(4),n=a.n(r),o=a(8),i=a.n(o),s=a(3),c=a.n(s),l=a(6),u=a.n(l),p=a(71),h=a.n(p),d=a(56);function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var m=function(t){u()(r,t);var e,a=(e=r,function(){var t,a=c()(e);if(f()){var r=c()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return i()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return r}(h()(Error)),w=(new m("Failed to sendReadArticleGoal"),new m("Failed to send goal")),y=new m("Failed to send goal status not 200"),b=new m("Failed in selecting item goal"),g=function(t){200!==t.status&&d.a.send(y)},v=function(t){try{window.CBC.APP.AB.Testing.sendGoal(t,1,g)||d.a.send(w)}catch(e){d.a.send(w)}},k=function(){return v("api-read-comment")},N=function(t){return function(e){try{e.target.closest(t)&&v("api-selected-item")}catch(a){d.a.send(b)}}}},777:function(t,e,a){"use strict";var r=a(12),n=a.n(r),o=a(4),i=a.n(o),s=a(7),c=a.n(s),l=a(8),u=a.n(l),p=a(3),h=a.n(p),d=a(6),f=a.n(d),m=a(0),w=a.n(m),y=a(1),b=a.n(y),g=a(172),v=a(5),k=a.n(v),N=a(61),E=a(2),C=a(233),S=403747,R=114093987254,P=114093985294,T=114093987053,D=114094004454,x=a(778),I=a(127),B=a(42);function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){f()(r,t);var e,a=(e=r,function(){var t,a=h()(e);if(L()){var r=h()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return u()(this,t)});function r(){return i()(this,r),a.apply(this,arguments)}return c()(r,[{key:"componentDidMount",value:function(){this.removeWidgetEmbed(),this.initializeWidget()}},{key:"componentWillUnmount",value:function(){this.removeWidgetEmbed()}},{key:"initializeWidget",value:function(){window&&window.zEmbed||function(){var t,e,a,r,n=[],o=document.createElement("iframe");window.zEmbed=function(){n.push(arguments)},window.zE=window.zE||window.zEmbed,o.class="zendeskcbcwidget",o.id="zendeskcbcwidgetCustomID",o.src="javascript:false",o.title="",o.role="presentation",(o.frameElement||o).style.cssText="display: none",(a=(a=document.getElementsByTagName("script"))[a.length-1]).parentNode.insertBefore(o,a),r=o.contentWindow.document;try{e=r}catch(i){t=document.domain,o.src='javascript:let d=document.open();d.domain="'.concat(t,'"'),e=r}e.open()._l=function(){var e=this.createElement("script");t&&(this.domain=t),e.id="js-iframe-async",e.src="https://assets.zendesk.com/embeddable_framework/main.js",this.t=+Number(new Date),this.zendeskHost="cbchelp.zendesk.com",this.zEQueue=n,this.body.appendChild(e)},e.write('<body onload="document._l();">'),e.close()}(),window.zESettings={webWidget:{contactForm:{ticketForms:[{id:this.getSectionFormID()}]},position:{horizontal:"right",vertical:"bottom"},helpCenter:{suppress:!0}}}}},{key:"getSectionFormID",value:function(){return this.props.pageType===B.b.DETAIL&&this.props.subSection.match("canada")?T:this.props.pageType===B.b.LANDING&&this.props.subSection.match("canada")?P:this.props.baseSection.match("news")?R:"mycbc"===this.props.baseSection?D:S}},{key:"getFeedbackButton",value:function(t){var e={id:"zen-feedback-button","data-decision":t,className:"zenFeedbackButton",onClick:function(){if(window&&window.zE)try{window.zE.activate({hideOnClose:!0})}catch(t){console.log("Zendesk window.zE.activate() doesn't exist.")}}};return w.a.createElement("button",e,"Tell us what you think")}},{key:"removeWidgetEmbed",value:function(){if("undefined"!==typeof window&&(delete window.zEmbed,delete window.zE,delete window.zESettings),"undefined"!==typeof document){var t=document.getElementById("zendeskcbcwidgetCustomID"),e=document.getElementById("automaticAnswers"),a=document.getElementById("launcher"),r=document.getElementById("ipm"),n=document.getElementById("webWidget");I.a.remove(t),I.a.remove(e&&e.parentNode),I.a.remove(a&&a.parentNode),I.a.remove(r&&r.parentNode),I.a.remove(n&&n.parentNode)}}},{key:"render",value:function(){return w.a.createElement("div",{className:"zendeskWidget"},w.a.createElement(x.b,null,this.getFeedbackButton("A"),this.getFeedbackButton("B")))}}]),r}(w.a.Component);F.propTypes={pageType:b.a.string,baseSection:b.a.string,subSection:b.a.string,runGlobally:b.a.bool},F.defaultProps={pageType:"",baseSection:"",subSection:"",runGlobally:!0};var A=a(20);function O(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return j(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return j(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw n}}}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function H(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var M=function(t){f()(r,t);var e,a=(e=r,function(){var t,a=h()(e);if(H()){var r=h()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return u()(this,t)});function r(t){var e;return i()(this,r),(e=a.call(this,t)).state={visible:!0},e}return c()(r,[{key:"hideNotification",value:function(){this.setState({visible:!1});var t=this.props.dismissedNotifications?this.props.dismissedNotifications:[];t=t.push(this.props.name),this.props.dispatch(Object(N.c)(t))}},{key:"getContent",value:function(){return void 0!==this.props.children?this.props.children:(new g.a).getParsedDOM(this.props.html)}},{key:"renderDismissButton",value:function(){var t={className:"closeButton","aria-label":"close notification","aria-hidden":!this.state.visible};if(this.props.dismissable)return w.a.createElement("button",n()({},t,{onClick:this.hideNotification.bind(this)}),"X")}},{key:"renderButtonTour",value:function(){return this.props.button&&this.props.button.includes("onboarding")?Object(C.a)(this.props.path,this.props.viewport):null}},{key:"renderButtonFeedback",value:function(){if(this.props.button){var t,e=null,a=O(this.props.button);try{for(a.s();!(t=a.n()).done;){var r=t.value;if("feedback"===r||"section-feedback"===r){e=r;break}}}catch(o){a.e(o)}finally{a.f()}if(null!==e){var n={pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection,runGlobally:"feedback"===e};return w.a.createElement(F,n)}}return null}},{key:"render",value:function(){var t=k()("banner",this.props.type,{dismissed:!this.state.visible});return w.a.createElement("div",{className:t},this.getContent(),this.renderButtonFeedback(),this.renderButtonTour(),this.renderDismissButton())}}]),r}(m.PureComponent);M.propTypes={name:b.a.oneOf(["noNetwork","noContent","noRegionalContent","graphicContent","welcomeBanner","listenPromo","search","invalidContentRequest","welcomeToNewsBanner","welcomeToRadioBanner","welcomeToMusicBanner"]).isRequired,html:b.a.string,type:b.a.string,dismissable:b.a.bool,clickHandler:b.a.func,dismissedNotifications:b.a.instanceOf(E.List),button:b.a.instanceOf(E.List),path:b.a.string,viewport:b.a.string,pageType:b.a.string,baseSection:b.a.string,subSection:b.a.string},M.defaultProps={name:"welcomeBanner",html:"",type:"info",dismissable:!1,clickHandler:function(){},dismissedNotifications:null,button:null,path:"",viewport:"viewportLarge",pageType:"",baseSection:"",subSection:""};var _=Object(A.connect)()(M),U=a(281),q=[{name:"noNetwork",html:"There's no network connection. We can't fetch new stories, sorry!",type:"error",dismissable:!0},{name:"noContent",html:"Something's gone wrong. We can't load any content right now. Reloading this page might solve this problem, or please try again later.",type:"error",dismissable:!1},{name:"cachedContent",html:"We can't load the most up-to-date content right now. Please try reloading this page, or try again later.",type:"error",dismissable:!1},{name:"noRegionalContent",html:"We can't load your local news on this page right now.  Reloading this page might solve this problem.",type:"error",dismissable:!1},{name:"graphicContent",html:"This story contains scenes that some readers may find disturbing.",type:"warning",dismissable:!0},{name:"welcomeBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToNewsBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToRadioBanner",html:'<a href="https://responsive.cbc.ca/hc/en-us/sections/207478947-About-the-CBC-ca-Redesign" aria-label="Learn why this website is different" id="learnMoreLink">Learn more about the new look</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"welcomeToMusicBanner",html:'<a href="https://www.cbc.ca/listen">Listen Live to CBC Music</a>.',type:"notice",button:["onboarding","feedback"],dismissable:!1},{name:"listenPromo",html:'For full episodes, visit <a href="https://www.cbc.ca/listen/" className="showBannerLink">CBC Listen</a>.',type:"info",dismissable:!1},{name:"invalidContentRequest",html:"Sorry, we cannot find the content you have requested.  Please try selecting a different section of the site in our menu.",type:"error",dismissable:!1}],z=a(43),W=a.n(z);function V(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return G(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return G(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw n}}}}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function Y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}a.d(e,"a",(function(){return $}));var $=function(t){f()(r,t);var e,a=(e=r,function(){var t,a=h()(e);if(Y()){var r=h()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return u()(this,t)});function r(){return i()(this,r),a.apply(this,arguments)}return c()(r,[{key:"shouldComponentUpdate",value:function(t){return t.path!==this.props.path||!t.notificationList.equals(this.props.notificationList)}},{key:"getNotificationFromConfig",value:function(t){var e=Object(E.fromJS)(q),a=null;return e.map((function(e){e.get("name")===t&&(a=e)})),a}},{key:"getNotifications",value:function(){var t=[];if(this.props.notificationList){var e,a=V(this.props.notificationList);try{for(a.s();!(e=a.n()).done;){var r=e.value,o=this.getNotificationFromConfig(r),i=this.props.dismissedNotifications&&this.props.dismissedNotifications.includes(r);if(o&&!i){var s={name:o.get("name"),type:o.get("type"),dismissable:o.get("dismissable"),html:o.get("html"),dismissedNotifications:this.props.dismissedNotifications,button:o.get("button"),path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection},c=w.a.createElement(_,n()({key:W()()},s));t.push(c)}}}catch(l){a.e(l)}finally{a.f()}}return t}},{key:"render",value:function(){var t=this.props.notificationList&&this.props.notificationList.size?w.a.createElement(U.a.H2,{className:"a11y"},"Notifications"):null;return w.a.createElement("div",{className:"notificationArea"},t,this.getNotifications())}}]),r}(w.a.Component);$.propTypes={notificationList:b.a.instanceOf(E.List),dismissedNotifications:b.a.instanceOf(E.List),path:b.a.string,pageType:b.a.string,baseSection:b.a.string,subSection:b.a.string},$.defaultProps={notificationList:Object(E.List)(["welcomeBanner"]),dismissedNotifications:null,path:"",pageType:"",baseSection:"",subSection:""};e.b=Object(A.connect)((function(t){return{dismissedNotifications:t.notifications.dismissed}}))($)},778:function(t,e,a){"use strict";var r=a(12),n=a.n(r),o=a(40),i=a.n(o),s=a(4),c=a.n(s),l=a(7),u=a.n(l),p=a(8),h=a.n(p),d=a(3),f=a.n(d),m=a(6),w=a.n(m),y=a(0),b=a.n(y),g=a(56),v=a(288),k=a(18),N=a.n(k),E=a(776),C=a(2);function S(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var R=function(t){w()(r,t);var e,a=(e=r,function(){var t,a=f()(e);if(S()){var r=f()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return h()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).interval=null,e.onInterval=e.onInterval.bind(i()(e)),e}return u()(r,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.onInterval,100),this.intervalList=this.props.intervalList}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"onInterval",value:function(){var t=document.querySelector(".vf-comments[data-engage]");if(t){var e=parseInt(t.getAttribute("data-engage"));e<=0||(this.intervalList=this.intervalList.filter((function(t,a){return!(t<=e)||(Object(E.b)(),!1)})),this.intervalList.isEmpty()&&clearInterval(this.interval))}}},{key:"render",value:function(){return null}}]),r}(y.PureComponent);N()(R,"defaultProps",{intervalList:Object(C.List)([3e3])});var P=a(1),T=a.n(P);function D(t){return function(){var e,a=f()(t);if(x()){var r=f()(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return h()(this,e)}}function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}a.d(e,"b",(function(){return F})),a.d(e,"a",(function(){return E.a}));var I=function(t){window&&(window.MPULSE_ABTEST=t)},B=function(t){w()(a,t);var e=D(a);function a(t){var r;return c()(this,a),(r=e.call(this,t)).state={decision:null,agent:t.agent,getDecision:function(){},error:""},r.abort=!1,r}return u()(a,[{key:"getDecision",value:function(t){if(t){var e=this;Object(v.a)(t).then((function(a){e.abort||(e.setState({decision:a}),I("".concat(t,"-").concat(a)))})).catch((function(t){e.abort||(g.a.send(t),e.setState({error:t}))}))}}},{key:"componentDidMount",value:function(){this.setState({getDecision:this.getDecision.bind(this)}),this.getDecision(this.state.agent)}},{key:"componentWillUnmount",value:function(){this.abort=!0,I("")}},{key:"render",value:function(){var t=this.props,e=t.decisionMap;if(this.state.agent&&this.state.decision){var a=e.get(this.state.decision);if(a)return b.a.createElement("span",{className:"sclt-abtest-".concat(this.state.agent)},a)}if(this.state.error){var r=e.get(t.fallback);if(r)return r}return null}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.agent!==e.agent?(e.getDecision(t.agent),{agent:t.agent,error:"",decision:null}):null}}]),a}(b.a.Component);B.propTypes={agent:T.a.string,decisionMap:T.a.instanceOf(C.Map),fallback:T.a.string},B.defaultProps={agent:"",decisionMap:new C.Map,fallback:""};var L=function(t){var e=t.abtest,a=t.children;return e>0?a[e-1]:a[0]||null},F=function(t){return b.a.createElement((e=L,a=t.agent,r=t.check,function(t){w()(s,t);var o=D(s);function s(t){var e;return c()(this,s),(e=o.call(this,t)).abort=!1,e.state={decision:0},e.decision=null,e.onDecisionError=e.onDecisionError.bind(i()(e)),e.onDecision=e.onDecision.bind(i()(e)),e}return u()(s,[{key:"onDecision",value:function(t){if(!this.abort&&"string"===typeof t){var e=Math.max(0,t.charCodeAt(0)-65)+1;this.setState({decision:e}),I("".concat(a,"-").concat(t)),this.decision=null}}},{key:"onDecisionError",value:function(t){this.abort||(g.a.send(t),this.decision=null)}},{key:"componentDidMount",value:function(){this.createDecision()}},{key:"componentDidUpdate",value:function(t,e){this.createDecision()}},{key:"createDecision",value:function(){0===this.state.decision&&(I(""),r&&!r(this.props)||this.decision||(this.decision=Object(v.a)(a).then(this.onDecision).catch(this.onDecisionError)))}},{key:"componentWillUnmount",value:function(){this.abort=!0,I("")}},{key:"render",value:function(){return b.a.createElement(e,n()({},this.props,{abtest:this.state.decision}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return e.decision>0&&r&&!r(t)?{decision:0}:null}}]),s}(b.a.PureComponent)),t);var e,a,r}},779:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(7),i=a.n(o),s=a(8),c=a.n(s),l=a(3),u=a.n(l),p=a(6),h=a.n(p),d=a(15),f=a(92),m=a(2),w=a.n(m);function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(y()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return i()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=w.a.fromJS({0:d.a.TYPE_GRAPHICAL});return t.map((function(t){return a.get("".concat(e),d.a.TYPE_GRAPHICAL)}))}}]),r}(f.a);e.a=b},780:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(7),i=a.n(o),s=a(8),c=a.n(s),l=a(3),u=a.n(l),p=a(6),h=a.n(p),d=a(15),f=a(92),m=a(2),w=a.n(m);function y(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var b=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(y()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return i()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=w.a.fromJS({0:d.a.TYPE_MEDIA});return t.map((function(t){return a.get("".concat(e),d.a.TYPE_MEDIA)}))}}]),r}(f.a);e.a=b},781:function(t,e,a){"use strict";var r=a(34),n=a.n(r),o=a(12),i=a.n(o),s=a(4),c=a.n(s),l=a(7),u=a.n(l),p=a(40),h=a.n(p),d=a(8),f=a.n(d),m=a(3),w=a.n(m),y=a(6),b=a.n(y),g=a(0),v=a.n(g),k=a(1),N=a.n(k),E=a(142),C=a(2),S=a.n(C),R=a(99),P=a(281),T=a(15),D=a(92);function x(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var I=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(x()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this)).viewport=t.viewport,e.hasTopStories=t.hasTopStories,e.richPolicy=!!t.richPolicy&&t.richPolicy,e.contentPackage=t.contentPackage?t.contentPackage:null,e}return u()(r,[{key:"groupBy",value:function(t,e){return e}},{key:"transform",value:function(t,e){return this._transformDesktop(t,e)}},{key:"_transformDesktop",value:function(t,e){var a=this,r=[],n=3,o=this.richPolicy?1:4,i=this.hasTopStories?o:0;return"viewportSmall"===this.viewport&&(n=1,i=0),t.map((function(){var t=T.a.TYPE_DEFAULT;t=a.hasTopStories&&0===e?t=a.richPolicy&&!a.contentPackage?T.a.TYPE_FEATURED:T.a.TYPE_FULL_BLEED:e>=i&&e<i+n?T.a.TYPE_FULL_BLEED:a.richPolicy?T.a.TYPE_REGULAR:T.a.TYPE_DEFAULT,r.push(t)})),S.a.fromJS(r)}}]),r}(D.a),B=a(283);function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var F=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(L()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this)).contentPackage=t.contentPackage,e}return u()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=this,r=S.a.fromJS({0:this.contentPackage?T.a.TYPE_LISTING_HORIZONTAL:T.a.TYPE_FEATURED,1:T.a.TYPE_LISTING_HORIZONTAL});return t.map((function(t){return r.get("".concat(e),a.remainingType)}))}}]),r}(D.a);function A(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var O=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(A()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=S.a.fromJS({0:T.a.TYPE_TEXT});return t.map((function(t){return a.get("".concat(e),T.a.TYPE_TEXT)}))}}]),r}(D.a),j=a(284),H=a(282);function M(t){if(!t.items)return null;var e="viewportSmall"===t.viewport,a=t.items.slice(0,5),r=t.items.slice(5,B.b),n=e?new j.a({contentPackage:t.contentPackage}):new F(t),o=e?new H.a:new O,s={baseSection:t.baseSection,subSection:t.subSection,viewport:t.viewport,loadMore:!1,trackingSection:"featuredNewsContentList"};return v.a.createElement("div",{className:"featuredNews sclt-featuredTopStoriesDense"},v.a.createElement("div",{className:"featuredNewsContentPackage"},t.contentPackage),v.a.createElement("div",{className:"featuredTopStories"},v.a.createElement("div",{className:"primaryTopStories"},v.a.createElement(E.a,i()({items:a,displayPolicy:n},s))),t.mobileAd,v.a.createElement("div",{className:"secondaryTopStories"},v.a.createElement(E.a,i()({items:r,displayPolicy:o},s)))))}M.propTypes={items:N.a.instanceOf(S.a.List).isRequired,baseSection:N.a.string,subSection:N.a.string,viewport:N.a.string,path:N.a.string,hasNativeAd:N.a.bool,cardClickHandler:N.a.func,mobileAd:N.a.object,contentPackage:N.a.object},M.defaultProps={items:null,baseSection:"news",subSection:"",viewport:"viewportLarge",path:"",hasNativeAd:!1,cardClickHandler:function(){},mobileAd:null,contentPackage:null};var _=a(10),U=_.b("Client.contentApi.contentList.numFeaturedHighlights"),q=(_.b("Client.contentApi.contentList.numFeaturedTopStories"),a(17)),z=a(26);function W(t){var e="viewportSmall"===t.viewport,a={adHierarchy:t.adHierarchy,pagePath:t.path,pageType:t.pageType,testAdHierarchy:t.testAdHierarchy,viewport:t.viewport,hasNativeAd:t.hasNativeAd},r=!0===e&&"homepage"!==t.baseSection?v.a.createElement(R.a,{type:"bigbox",hierarchy:a.adHierarchy,targeting:{plc:"feed"}}):null;if(t.isDenseFeatured)return v.a.createElement("section",{className:"featuredArea sclt-featuredarea"},v.a.createElement(P.a.H2,{className:"a11y"},"Featured Content"),v.a.createElement(M,i()({mobileAd:r},t)));var n={baseSection:t.baseSection,subSection:t.subSection,viewport:t.viewport,hasTopStories:t.hasTopStories,contentPackage:t.contentPackage},o=void 0!==t.displayPolicy?t.displayPolicy:new I(n);o.richPolicy&&e&&(o=new j.a({contentPackage:t.contentPackage}));var s={baseSection:t.baseSection,subSection:t.subSection,trackingSection:"featured"},c=o.format(t.items,s,t.lazyLoad,a,t.cardClickHandler),l=t.hasTopStories?Object(q.f)(t.baseSection):0;if(z.b[t.path]){var u=z.b[t.path].customNumTopStories;l=u||l}var p=function(t,e,a){if(t&&t.size&&t.size<=e)return null;if(a)return e;return 0}(c,l,t.hasHighlightedStories),h=function(t,e,a,r){if(null===a)return null;if(!r)return e;if(t&&t.size&&t.size<=a+U)return null;return a+U}(c,l,p,t.hasHighlightedStories);return v.a.createElement("div",null,v.a.createElement("section",{className:"featuredArea sclt-featuredarea"},v.a.createElement(P.a.H2,{className:"a11y"},"Featured Content"),t.contentPackage,function(t,e,a){if(!t||!e)return null;var r=V(t,0,a);if(!r)return null;var n=r.shift(),o=r.length?v.a.createElement("div",{className:"secondaryTopStories"},r):null;return v.a.createElement("div",{className:"featuredTopStories sclt-featuredTopStories"},v.a.createElement("div",{className:"primaryTopStories"},n),o)}(c,t.hasTopStories,l),function(t,e,a){if(!t||!a)return null;return v.a.createElement("div",{className:"featuredHighlights sclt-featuredHighlights"},V(t,e,e+U))}(c,p,t.hasHighlightedStories),r,V(c,h,c.size)))}function V(t,e,a){if(t&&t.size&&null!==e&&t.size>e){var r=t.slice(e,a);return r?r.toArray():r}return null}W.propTypes={items:N.a.instanceOf(S.a.List).isRequired,baseSection:N.a.string.isRequired,subSection:N.a.string.isRequired,viewport:N.a.string,path:N.a.string,hasTopStories:N.a.bool,hasHighlightedStories:N.a.bool,hasNativeAd:N.a.bool,cardClickHandler:N.a.func,contentPackage:N.a.object},W.defaultProps={items:null,baseSection:"news",subSection:"",viewport:"viewportLarge",path:"",hasTopStories:!1,hasHighlightedStories:!0,hasNativeAd:!1,cardClickHandler:function(){},contentPackage:null};var G=W,Y=a(287),$=a(5),J=a.n($);function K(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var X=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(K()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={showRadios:!1},e.onShowRadios=e.onShowRadios.bind(h()(e)),e}return u()(r,[{key:"onShowRadios",value:function(){this.setState({showRadios:!this.state.showRadios})}},{key:"render",value:function(){var t=J()("radioList","sclt-viewingOptions",{open:this.state.showRadios});return v.a.createElement("div",{className:t},v.a.createElement("button",{id:"displayMode",onClick:this.onShowRadios},"Viewing Options"),v.a.createElement("div",{className:"filters",role:"radiogroup","aria-labelledby":"displayMode"},this.props.children))}}]),r}(g.PureComponent);X.propTypes={},X.defaultProps={};var Z=X;function Q(t){return v.a.createElement("div",{className:"radioListItem"},v.a.createElement("input",{"aria-label":t.value,type:"radio",name:t.groupName,id:t.id,value:t.value,onClick:t.onSelected}),v.a.createElement("label",{htmlFor:t.id},t.label))}Q.propTypes={id:N.a.string,groupName:N.a.string,value:N.a.string,label:N.a.string,onSelected:N.a.func},Q.defaultProps={};var tt=Q,et=a(777);function at(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var rt=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(at()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"groupBy",value:function(t,e){return e%6}},{key:"transform",value:function(t,e){var a=S.a.fromJS({0:T.a.TYPE_FULL_BLEED,1:T.a.TYPE_BREAKING,2:T.a.TYPE_LIVE,3:T.a.TYPE_GRAPHICAL,4:T.a.TYPE_DEFAULT,5:T.a.TYPE_TEXT,6:T.a.TYPE_MEDIA});return t.map((function(t){return a.get("".concat(e),T.a.TYPE_DEFAULT)}))}}]),r}(D.a),nt=a(779);function ot(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var it=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(ot()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=S.a.fromJS({0:T.a.TYPE_DEFAULT});return t.map((function(t){return a.get("".concat(e),T.a.TYPE_DEFAULT)}))}}]),r}(D.a),st=a(289);function ct(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var lt=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(ct()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>2&&(a=1),a}},{key:"transform",value:function(t,e){var a=S.a.fromJS({0:T.a.TYPE_LISTING,1:T.a.TYPE_LISTING_HORIZONTAL});return t.map((function(t){return a.get("".concat(e),T.a.TYPE_DEFAULT)}))}}]),r}(D.a);function ut(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var pt=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(ut()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this)).contentPackage=t.contentPackage?t.contentPackage:null,e}return u()(r,[{key:"groupBy",value:function(t,e){var a=0;return e>0&&(a=1),a}},{key:"transform",value:function(t,e){var a=this,r=S.a.fromJS({0:this.contentPackage?T.a.TYPE_FULL_BLEED:T.a.TYPE_FEATURED,1:T.a.TYPE_REGULAR});return t.map((function(t){return r.get("".concat(e),a.remainingType)}))}}]),r}(D.a);function ht(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var dt=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(ht()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(){return c()(this,r),a.apply(this,arguments)}return u()(r,[{key:"groupBy",value:function(t){return 0}},{key:"transform",value:function(t,e){var a=S.a.fromJS({0:T.a.TYPE_LISTING_HORIZONTAL});return t.map((function(t){return a.get("".concat(e),T.a.TYPE_LISTING_HORIZONTAL)}))}}]),r}(D.a),ft=a(50);var mt=a(20),wt=a(782),yt=a(780),bt=a(43),gt=a.n(bt),vt=a(154),kt=a(44),Nt=a(13),Et={title:"Follow CBC Life",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbclife"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbclife"},{socialNetwork:"pinterest",url:"https://www.pinterest.com/cbclife"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbclife"},{socialNetwork:"twitter",url:"https://www.twitter.com/CBC_life"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbclife"}]},Ct={title:"Follow CBC Docs",links:[{socialNetwork:"instagram",url:"https://www.instagram.com/cbcdocs/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcdocs"},{socialNetwork:"twitter",url:"https://twitter.com/cbcdocs"},{socialNetwork:"youtube",url:"https://www.youtube.com/c/CBCDocs"}]},St={title:"Follow The Great Canadian Baking Show",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/GreatCanadianBakingShowCBC"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbakingshow"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbakingshow"}]},Rt={title:"Follow Still Standing",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/stillstandingtv/"},{socialNetwork:"twitter",url:"https://twitter.com/stillstandingtv"},{socialNetwork:"instagram",url:"https://instagram.com/stillstandingtv"}]},Pt={2017:{title:"Follow Canada 2017",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccanada2017"},{socialNetwork:"twitter",url:"https://twitter.com/cbc2017"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc2017"}]},"2017/wearecanada":{title:"Follow Canada 2017",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccanada2017"},{socialNetwork:"twitter",url:"https://twitter.com/cbc2017"}]},archives:{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/arts":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/history":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},"archives/sports":{title:"Follow Archives",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbc_archives"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC-Digital-Archives-18389907054/"}]},arts:{title:"Follow CBC Arts",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcarts"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcarts"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcarts"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbcarts"}]},books:{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/canadareads":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/canadawrites":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/literaryprizes":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},"books/readinglists":{title:"Follow CBC Books",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbooks/"}]},comedy:{title:"Follow CBC Comedy",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccomedy"},{socialNetwork:"twitter",url:"https://twitter.com/CBCComedy"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCPunchline"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccomedy"}]},documentaries:Ct,"documentaries/brief-but-spectacular":Ct,homepage:{title:"Follow CBC",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbc"},{socialNetwork:"twitter",url:"https://twitter.com/CBC"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCtv"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc"},{socialNetwork:"newsletter",url:"https://subscriptions.cbc.ca/forms/cbcnewsletter"}]},life:Et,"life/greatcanadianbakingshow":St,"life/greatcanadianbakingshow/bakers":St,"life/greatcanadianbakingshow/episodes":St,"life/greatcanadianbakingshow/recipes":St,"life/greatcanadianbakingshow/about":St,"life/jamieoliver":Et,"life/jamieoliver/recipes":Et,"life/jamieoliver/watch":Et,"life/backintimeforwinter":{title:"Back in Time for Winter",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBClife/"},{socialNetwork:"twitter",url:"https://twitter.com/CBC_life"},{socialNetwork:"instagram",url:"https://www.instagram.com/backintimecbc/"}]},"life/thegoods":{title:"Follow The Goods",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbclife"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthegoods"},{socialNetwork:"pinterest",url:"https://www.pinterest.com/cbclife"},{socialNetwork:"youtube",url:"https://www.youtube.com/cbclife"},{socialNetwork:"twitter",url:"https://twitter.com/cbcthegoods"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbclife"}]},"life/fridgewars":{title:"Fridge Wars",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/fridgewarscbc"},{socialNetwork:"twitter",url:"https://twitter.com/fridgewars"},{socialNetwork:"instagram",url:"https://www.instagram.com/fridgewars/"}]},news:{title:"Follow CBC News",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnews"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNews"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/cbcnews"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnews"}]},"news/canada/british-columbia":{title:"Follow CBC British Columbia",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCVancouver"},{socialNetwork:"twitter",url:"https://twitter.com/cbcnewsbc"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcvancouver"}]},"news/canada/british-columbia/community":{title:"Follow CBC British Columbia",links:[{socialNetwork:"twitter",url:"https://twitter.com/cbcvancouver"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCVancouver"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcvancouver"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcvancouver"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCiKE6mqbKmGGlNAtccn04MA"}]},"news/canada/calgary":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/calgary/community":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/calgary/the-road-ahead":{title:"Follow CBC Calgary",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbccalgary"},{socialNetwork:"twitter",url:"https://twitter.com/CBCCalgary"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbccalgary"}]},"news/canada/edmonton":{title:"Follow CBC Edmonton",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcedmonton/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCEdmonton"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcedmonton"}]},"news/canada/hamilton":{title:"Follow CBC Hamilton",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbchamilton"},{socialNetwork:"twitter",url:"https://twitter.com/CBCHamilton"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbchamilton"}]},"news/canada/manitoba":{title:"Follow CBC Manitoba",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmanitoba"},{socialNetwork:"twitter",url:"https://twitter.com/CBCManitoba"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCManitoba"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmanitoba"}]},"news/canada/manitoba/community":{title:"Follow CBC Manitoba",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmanitoba"},{socialNetwork:"twitter",url:"https://www.twitter.com/CBCManitoba"},{socialNetwork:"youtube",url:"https://www.youtube.com/CBCManitoba"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmanitoba"}]},"news/canada/montreal":{title:"Follow CBC Montreal",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCMontreal"},{socialNetwork:"twitter",url:"https://twitter.com/CBCMontreal"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcmontreal"}]},"news/canada/new-brunswick":{title:"Follow CBC New Brunswick",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNB"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNB"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnewbrunswick"}]},"news/canada/newfoundland-labrador":{title:"Follow CBC Newfoundland and Labrador",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnl"},{socialNetwork:"twitter",url:"https://twitter.com/cbcnl"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnl"},{socialNetwork:"youtube",url:"https://www.youtube.com/c/cbcnl"}]},"news/canada/north":{title:"Follow CBC North",links:[{socialNetwork:"twitter",url:"https://twitter.com/CBCNorth"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNorth/?ref=aymt_homepage_panel"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnorth/"}]},"news/canada/nova-scotia":{title:"Follow CBC Nova Scotia",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCNovaScotia"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNS"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcns"}]},"news/canada/ottawa":{title:"Follow CBC Ottawa",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCOttawa"},{socialNetwork:"twitter",url:"https://twitter.com/CBCOttawa"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcottawa"}]},"news/canada/prince-edward-island":{title:"Follow CBC PEI",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPEI"},{socialNetwork:"twitter",url:"https://twitter.com/CBCPEI"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcpei"}]},"news/canada/saskatchewan":{title:"Follow CBC Saskatchewan",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcsask"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSask"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/saskatchewan/community":{title:"Follow CBC Saskatchewan",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcsask"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSask"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/saskatoon":{title:"Follow CBC Saskatoon",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSaskatoon/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCSaskatoon"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcsask"},{socialNetwork:"snapchat",url:"https://www.snapchat.com/add/cbcsask"}]},"news/canada/toronto":{title:"Follow CBC Toronto",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCToronto"},{socialNetwork:"twitter",url:"https://twitter.com/CBCToronto"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbctoronto"}]},"news/canada/windsor":{title:"Follow CBC Windsor",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCWindsor"},{socialNetwork:"twitter",url:"https://twitter.com/CBCWindsor"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcwindsor/"}]},"news/indigenous":{title:"Follow CBC Indigenous",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBC.caIndigenous"},{socialNetwork:"twitter",url:"https://twitter.com/cbcindigenous"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcindigenous"},{socialNetwork:"youtube",url:"https://www.youtube.com/playlist?list=PLeyJPHbRnGaaTPy6Dz5DcahunrW8873fN"}]},"news/fifth":{title:"Follow The Fifth Estate",links:[{socialNetwork:"twitter",url:"https://www.twitter.com/cbcfifth"},{socialNetwork:"facebook",url:"https://www.facebook.com/thefifthestate"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCa-bX3gZC3YnCThlGM5d38Q"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcfifth"}]},"news/marketplace":{title:"Follow Marketplace",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbcmarketplace"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcmarketplace"}]},"news/politics/powerandpolitics":{title:"Follow Power & Politics",links:[{socialNetwork:"youtube",url:"https://www.youtube.com/playlist?list=PLeyJPHbRnGaZ1LGEJXLVGF87go3CuPlWo"},{socialNetwork:"twitter",url:"https://twitter.com/PnPCBC"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPolitics/"},{socialNetwork:"instagram",url:"https://www.instagram.com/pnpcbc/"}]},"news/thenational":{title:"Follow The National",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/thenational/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCTheNational"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthenational/"}]},radio:{title:"Follow CBC Radio",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcradio"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcradio/"}]},"radio/alone":{title:"Follow Alone: A Love Story",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/alone-a-love-story-1/"},{socialNetwork:"facebook",url:"https://www.facebook.com/alonecbc"},{socialNetwork:"twitter",url:"https://twitter.com/alonecbc"}]},"radio/asithappens":{title:"Follow As it Happens",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/as-it-happens/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCasithappens"},{socialNetwork:"twitter",url:"https://twitter.com/CBCasithappens"}]},"radio/becausenews":{title:"Follow Because News",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/because-news/"},{socialNetwork:"facebook",url:"https://www.facebook.com/becausenews"},{socialNetwork:"twitter",url:"https://twitter.com/CBCBecauseNews"},{socialNetwork:"instagram",url:"https://instagram.com/cbcbecausenews/"}]},"radio/checkup":{title:"Follow Cross Country Checkup",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/cross-country-checkup/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCCrossCountryCheckup/"},{socialNetwork:"twitter",url:"https://twitter.com/CheckupCBC"}]},"radio/costofliving":{title:"Follow Cost of Living",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/cost-of-living/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCCostofLiving/"},{socialNetwork:"twitter",url:"https://twitter.com/cbccostofliving"}]},"radio/thecurrent":{title:"Follow The Current",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/the-current/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcthecurrent"},{socialNetwork:"twitter",url:"https://twitter.com/thecurrentcbc"}]},"radio/day6":{title:"Follow Day 6",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/day-6/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCDay6"},{socialNetwork:"twitter",url:"https://twitter.com/CBCDay6"}]},"radio/thedebaters":{title:"Follow The Debaters",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/the-debaters/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcdebaters"},{socialNetwork:"twitter",url:"https://twitter.com/cbcdebaters"}]},"radio/docproject":{title:"Follow The Doc Project",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/the-doc-project/"},{socialNetwork:"facebook",url:"https://www.facebook.com/DocProjectCBC"},{socialNetwork:"twitter",url:"https://twitter.com/DocProjectCBC"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcthedocproject"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCeBvHcEtJlNyqS9T5aQBgtA"}]},"radio/thefridgelight":{title:"Follow CBC The Fridge Light",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-fridge-light/"},{socialNetwork:"twitter",url:"https://twitter.com/fridgelightcbc"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"instagram",url:"https://www.instagram.com/fridgelightcbc/"}]},"radio/frontburner":{title:"Follow CBC Front Burner",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/front-burner/"},{socialNetwork:"twitter",url:"https://twitter.com/FrontBurnerCBC"}]},"radio/thehouse":{title:"Follow CBC The House",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/the-house/"},{socialNetwork:"twitter",url:"https://twitter.com/#!/CBCTheHouse"}]},"radio/ideas":{title:"Follow Ideas",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/documentaries/the-best-of-ideas/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/Ideas-on-CBC-Radio/150107091761767"},{socialNetwork:"twitter",url:"https://twitter.com/cbcideas"},{socialNetwork:"newsletter",url:"https://www.cbc.ca/radio/ideas/ideas-newsletter-1.4811924"}]},"radio/irrelevantshow":{title:"Follow The Irrelevant Show",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/irrelevantshow/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/CBCs-The-Irrelevant-Show/213257698710412"},{socialNetwork:"twitter",url:"https://twitter.com/IrrelevantShow"}]},"radio/loveme":{title:"Follow CBC Love Me",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/love-me/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/newfire":{title:"Follow CBC New Fire",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/new-fire/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBC.caAboriginal"},{socialNetwork:"twitter",url:"https://twitter.com/urbannativegirl"}]},"radio/thenextchapter":{title:"Follow The Next Chapter",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-next-chapter-highlights/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"}]},"radio/nowornever":{title:"Follow CBC Now or Never",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/now-or-never/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcnowornever"},{socialNetwork:"twitter",url:"https://twitter.com/CBCNowOrNever"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcnowornever"}]},"radio/ondrugs":{title:"Follow On Drugs",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/on-drugs/"},{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/outintheopen":{title:"Follow Out in the Open",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/out-in-the-open/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcoutintheopen/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcopen"}]},"radio/personalbest":{title:"Follow Personal Best",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/personal-best/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/personalbestCBC"}]},"radio/podcastplaylist":{title:"Follow Podcast Playlist",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/podcast-playlist/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcpodcastplaylist"},{socialNetwork:"twitter",url:"https://twitter.com/podcastplaylist"}]},"radio/q":{title:"Follow q",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/q-the-podcast/"},{socialNetwork:"facebook",url:"https://www.facebook.com/QonCBCRadio"},{socialNetwork:"twitter",url:"https://twitter.com/CBCRadioQ"},{socialNetwork:"instagram",url:"https://instagram.com/cbcq"},{socialNetwork:"youtube",url:"https://www.youtube.com/qtv"}]},"radio/quirks":{title:"Follow Quirks & Quarks",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/quirks/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCQuirks"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcquirks"}]},"radio/rewind":{title:"Follow Rewind",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/rewind/"},{socialNetwork:"facebook",url:"https://www.facebook.com/radiocbc"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcradio"}]},"radio/seatatthetable":{title:"Follow Seat at the Table",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/seat-at-the-table/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSeatAtTheTable/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcradio"}]},"radio/secretlifeofcanada":{title:"Follow Secret Life of Canada",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/documentaries/the-secret-life-of-canada/"},{socialNetwork:"facebook",url:"https://www.facebook.com/thesecretlifeofcanada/"},{socialNetwork:"twitter",url:"https://twitter.com/secretlifeofCAD"}]},"radio/sks":{title:"Follow Someone Knows Something",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/sks/"},{socialNetwork:"facebook",url:"https://www.facebook.com/SomeoneKnowsSomething"},{socialNetwork:"twitter",url:"https://twitter.com/@skscbc"}]},"radio/sleepover":{title:"Follow CBC Sleepover",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/sleepover/"},{socialNetwork:"facebook",url:"https://www.facebook.com/SleepoverCBC-1129485650478840/"},{socialNetwork:"twitter",url:"https://twitter.com/SleepoverCBC"}]},"radio/spark":{title:"Follow Spark",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/spark/"},{socialNetwork:"facebook",url:"https://www.facebook.com/sparkcbc"},{socialNetwork:"twitter",url:"https://twitter.com/SparkCBC"}]},"radio/thesundayedition":{title:"Follow The Sunday Edition",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/the-best-of-the-sunday-edition/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/The-Sunday-Edition/196815904419"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcsunday"}]},"radio/taiaskswhy":{title:"Follow CBC Podcasts",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/tai-asks-why/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCPodcasts"},{socialNetwork:"twitter",url:"https://twitter.com/cbcpodcasts"}]},"radio/tapestry":{title:"Follow Tapestry",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/tapestry/"},{socialNetwork:"facebook",url:"https://www.facebook.com/pages/CBC-Tapestry-with-Mary-Hynes/142066729216955"},{socialNetwork:"twitter",url:"https://twitter.com/cbctapestry"}]},"radio/thisisthat":{title:"Follow This is That",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/comedy/this-is-that/"},{socialNetwork:"facebook",url:"https://www.facebook.com/CBCThisIsThat"},{socialNetwork:"twitter",url:"https://www.twitter.com/cbcthisisthat"},{socialNetwork:"instagram",url:"https://instagram.com/cbcthisisthat"}]},"radio/undertheinfluence":{title:"Follow CBC Under The Influence",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/under-the-influence/"},{socialNetwork:"facebook",url:"https://www.facebook.com/undertheinfluencecbc"},{socialNetwork:"twitter",url:"https://twitter.com/terryoinfluence"},{socialNetwork:"instagram",url:"https://www.instagram.com/terryoinfluence/"}]},"radio/unreserved":{title:"Follow CBC Unreserved",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/unreserved/index.html"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcunreserved/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCUnreserved"}]},"radio/whitecoat":{title:"Follow White Coat, Black Art",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/current-affairs-information/white-coat-black-art/"},{socialNetwork:"facebook",url:"https://www.facebook.com/whitecoatcbc"},{socialNetwork:"twitter",url:"https://twitter.com/cbcwhitecoat"}]},"radio/writersandcompany":{title:"Follow Writers and Company",links:[{socialNetwork:"podcast",url:"https://www.cbc.ca/radio/podcasts/arts-culture/writers-company/"},{socialNetwork:"facebook",url:"https://www.facebook.com/cbcbooks"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbooks"}]},sports:{title:"Follow CBC Sports",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCSports"},{socialNetwork:"twitter",url:"https://twitter.com/cbcsports"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCSports"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc.sports/"}]},"television/battleoftheblades":{title:"Follow Battle of the Blades",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/battleoftheblades/"},{socialNetwork:"twitter",url:"https://twitter.com/cbcbattle/"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbcbattle/"}]},"television/fromthevaults":{title:"Follow From The Vaults",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/CBCTelevision"},{socialNetwork:"twitter",url:"https://twitter.com/cbctelevision"}]},"television/familyfeud":{title:"Family Feud Canada",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/FamilyFeudCanada/"},{socialNetwork:"twitter",url:"https://twitter.com/FamilyFeudCa"},{socialNetwork:"instagram",url:"https://www.instagram.com/familyfeudcanada/"},{socialNetwork:"youtube",url:"https://www.youtube.com/channel/UCpueTLq46sezKE7AyStXJUA"}]},"television/higharctichaulers":{title:"Follow High Arctic Haulers",links:[{socialNetwork:"facebook",url:"https://facebook.com/higharctichaulers"},{socialNetwork:"twitter",url:"https://twitter.com/higharctichaul/"},{socialNetwork:"instagram",url:"https://www.instagram.com/higharctichaulers/"}]},"television/thedetectives":{title:"Follow The Detectives",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/TheDetectivesCBC/"},{socialNetwork:"twitter",url:"https://twitter.com/CBCDetectives"}]},"television/stillstanding":Rt,"television/stillstanding/about":Rt,"meta/adtestpage":{title:"Follow CBC",links:[{socialNetwork:"facebook",url:"https://www.facebook.com/cbc"},{socialNetwork:"twitter",url:"https://twitter.com/CBC"},{socialNetwork:"youtube",url:"https://www.youtube.com/user/CBCtv"},{socialNetwork:"instagram",url:"https://www.instagram.com/cbc"},{socialNetwork:"newsletter",url:"https://subscriptions.cbc.ca/forms/cbcnewsletter"}]}},Tt={facebook:{displayName:"Facebook",imageUrl:"https://i.cbc.ca/1.4586793.1521664140!/fileImage/httpImage/facebook.png",userAction:"Like"},gplus:{displayName:"Google+",imageUrl:"https://i.cbc.ca/1.4586806.1521664341!/fileImage/httpImage/reddit.png",userAction:"Join"},instagram:{displayName:"Instagram",imageUrl:"https://i.cbc.ca/1.4586808.1521664476!/fileImage/httpImage/instagram.png",userAction:"Follow"},linkedin:{displayName:"LinkedIn",imageUrl:"https://i.cbc.ca/1.4586847.1521665060!/fileImage/httpImage/linkedin.png",userAction:"Follow"},newsletter:{displayName:"the CBC Newsletter",imageUrl:"https://i.cbc.ca/1.4586850.1531937054!/fileImage/httpImage/newsletter.png",userAction:"Sign up for the best of"},pinterest:{displayName:"Pinterest",imageUrl:"https://i.cbc.ca/1.4586853.1521665185!/fileImage/httpImage/pinterest.png",userAction:"Follow"},reddit:{displayName:"reddit",imageUrl:"https://i.cbc.ca/1.4586856.1521665243!/fileImage/httpImage/reddit.png",userAction:"Subscribe to"},snapchat:{displayName:"Snapchat",imageUrl:"https://i.cbc.ca/1.4586861.1521665368!/fileImage/httpImage/snapchat.png",userAction:"Add"},twitter:{displayName:"Twitter",imageUrl:"https://i.cbc.ca/1.4586863.1521665398!/fileImage/httpImage/twitter.png",userAction:"Follow"},youtube:{displayName:"YouTube",imageUrl:"https://i.cbc.ca/1.4586869.1521665472!/fileImage/httpImage/youtube.png",userAction:"Subscribe to"},podcast:{displayName:"Podcast",imageUrl:"https://i.cbc.ca/1.4586880.1521665636!/fileImage/httpImage/podcast.png",userAction:"Listen to"}};var Dt=function(t){var e=void 0!==Pt[t.path]?Pt[t.path]:null,a="",r=[],n="";return e&&(a=e.title,n=a.replace("Follow ",""),r=e.links.map((function(t,e){return v.a.createElement("li",{key:"".concat(e,"-followUs")},v.a.createElement(Nt.a,{url:t.url,external:!0},v.a.createElement(kt.a,{url:"".concat(Tt[t.socialNetwork].imageUrl),type:"followUs-image"}),v.a.createElement("span",{role:"tooltip",key:"".concat(e,"-followUs-action")},Tt[t.socialNetwork].userAction," ",n," on"," ",Tt[t.socialNetwork].displayName)))}))),function(t,e){if(!e||!e.length)return null;return v.a.createElement("div",{className:"followUs"},v.a.createElement(P.a.H2,{className:"followUsHeadline"},t),v.a.createElement("ul",null,e))}(a,r)},xt=a(35),It=a(286),Bt=a(155);function Lt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var Ft=function(t){b()(r,t);var e,a=(e=r,function(){var t,a=w()(e);if(Lt()){var r=w()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return f()(this,t)});function r(t){var e;return c()(this,r),(e=a.call(this,t)).state={showSponsors:!1,wallpaper:!1},e.onFilterSelected=e.onFilterSelected.bind(h()(e)),e}return u()(r,[{key:"componentDidMount",value:function(){this.componentInfo={domNode:Object(xt.findDOMNode)(this),callback:this.wallpaperCallback.bind(this)},ft.a.registerWallpaper(this.componentInfo)}},{key:"wallpaperCallback",value:function(t){this.state.wallpaper!==t&&this.setState({wallpaper:t})}},{key:"componentDidUpdate",value:function(){ft.a.viewabilityHandler()}},{key:"onFilterSelected",value:function(t){this.props.dispatch({type:"UPDATE_DENSITY",density:t})}},{key:"getContentList",value:function(t,e){if(t&&t.size){var a={baseSection:this.props.baseSection,subSection:this.props.subSection,path:this.props.path,items:t,displayPolicy:e,lazyLoad:this.props.lazyLoad,viewport:this.props.viewport,testAdHierarchy:this.props.testAdHierarchy,adHierarchy:this.props.hierarchy,usePrimaryAPI:this.props.usePrimaryAPI,loadMoreState:this.props.loadMoreState,loadMore:this.props.loadMore,key:gt()(),pageType:this.props.pageType,hasNativeAd:this.props.hasNativeAd,trackingSection:"contentlist",cardClickHandler:this.props.cardClickHandler},r=this.props.listHeading?v.a.createElement("h2",{className:"listHeading"}," ",this.props.listHeading):null;return v.a.createElement("div",{className:"contentListWrapper"},r,v.a.createElement(E.a,a))}}},{key:"getFeaturedList",value:function(t,e,a){if(this.props.hasFeature&&t){var r={baseSection:this.props.baseSection,subSection:this.props.subSection,adHierarchy:this.props.hierarchy,testAdHierarchy:this.props.testAdHierarchy,items:t,displayPolicy:e,lazyLoad:this.props.lazyLoad,path:this.props.path,showRegion:this.props.showRegion,viewport:this.props.viewport,hasTopStories:!this.props.contentPackage&&this.props.hasTopStories,hasHighlightedStories:this.props.hasHighlightedStories,pageType:this.props.pageType,hasNativeAd:this.props.hasNativeAd,cardClickHandler:this.props.cardClickHandler,isDenseFeatured:this.props.isDenseFeatured,contentPackage:a};return v.a.createElement(G,r)}}},{key:"getWidgets",value:function(){if(this.props.sidebarWidgets.length)return v.a.createElement("div",{className:"widgets"},this.props.sidebarWidgets)}},{key:"getWidgetsAboveAd",value:function(){if(this.props.sidebarWidgetsAboveAd.length)return v.a.createElement("div",{className:"widgets"},this.props.sidebarWidgetsAboveAd)}},{key:"renderSwimLaneForElection",value:function(){var t={section:"".concat(this.props.path,"/swimlane"),headline:"".concat(z.g.hasOwnProperty(this.props.path)?z.g[this.props.path].province:""," Votes Features"),className:"electionSideBarSwimlane",itemCount:4,fetchSection:!0};return z.g.hasOwnProperty(this.props.path)&&z.g[this.props.path].swimlane?v.a.createElement(It.a,t):null}},{key:"getSidebar",value:function(){if(this.props.hasSidebar)return v.a.createElement("div",{className:"sidebar"},this.getWidgetsAboveAd(),v.a.createElement(Dt,{path:this.props.path}),this.getBigBox(this.props),this.getOlympicsWidget(),this.getWidgets(),this.renderSwimLaneForElection())}},{key:"getSideBarNews",value:function(){if(this.props.hasSidebar)return v.a.createElement("div",{className:"sidebar"},v.a.createElement(Dt,{path:this.props.path}),this.getBigBox(this.props),v.a.createElement(Y.b,null),this.getWidgets())}},{key:"getBigBox",value:function(t){return v.a.createElement(R.a,{type:"bigbox",responsive:!0,hierarchy:t.hierarchy,test:t.testAdHierarchy,targeting:{plc:"feed"}})}},{key:"getOlympicsWidget",value:function(){if(void 0!==this.props.olympicsContent&&this.props.olympicsContent)return v.a.createElement(vt.a,{items:this.props.olympicsContent,title:"FEATURED CONTENT",displayPolicy:new lt,maxItems:3})}},{key:"getPolicySelector",value:function(){var t=this;if(this.props.showDisplaySelector&&this.props.viewport===B.c)return v.a.createElement(Z,null,v.a.createElement(tt,{id:"high",value:B.a.high,label:"Text View",groupName:"filterList",onSelected:function(){return t.onFilterSelected(B.a.high)}}),v.a.createElement(tt,{id:"med",value:B.a.medium,label:"Small View",groupName:"filterList",onSelected:function(){return t.onFilterSelected(B.a.medium)}}),v.a.createElement(tt,{id:"default",value:B.a.default,label:"Standard View",groupName:"filterList",onSelected:function(){return t.onFilterSelected(B.a.default)}}),v.a.createElement(tt,{id:"graphical",value:B.a.graphical,label:"High Res View",groupName:"filterList",onSelected:function(){return t.onFilterSelected(B.a.graphical)}}))}},{key:"getDisplayPolicy",value:function(){var t={baseSection:this.props.baseSection,subSection:this.props.subSection,viewport:this.props.viewport,hasTopStories:!this.props.contentPackage&&this.props.hasTopStories,contentPackage:this.props.contentPackage},e=null,a=null,r=this.props.density?this.props.density:B.a.default;switch(this.props.customDensity&&(r=this.props.customDensity),r){case B.a.debug:e=new rt,a=new I(t);break;case B.a.graphical:a=e=new nt.a;break;case B.a.high:a=e=new O;break;case B.a.medium:a=e=new it;break;case B.a.listing:a=e=new lt;break;case B.a.homepage:e=new H.a,a=new pt(t);break;case B.a.rich:e=new st.a,t.richPolicy=!0,a=new I(t);break;case B.a.search:a=e=new dt;break;default:e=new H.a,a=new I(t)}return[e,a]}},{key:"isTopAreaPackage",value:function(){if(!this.props.contentPackage)return null;var t="undefined"!==typeof this.props.contentPackage.toJS?this.props.contentPackage.toJS():this.props.contentPackage,e=t.packageComponents&&t.packageComponents.tertiary&&t.packageComponents.tertiary.length;return e}},{key:"getContentPackageCard",value:function(){if(!this.props.contentPackage)return null;var t=this.props.contentPackage,e="undefined"!==typeof t.toJS?t.toJS():t;return v.a.createElement(Bt.a,i()({type:T.a.TYPE_CONTENT_PACKAGE},e,{key:e.contentId}))}},{key:"render",value:function(){var t=J()("pageContentWrap",this.props.viewport,{wallpaperArea:this.state.wallpaper},this.props.className),e=J()("contentAreaWrap",this.props.className,{nativeAdInserted:this.props.nativeAdInserted}),a=this.props.content,r=null,o=null,i=this.getContentPackageCard(),s=i&&this.isTopAreaPackage()?i:null,c=this.props.hasFeature&&!s?i:null;if(i&&(a=a.rest()),this.props.hasFeature){var l=this.props.hasTopStories&&!this.props.contentPackage?Object(q.f)(this.props.baseSection):0,u=this.props.isDenseFeatured?B.b:0,p=Object(q.h)(a,l,this.props.hasHighlightedStories,u),h=n()(p,2);o=h[0],r=h[1]}else r=a;var d=this.getDisplayPolicy(),f=n()(d,2),m=f[0],w=f[1],y=null;if(this.props.showNotifications){var b=this.props.baseSection?z.a[this.props.baseSection]:null,g=b&&b.defaultNotifications?Object(C.List)(b.defaultNotifications):Object(C.List)(),k=this.props.notifications&&this.props.notifications.visible?this.props.notifications.visible.concat(g):g,N={notificationList:k,path:this.props.path,viewport:this.props.viewport,pageType:this.props.pageType,baseSection:this.props.baseSection,subSection:this.props.subSection};y=k?v.a.createElement(et.b,N):null}var E=null,S=z.c[this.props.path];return S&&(E=v.a.createElement(wt.a,{header:S.header,viewport:this.props.viewport,section:S.section,itemCount:S.itemCount,displayPolicy:new yt.a})),v.a.createElement("div",{className:t},y,E,this.getPolicySelector(),s,v.a.createElement("section",{className:e},v.a.createElement("div",{className:"contentArea"},this.props.beforeContent,this.getFeaturedList(o,w,c),this.getContentList(r,m)),"news"===this.props.path?this.getSideBarNews():this.getSidebar()))}}]),r}(g.PureComponent);Ft.propTypes={content:N.a.instanceOf(C.List),density:N.a.string,hasFeature:N.a.bool,hasSidebar:N.a.bool,lazyLoad:N.a.bool,path:N.a.string,showRegion:N.a.bool,olympicsContent:N.a.instanceOf(C.List),testAdHierarchy:N.a.oneOfType([N.a.string,N.a.bool]),usePrimaryAPI:N.a.bool,showNotifications:N.a.bool,showDisplaySelector:N.a.bool,hasTopStories:N.a.bool,hasHighlightedStories:N.a.bool,customDensity:N.a.string,listHeading:N.a.string,className:N.a.string,sidebarWidgetsAboveAd:N.a.array,sidebarWidgets:N.a.array,pageType:N.a.string,hasNativeAd:N.a.bool,nativeAdInserted:N.a.bool,cardClickHandler:N.a.func,isDenseFeatured:N.a.bool,beforeContent:N.a.element,trendingProps:N.a.object,contentPackage:N.a.object},Ft.defaultProps={content:null,density:B.a.default,hasFeature:!0,hasSidebar:!0,lazyLoad:!1,path:"",showRegion:!1,olympicsContent:null,usePrimaryAPI:!0,showNotifications:!0,showDisplaySelector:!1,hasTopStories:!1,hasHighlightedStories:!0,customDensity:null,listHeading:null,className:"",sidebarWidgetsAboveAd:[],sidebarWidgets:[],pageType:"landing",hasNativeAd:!1,nativeAdInserted:!1,cardClickHandler:function(){},isDenseFeatured:!1,beforeContent:null,trendingProps:{},contentPackage:null};e.a=Object(mt.connect)((function(t,e){return{density:t.density.selection?t.density.selection:e.density}}))(Ft)},782:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(7),i=a.n(o),s=a(8),c=a.n(s),l=a(3),u=a.n(l),p=a(6),h=a.n(p),d=a(0),f=a.n(d),m=a(1),w=a.n(m),y=a(5),b=a.n(y),g=a(12),v=a.n(g),k=a(40),N=a.n(k),E=a(35),C=a.n(E),S=a(2),R=a(789),P=2,T=4,D=6,x=a(425),I=a(11),B=a(282),L=a(92);function F(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var A=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(F()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(t){var e;return n()(this,r),(e=a.call(this,t)).state={swipeOffset:0,currentPage:0},e.instant=!1,e.carouselWidth=0,e.deltaX=0,e.startX=0,e.isSwiping=!1,e.ignoreClick=!1,e.SWIPE_THRESHOLD=.5,e.SLIDES_TO_MOVE=3,e.keyboardFocusTimeDelay=100,e.showNext=e.showNext.bind(N()(e)),e.showPrevious=e.showPrevious.bind(N()(e)),e.makeCardKeyHandler=e.makeCardKeyHandler.bind(N()(e)),e}return i()(r,[{key:"showPrevious",value:function(){var t=this.state.currentPage;t>0&&(t--,this.instant=!1,this.setState({currentPage:t}))}},{key:"showNext",value:function(){var t=this.state.currentPage;t<this.MAX_PAGES&&(t++,this.instant=!1,this.setState({currentPage:t}))}},{key:"onSwipeStart",value:function(t){var e=t.touches&&t.touches[0]||t;return this.isSwiping=!0,this.swipeStartX=e.pageX,!1}},{key:"onSwipeMove",value:function(t){if(this.isSwiping){var e=t.touches&&t.touches[0]||t,a=this.swipeStartX-e.pageX;this.isSwipe(this.SWIPE_THRESHOLD,a)&&(t.preventDefault(),t.stopPropagation(),this.ignoreClick=!0,this.instant=!0,this.setState({swipeOffset:a}))}}},{key:"onSwipeEnd",value:function(t){return this.instant=!1,t.preventDefault(),t.stopPropagation(),this.isSwiping=!1,!1}},{key:"onSwipePast",value:function(){this.isSwiping&&this.onSwipeEnd()}},{key:"onItemClick",value:function(t){return!this.isSwiping&&!this.ignoreClick||(t.preventDefault(),t.stopPropagation(),this.ignoreClick=!1,!1)}},{key:"makeCardKeyHandler",value:function(t,e,a){var r=this,n=t+1,o=n%e===0&&!(n===e*a),i=n%e===1&&!(1===n),s=this.keyboardFocusTimeDelay;return function(e){var a="Tab"===e.key&&!1===e.shiftKey,n="Tab"===e.key&&!0===e.shiftKey;a&&o&&(r.showNext(),setTimeout((function(){document.querySelector(".sclt-carouselcard"+(t+1)).focus()}),s)),n&&i&&(r.showPrevious(),setTimeout((function(){document.querySelector(".sclt-carouselcard"+(t-1)).focus()}),s))}}},{key:"isSwipe",value:function(t,e){return Math.abs(e)>t}},{key:"getDestValue",value:function(){return-1*(100*this.state.currentPage+this.state.swipeOffset)}},{key:"getListStyles",value:function(){var t=this.getDestValue();return{movement:this.instant?t:Object(R.spring)(t)}}},{key:"componentDidMount",value:function(){this.carouselWidth=C.a.findDOMNode(this).offsetWidth}},{key:"render",value:function(){var t=this;switch(this.props.viewport){case"viewportSmall":this.pageSize=P;break;case"viewportMedium":this.pageSize=T;break;default:this.pageSize=D}this.NUM_SLIDES=this.props.list.size,this.MAX_PAGES=Math.ceil(this.NUM_SLIDES/this.pageSize),this.state.currentPage+1>this.MAX_PAGES&&this.setState({currentPage:this.MAX_PAGES-1});var e=(void 0!==this.props.displayPolicy?this.props.displayPolicy:new B.a).format(this.props.list,{baseSection:"",subSection:"",trackingSection:"carousel"},!1),a=this.state.currentPage>0,r=this.state.currentPage<this.MAX_PAGES-1,n=b()("prev",{show:a}),o=b()("next",{show:r}),i=this.props.swipeEnabled?{onMouseDown:this.onSwipeStart.bind(this),onMouseMove:this.onSwipeMove.bind(this),onMouseUp:this.onSwipeEnd.bind(this),onMouseLeave:this.onSwipePast.bind(this)}:{},s=this.props.touchEnabled?{onTouchStart:this.onSwipeStart.bind(this),onTouchMove:this.onSwipeMove.bind(this),onTouchEnd:this.onSwipeEnd.bind(this)}:{},c=f.a.Children.map(e,(function(e,a){var r=Object.assign({},e.props,{onClick:t.onItemClick.bind(t),viewport:t.props.viewport,cardKeyHandler:t.makeCardKeyHandler(a,t.pageSize,t.MAX_PAGES)});return f.a.cloneElement(e,r)})),l=Object(I.u)("carouselHeader",this.props.header,void 0,!0);return f.a.createElement("div",{className:"carouselWrapper",role:"region","aria-labelledby":l},f.a.createElement("div",{className:"carouselTop"},f.a.createElement("h2",{className:"header",id:l},this.props.header," ",f.a.createElement("span",{className:"a11y"},"Carousel")),f.a.createElement("div",{className:"carouselNav"},f.a.createElement("span",{className:"carouselIndicator"},"Page ",this.state.currentPage+1," of"," ",this.MAX_PAGES))),f.a.createElement("div",{className:"carousel sclt-carousel"},f.a.createElement("button",{disabled:!a,className:n,onClick:this.showPrevious,"aria-hidden":!0},f.a.createElement(x.a,{type:"chevron"})),f.a.createElement("div",v()({className:"itemContainer"},i,s),f.a.createElement(R.Motion,{style:this.getListStyles()},(function(e){var a=e.movement;return f.a.createElement("div",{className:"itemList",style:{transform:t.instant?"translate3d(".concat(a,"px, 0, 0)"):"translate3d(".concat(a,"%, 0, 0)")}},c)}))),f.a.createElement("button",{disabled:!r,className:o,onClick:this.showNext,"aria-hidden":!0},f.a.createElement(x.a,{type:"chevron"}))))}}]),r}(f.a.Component);A.propTypes={list:w.a.instanceOf(S.List),displayPolicy:w.a.instanceOf(L.a),swipeEnabled:w.a.bool,touchEnabled:w.a.bool,viewport:w.a.string,header:w.a.string},A.defaultProps={list:null,displayPolicy:new B.a,swipeEnabled:!1,touchEnabled:!1,header:""};var O=A,j=a(20),H=a(83);function M(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var _=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(M()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return i()(r,[{key:"componentDidMount",value:function(){this.fetchSlider()}},{key:"componentDidUpdate",value:function(t){this.props.path!==t.path&&this.fetchSlider()}},{key:"fetchSlider",value:function(){""!==this.props.videoLandingPath?this.props.dispatch(Object(H.c)(this.props.section,this.props.videoLandingPath,this.props.itemCount)):this.props.dispatch(Object(H.a)(this.props.section,this.props.itemCount))}},{key:"getCarousel",value:function(){var t=this.props.videoLandingPath?this.props.sectionalContent[this.props.videoLandingPath]:this.props.sectionalContent[this.props.section];if(t&&t.sectionList&&t.sectionList.size)return f.a.createElement("div",{className:"carouselContainer"},f.a.createElement(O,{header:this.props.header,list:t.sectionList,displayPolicy:this.props.displayPolicy,pageNum:this.props.pageNum,viewport:this.props.viewport}))}},{key:"render",value:function(){var t=Object(I.u)("section",this.props.section),e=b()("slider",t);return f.a.createElement("div",{className:e},this.getCarousel())}}]),r}(f.a.Component);_.propTypes={displayPolicy:w.a.instanceOf(L.a),sectionalContent:w.a.object,videoLandingPath:w.a.string,path:w.a.string},_.defaultProps={displayPolicy:new B.a,sectionalContent:null,videoLandingPath:"",path:""};e.a=Object(j.connect)((function(t){return{sectionalContent:t.sectionalContent,path:t.app.path}}))(_)},784:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(8),i=a.n(o),s=a(3),c=a.n(s),l=a(6),u=a.n(l),p=a(71),h=a.n(p),d=a(100),f=a.n(d),m=a(7),w=a.n(m),y=a(2);function b(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var g=function(t){u()(r,t);var e,a=(e=r,function(){var t,a=c()(e);if(b()){var r=c()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return i()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return w()(r,[{key:"isEmpty",value:function(){return""===this.title}}]),r}(Object(y.Record)({title:"",liveRadioId:"",radio:"",location:""})),v=a(158),k=a(16),N=a(67);function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function C(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return S(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return S(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw n}}}}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}a.d(e,"a",(function(){return P})),a.d(e,"b",(function(){return D}));var R=function(){var t,e=[],a=C(N.b);try{var r=function(){var a=t.value,r=e.find((function(t){return t.province===a.province}));if(r)r.stations.push(a.listenLive[0]);else{var n,o={province:"",stations:[]};o.province=a.province,(n=o.stations).push.apply(n,f()(a.listenLive)),e.push(o)}};for(a.s();!(t=a.n()).done;)r()}catch(n){a.e(n)}finally{a.f()}return e},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=[],a=!1;return null===t&&(t=R(),a=!0),t.map((function(t){var r={};if(a){var n=t.stations.map((function(t){return new g({title:t.title||"",liveRadioId:t.liveRadioId||"",radio:t.radio||"",location:t.location||""})}));r=Object.assign({},{province:t.province},{stations:n})}else r=new g({title:t.title||"",liveRadioId:t.liveRadioId||"",radio:t.radio||"",location:t.location||""});e.push(r)})),new y.List(e)},T=function(t){u()(r,t);var e,a=(e=r,function(){var t,a=c()(e);if(E()){var r=c()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return i()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return r}(h()(Error));function D(t){var e="".concat(v.a.radio,"&locationKey=").concat(t);return fetch(e).then((function(t){if(!t.ok)throw new T(t.statusText);return t.text()})).catch((function(t){return k.a.send(t),"Sorry, the network request failed."}))}},786:function(t,e,a){"use strict";var r=a(0),n=a.n(r),o=a(1),i=a.n(o),s=a(5),c=a.n(s),l=a(156),u=a(44),p=a(13),h=a(788),d=a(2),f=a(11);function m(t){var e=t.hostName.trim()?"with ".concat(t.hostName.trim()):"",a=null;if(t.navigation.length&&t.hasMenu){var r={collapseOnMobile:!1,items:Object(d.fromJS)(t.navigation),path:t.path,className:"introNav"};a=n.a.createElement(l.a,r)}var o="";t.showName&&(o=Object(f.u)("show",t.showName));var i="introNav-".concat(t.baseSection,"-").concat(t.subSection),s=c()("showName",o||""),m=c()("pageIntro",o,i,{hasListenLive:t.listenRecord&&t.listenRecord.size&&t.baseSection});return n.a.createElement("div",{className:m},function(t){if(t&&t.size)return n.a.createElement(h.a,{listenRecord:t})}(t.listenRecord),n.a.createElement("h1",{className:"showDetails a11y"},n.a.createElement("span",{className:s},t.showName),n.a.createElement("span",{className:"hostName"},e)),function(t){if(!1===t.showImage)return null;var e=null;t.imageUrl&&(e=n.a.createElement(u.a,{url:t.imageUrl,type:"host-image"}));t.imageLink&&(e=n.a.createElement(p.a,{url:t.imageLink},e));return e}(t),a||function(t){if(t.description)return n.a.createElement("div",{className:"description"},t.description)}(t))}m.propTypes={showName:i.a.string.isRequired,hostName:i.a.string.isRequired,imageUrl:i.a.string.isRequired,navigation:i.a.array,path:i.a.string,baseSection:i.a.string,subSection:i.a.string,listenRecord:i.a.instanceOf(d.List),hasMenu:i.a.bool,showImage:i.a.bool},m.defaultProps={showName:"",hostName:"",imageUrl:"",navigation:[],path:"",baseSection:"",subSection:"",listenRecord:null,hasMenu:!0,showImage:!0},e.a=m},787:function(t,e,a){"use strict";a.d(e,"a",(function(){return c})),a.d(e,"b",(function(){return l})),a.d(e,"c",(function(){return u}));var r=a(0),n=a.n(r),o=a(786),i=a(26),s=a(11),c=function(t,e){return e?{baseSection:e.baseSection,subSection:e.subSection,hasMenu:e.hasMenu,hostName:e.host||"",imageUrl:e.image,imageLink:e.imageLink||"",navigation:e.navigation instanceof Array?e.navigation:[],path:t,showName:e.title||"",description:e.description||""}:{section:"",subSection:"",hasMenu:!0,hostName:"",imageUrl:"",imageLink:"",navigation:[],path:t,showName:e?e.title:""}};var l=function(t){var e=null,a=null;if(t.pageType&&"detail"===t.pageType?(a=t.path,e=function(t){var e=!1,a=null,r=!0;for(var n in i.b){if(Object.prototype.hasOwnProperty.call(i.b,n))if(new RegExp("".concat(n,".*-[0-9].[0-9]*"),"g").test(t.path)&&i.b[n].showOnStories){e=!0,a=n,r=Boolean(i.b[n].showMenuOnStories);break}}return e?Object(s.h)(i.b,a,t.baseSection,t.subSection,r):null}(t)):t.app&&(a=t.app.path,e=function(t){var e=!1,a=null;for(var r in i.b)if(Object.prototype.hasOwnProperty.call(i.b,r)){var n=new RegExp("^".concat(r));if(t.app.path===r||i.b[r].showOnAllSubsections&&n.test(t.app.path)){e=!0,a=r;break}}return e?Object(s.h)(i.b,a,t.app.baseSection,t.app.subSection,!0):null}(t)),e){var r=c(a,e);return t.imageUrl&&(r.imageUrl=t.imageUrl),r=u(r,t),n.a.createElement(o.a,r)}return null},u=function(t,e){return t&&!t.imageUrl&&e.rightrail&&e.rightrail.banner&&(t.imageUrl=e.rightrail.banner),t}},788:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(7),i=a.n(o),s=a(40),c=a.n(s),l=a(8),u=a.n(l),p=a(3),h=a.n(p),d=a(6),f=a.n(d),m=a(0),w=a.n(m),y=a(1),b=a.n(y),g=a(425),v=a(173),k=a(784),N=a(20),E=a(2),C=a(46),S=a(67);function R(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return P(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return P(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,n,o=!0,i=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return o=t.done,t},e:function(t){i=!0,n=t},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw n}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var D=function(t){f()(r,t);var e,a=(e=r,function(){var t,a=h()(e);if(T()){var r=h()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return u()(this,t)});function r(t){var e;return n()(this,r),(e=a.call(this,t)).state={isOpen:!1,selectedRadio:"",selectedLocation:"",program:""},e.setLiveRadio=e.setLiveRadio.bind(c()(e)),e.toggleDropdownMenu=e.toggleDropdownMenu.bind(c()(e)),e.selectRadio=e.selectRadio.bind(c()(e)),e.keySelectRadio=e.keySelectRadio.bind(c()(e)),e.launchPlayer=e.launchPlayer.bind(c()(e)),e.keyLaunchPlayer=e.keyLaunchPlayer.bind(c()(e)),e}return i()(r,[{key:"componentDidMount",value:function(){this.getRadioFromStorageAndSetLiveRadio()}},{key:"componentDidUpdate",value:function(t){t!==this.props&&this.getRadioFromStorageAndSetLiveRadio()}},{key:"getRadioFromStorageAndSetLiveRadio",value:function(){this.setLiveRadio(this.getSelectedListenRecord().radio)}},{key:"getMatchingRegion",value:function(t,e){var a,r=R(this.props.listenRecord);try{for(r.s();!(a=r.n()).done;){var n,o=R(a.value.stations);try{for(o.s();!(n=o.n()).done;){var i=n.value;if(i.radio===t&&i.location===e)return i}}catch(s){o.e(s)}finally{o.f()}}}catch(s){r.e(s)}finally{r.f()}}},{key:"getSelectedListenRecord",value:function(){var t=this.state.selectedRadio||Object(C.d)(),e=this.state.selectedLocation||"",a=this.props.showRegionHierarchy?S.a.listenLive:this.props.listenRecord.first();return t?this.props.showRegionHierarchy?this.getMatchingRegion(t,e):this.props.listenRecord.find((function(e){return e.radio===t}),null,a):a}},{key:"setLiveRadio",value:function(t){var e=this;Object(k.b)(t).then((function(t){return e.setState({program:t})}))}},{key:"toggleDropdownMenu",value:function(t){this.setState({isOpen:!this.state.isOpen})}},{key:"selectRadio",value:function(t){var e=t.currentTarget.dataset.radio||"",a=t.currentTarget.dataset.location||"";this.setState({selectedRadio:e,selectedLocation:a,isOpen:!1}),this.setLiveRadio(e)}},{key:"keySelectRadio",value:function(t){13===t.charCode&&this.selectRadio(t)}},{key:"launchPlayer",value:function(t){var e="",a=t.currentTarget.dataset.radio,r=t.currentTarget.dataset.location;e=this.props.showRegionHierarchy?this.getMatchingRegion(a,r):this.props.listenRecord.find((function(t){return a===t.radio})),this.props.updateId("open",e.liveRadioId,"liveaudio")}},{key:"keyLaunchPlayer",value:function(t){32===t.charCode?(t.preventDefault(),this.launchPlayer(t)):13===t.charCode&&this.launchPlayer(t)}},{key:"renderDropDownList",value:function(t){var e=this;return w.a.createElement("ul",{key:"radioRegionList"},t.map((function(t){return w.a.createElement("li",{key:t.location},w.a.createElement("button",{id:"radioRegion-".concat(t.radio),key:t.radio,onClick:e.selectRadio,onKeyPress:e.keySelectRadio,"data-radio":t.radio,"data-location":t.location,value:t.radio},t.location))})))}},{key:"renderDropDownMenu",value:function(){var t=this,e=this.props.listenRecord,a=this.state.isOpen;if(e.size<=1)return null;var r=this.getSelectedListenRecord();return w.a.createElement("div",{className:"locationDropDown"},w.a.createElement("button",{className:"locationButton ".concat(a?"open":""),onClick:this.toggleDropdownMenu,"aria-label":"Choose your region, currently ".concat(r.location),"aria-expanded":a?"true":"false"},r.location,w.a.createElement(g.a,{type:"chevron"})),a?this.props.showRegionHierarchy?w.a.createElement("div",{className:"locationList"},w.a.createElement("h3",{className:"a11y"},"Provinces"),this.props.listenRecord.map((function(e,a){return w.a.createElement("div",{className:"radioRegion",key:"radioRegion-".concat(a)},w.a.createElement("h4",{key:e.province},e.province),t.renderDropDownList(e.stations))}))):this.renderDropDownList(e):null)}},{key:"renderListenRecord",value:function(){var t=this.getSelectedListenRecord(),e=this.state.program,a=t.title?t.title:"CBC Radio One";return w.a.createElement("div",{className:"listenLink",onClick:this.launchPlayer,onKeyPress:this.keyLaunchPlayer,"data-radio":t.radio,"data-location":t.location,role:"button",tabIndex:"0"},w.a.createElement("div",null,w.a.createElement(g.a,{type:"play",height:"25px",width:"25px","aria-label":"play"}),w.a.createElement("div",{className:"schedule nowPlaying"},w.a.createElement("span",{className:"nowPlayingNetwork"},a," ",w.a.createElement("span",{className:"".concat(""===e?"hide":"")},"-")," ",e))))}},{key:"render",value:function(){return w.a.createElement("div",{className:"listenLive ".concat(this.props.listenRecord&&this.props.listenRecord.size>1?"hasDropdown":""," ").concat(this.props.showRegionHierarchy?"showsProvinces":"")},w.a.createElement("h2",{className:"a11y"},"LIVE RADIO"),w.a.createElement("span",{className:"liveLabel"},"LIVE"),this.renderDropDownMenu(),this.renderListenRecord())}}]),r}(w.a.PureComponent);D.propTypes={listenRecord:b.a.instanceOf(E.List),showRegionHierarchy:b.a.bool},D.defaultProps={listenRecord:null,showRegionHierarchy:!1},e.a=Object(N.connect)(null,{updateId:v.b})(D)},790:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return o})),a.d(e,"d",(function(){return i})),a.d(e,"c",(function(){return s}));var r=a(10),n=(Object(r.d)("Client.path.root"),{showName:"",filterType:"segment"}),o="DISPLAY_POLICY_LISTING",i=3,s={"sports/podcasts":"Sports Podcasts","sports/podcasts/hnic":"Hockey Night in Canada Podcast","sports/podcasts/players-own-voice":"Player's Own Voice Podcast"}},791:function(t,e,a){},792:function(t,e,a){"use strict";var r=a(4),n=a.n(r),o=a(7),i=a.n(o),s=a(8),c=a.n(s),l=a(3),u=a.n(l),p=a(6),h=a.n(p),d=a(0),f=a.n(d),m=a(1),w=a.n(m),y=a(20),b=a(5),g=a.n(b),v=a(296),k="We\u2019re experimenting with a new recommendation system that will offer a better way to browse and discover content that interests you.",N=a(40),E=a.n(N),C=a(18),S=a.n(C);a(791);function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var P=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(R()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(t){var e;return n()(this,r),(e=a.call(this,t)).state={disclaimerStatus:!1},e.toggleDisclaimer=e.toggleDisclaimer.bind(E()(e)),e}return i()(r,[{key:"toggleDisclaimer",value:function(){return this.setState({disclaimerStatus:!this.state.disclaimerStatus})}},{key:"render",value:function(){return f.a.createElement("div",{className:"disclaimer-container"},f.a.createElement("div",{className:"disclaimer","data-status":this.state.disclaimerStatus,id:"disclaimer-info"},this.props.disclaimer),f.a.createElement("button",{className:"question-mark sclt-question-mark","aria-describedby":"disclaimer-info","aria-label":"More Information",onClick:this.toggleDisclaimer},this.state.disclaimerStatus?"X":"?"))}}]),r}(f.a.PureComponent);S()(P,"defaultProps",{disclaimer:""});var T=a(142),D=a(92),x=a(199),I=a(154),B=a(281),L=a(13),F=a(43),A=a.n(F);function O(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var j=function(t){h()(r,t);var e,a=(e=r,function(){var t,a=u()(e);if(O()){var r=u()(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return c()(this,t)});function r(){return n()(this,r),a.apply(this,arguments)}return i()(r,[{key:"componentDidMount",value:function(){this.props.shouldFetch&&this.props.dispatch(Object(v.a)(this.props.itemCount))}},{key:"shouldComponentUpdate",value:function(t){return!this.props.items||!this.props.items.equals(t.items)}},{key:"getExpandedDisclaimer",value:function(){return f.a.createElement("div",{className:"nboxExplainerTitle"},f.a.createElement("h2",{className:"title"},"Recommended"),f.a.createElement("div",null,f.a.createElement("p",null,f.a.createElement(L.a,{url:"".concat("https://cbchelp.cbc.ca/hc/en-us/articles/115004993533-New-CBC-Recommendations-on-search-page"),external:!0},f.a.createElement("span",{className:"question-mark","aria-hidden":"true"},"?"),"How does this work?")),f.a.createElement("p",{className:"revealer"},k)))}},{key:"renderLayoutVariation",value:function(){var t={items:this.props.items,key:"nbox-widget-".concat(A()()),id:"__nbox_".concat(this.props.type,"__"),fetchSection:!1,headline:"Recommended for you",itemCount:this.props.itemCount,className:"recommended",displayPolicy:this.props.displayPolicy,customTitleBar:this.props.expandedDisclaimer?this.getExpandedDisclaimer():null,title:this.props.title,section:"recommended",loadMore:!1,trackingSection:"contentlist-recommended",forcedImageAspectRatio:"16x9",cardClickHandler:null},e=g()("recommendations",this.props.className,this.props.layout),a="horizontal"===this.props.layout?f.a.createElement(B.a.H2,null,"Recommended for you"):null,r=this.props.expandedDisclaimer?null:f.a.createElement(P,{disclaimer:k}),n="horizontal"===this.props.layout?f.a.createElement(T.a,t):f.a.createElement(I.a,t);return f.a.createElement("div",{className:e,key:A()()},r,a,n)}},{key:"render",value:function(){var t=this.props.items;return t&&t.size?this.renderLayoutVariation():null}}]),r}(f.a.Component);j.propTypes={layout:w.a.string,dispatch:w.a.func,itemCount:w.a.number,shouldFetch:w.a.bool,expandedDisclaimer:w.a.bool,title:w.a.string,displayPolicy:w.a.instanceOf(D.a),items:w.a.object,type:w.a.string},j.defaultProps={layout:"horizontal",dispatch:function(){},itemCount:5,shouldFetch:!0,expandedDisclaimer:!1,title:"",displayPolicy:new x.a,items:null,type:""};e.a=Object(y.connect)((function(t){return{type:t.nbox?t.nbox.type:null,items:t.nbox?t.nbox.items:null}}))(j)},793:function(t,e,a){t.exports=a.p+"static/media/AccountIcon.svg"},794:function(t,e,a){}}]);